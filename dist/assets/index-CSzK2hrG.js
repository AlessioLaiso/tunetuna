const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CjIw34b_.js","assets/search-BOaPrkaD.js","assets/FilterBottomSheet-CF5aVlGz.js","assets/calendar-C9KQbJzW.js","assets/ArtistsPage-DQbwLxPW.js","assets/Pagination-B9FRLs7D.js","assets/arrow-up-down-DnJ9a3Ov.js","assets/AlbumsPage-CWiL8gus.js","assets/SearchArtistItem-H6E-vXTx.js","assets/SongsPage-C_f9djjn.js","assets/SongItem-C-oL5asR.js","assets/PlaylistsPage-B0G-VJNx.js","assets/PlaylistDetailPage-CCfAQZL4.js","assets/arrow-left-DEhp5iD0.js","assets/ellipsis-C06Yzc8F.js","assets/SettingsPage-CKujRuyL.js","assets/ArtistDetailPage-BiVbu4Fi.js","assets/useScrollLazyLoad-BOVOrKYT.js","assets/chevron-up-CBgnyLIC.js","assets/AlbumDetailPage-z9AZqrnH.js","assets/GenreSongsPage-EbA9tbDB.js"])))=>i.map(i=>d[i]);
var Uf=Object.defineProperty;var Ff=(e,t,n)=>t in e?Uf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wt=(e,t,n)=>Ff(e,typeof t!="symbol"?t+"":t,n);function Bf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(r,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tc={exports:{}},xo={},nc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Qf=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Wf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Kf=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),Ca=Symbol.iterator;function Zf(e){return e===null||typeof e!="object"?null:(e=Ca&&e[Ca]||e["@@iterator"],typeof e=="function"?e:null)}var rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lc=Object.assign,oc={};function or(e,t,n){this.props=e,this.context=t,this.refs=oc,this.updater=n||rc}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sc(){}sc.prototype=or.prototype;function pi(e,t,n){this.props=e,this.context=t,this.refs=oc,this.updater=n||rc}var gi=pi.prototype=new sc;gi.constructor=pi;lc(gi,or.prototype);gi.isPureReactComponent=!0;var Pa=Array.isArray,ic=Object.prototype.hasOwnProperty,yi={current:null},ac={key:!0,ref:!0,__self:!0,__source:!0};function uc(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ic.call(t,r)&&!ac.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var a=Array(i),u=0;u<i;u++)a[u]=arguments[u+2];l.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:nl,type:e,key:o,ref:s,props:l,_owner:yi.current}}function eh(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vi(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function th(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ja=/\/+/g;function Uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?th(""+e.key):t.toString(36)}function Tl(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nl:case Vf:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+Uo(s,0):r,Pa(l)?(n="",e!=null&&(n=e.replace(ja,"$&/")+"/"),Tl(l,t,n,"",function(u){return u})):l!=null&&(vi(l)&&(l=eh(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(ja,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",Pa(e))for(var i=0;i<e.length;i++){o=e[i];var a=r+Uo(o,i);s+=Tl(o,t,n,a,l)}else if(a=Zf(e),typeof a=="function")for(e=a.call(e),i=0;!(o=e.next()).done;)o=o.value,a=r+Uo(o,i++),s+=Tl(o,t,n,a,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function al(e,t,n){if(e==null)return e;var r=[],l=0;return Tl(e,r,"","",function(o){return t.call(n,o,l++)}),r}function nh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Rl={transition:null},rh={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:yi};function cc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:al,forEach:function(e,t,n){al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!vi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=or;K.Fragment=Qf;K.Profiler=Hf;K.PureComponent=pi;K.StrictMode=Gf;K.Suspense=Xf;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rh;K.act=cc;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lc({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=yi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)ic.call(t,a)&&!ac.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var u=0;u<a;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:nl,type:e.type,key:l,ref:o,props:r,_owner:s}};K.createContext=function(e){return e={$$typeof:Yf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wf,_context:e},e.Consumer=e};K.createElement=uc;K.createFactory=function(e){var t=uc.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:qf,render:e}};K.isValidElement=vi;K.lazy=function(e){return{$$typeof:Jf,_payload:{_status:-1,_result:e},_init:nh}};K.memo=function(e,t){return{$$typeof:Kf,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};K.unstable_act=cc;K.useCallback=function(e,t){return Ue.current.useCallback(e,t)};K.useContext=function(e){return Ue.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ue.current.useEffect(e,t)};K.useId=function(){return Ue.current.useId()};K.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ue.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};K.useRef=function(e){return Ue.current.useRef(e)};K.useState=function(e){return Ue.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ue.current.useTransition()};K.version="18.3.1";nc.exports=K;var y=nc.exports;const xi=ec(y),lh=Bf({__proto__:null,default:xi},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=y,sh=Symbol.for("react.element"),ih=Symbol.for("react.fragment"),ah=Object.prototype.hasOwnProperty,uh=oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ch={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ah.call(t,r)&&!ch.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:sh,type:e,key:o,ref:s,props:l,_owner:uh.current}}xo.Fragment=ih;xo.jsx=dc;xo.jsxs=dc;tc.exports=xo;var c=tc.exports,ys={},fc={exports:{}},et={},hc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var O=C.length;C.push(A);e:for(;0<O;){var Q=O-1>>>1,W=C[Q];if(0<l(W,A))C[Q]=A,C[O]=W,O=Q;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var A=C[0],O=C.pop();if(O!==A){C[0]=O;e:for(var Q=0,W=C.length,$=W>>>1;Q<$;){var J=2*(Q+1)-1,fe=C[J],me=J+1,Be=C[me];if(0>l(fe,O))me<W&&0>l(Be,fe)?(C[Q]=Be,C[me]=O,Q=me):(C[Q]=fe,C[J]=O,Q=J);else if(me<W&&0>l(Be,O))C[Q]=Be,C[me]=O,Q=me;else break e}}return A}function l(C,A){var O=C.sortIndex-A.sortIndex;return O!==0?O:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var a=[],u=[],m=1,d=null,h=3,w=!1,k=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=C)r(u),A.sortIndex=A.expirationTime,t(a,A);else break;A=n(u)}}function I(C){if(v=!1,g(C),!k)if(n(a)!==null)k=!0,R(x);else{var A=n(u);A!==null&&F(I,A.startTime-C)}}function x(C,A){k=!1,v&&(v=!1,p(P),P=-1),w=!0;var O=h;try{for(g(A),d=n(a);d!==null&&(!(d.expirationTime>A)||C&&!G());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var W=Q(d.expirationTime<=A);A=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(a)&&r(a),g(A)}else r(a);d=n(a)}if(d!==null)var $=!0;else{var J=n(u);J!==null&&F(I,J.startTime-A),$=!1}return $}finally{d=null,h=O,w=!1}}var N=!1,E=null,P=-1,T=5,_=-1;function G(){return!(e.unstable_now()-_<T)}function oe(){if(E!==null){var C=e.unstable_now();_=C;var A=!0;try{A=E(!0,C)}finally{A?de():(N=!1,E=null)}}else N=!1}var de;if(typeof f=="function")de=function(){f(oe)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=oe,de=function(){D.postMessage(null)}}else de=function(){S(oe,0)};function R(C){E=C,N||(N=!0,de())}function F(C,A){P=S(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,R(x))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var O=h;h=A;try{return C()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var O=h;h=C;try{return A()}finally{h=O}},e.unstable_scheduleCallback=function(C,A,O){var Q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,C){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,C={id:m++,callback:A,priorityLevel:C,startTime:O,expirationTime:W,sortIndex:-1},O>Q?(C.sortIndex=O,t(u,C),n(a)===null&&C===n(u)&&(v?(p(P),P=-1):v=!0,F(I,O-Q))):(C.sortIndex=W,t(a,C),k||w||(k=!0,R(x))),C},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(C){var A=h;return function(){var O=h;h=A;try{return C.apply(this,arguments)}finally{h=O}}}})(mc);hc.exports=mc;var dh=hc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=y,Ze=dh;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pc=new Set,Mr={};function Pn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Mr[e]=t,e=0;e<t.length;e++)pc.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=Object.prototype.hasOwnProperty,hh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ta={},Ra={};function mh(e){return vs.call(Ra,e)?!0:vs.call(Ta,e)?!1:hh.test(e)?Ra[e]=!0:(Ta[e]=!0,!1)}function ph(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gh(e,t,n,r){if(t===null||typeof t>"u"||ph(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var wi=/[\-:]([a-z])/g;function Si(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wi,Si);_e[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wi,Si);_e[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wi,Si);_e[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ki(e,t,n,r){var l=_e.hasOwnProperty(t)?_e[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gh(t,n,l,r)&&(n=null),r||l===null?mh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ot=fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),An=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Ii=Symbol.for("react.strict_mode"),xs=Symbol.for("react.profiler"),gc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),Ni=Symbol.for("react.forward_ref"),ws=Symbol.for("react.suspense"),Ss=Symbol.for("react.suspense_list"),Ei=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),vc=Symbol.for("react.offscreen"),_a=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=_a&&e[_a]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Fo;function Sr(e){if(Fo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fo=t&&t[1]||""}return`
`+Fo+e}var Bo=!1;function Vo(e,t){if(!e||Bo)return"";Bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,i=o.length-1;1<=s&&0<=i&&l[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(l[s]!==o[i]){if(s!==1||i!==1)do if(s--,i--,0>i||l[s]!==o[i]){var a=`
`+l[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=i);break}}}finally{Bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sr(e):""}function yh(e){switch(e.tag){case 5:return Sr(e.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function ks(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case An:return"Portal";case xs:return"Profiler";case Ii:return"StrictMode";case ws:return"Suspense";case Ss:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yc:return(e.displayName||"Context")+".Consumer";case gc:return(e._context.displayName||"Context")+".Provider";case Ni:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ei:return t=e.displayName||null,t!==null?t:ks(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return ks(e(t))}catch{}}return null}function vh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ks(t);case 8:return t===Ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xh(e){var t=xc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=xh(e))}function wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Is(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Aa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sc(e,t){t=t.checked,t!=null&&ki(e,"checked",t,!1)}function Ns(e,t){Sc(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Es(e,t.type,n):t.hasOwnProperty("defaultValue")&&Es(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function La(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Es(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kr=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Cs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ma(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(kr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function kc(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function za(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ic(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ps(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ic(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dl,Nc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){wh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function Ec(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function Cc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Ec(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Sh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function js(e,t){if(t){if(Sh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Ts(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Ci(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Gn=null,Hn=null;function Da(e){if(e=ol(e)){if(typeof _s!="function")throw Error(j(280));var t=e.stateNode;t&&(t=No(t),_s(e.stateNode,e.type,t))}}function Pc(e){Gn?Hn?Hn.push(e):Hn=[e]:Gn=e}function jc(){if(Gn){var e=Gn,t=Hn;if(Hn=Gn=null,Da(e),t)for(e=0;e<t.length;e++)Da(t[e])}}function Tc(e,t){return e(t)}function Rc(){}var Qo=!1;function _c(e,t,n){if(Qo)return e(t,n);Qo=!0;try{return Tc(e,t,n)}finally{Qo=!1,(Gn!==null||Hn!==null)&&(Rc(),jc())}}function Dr(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var As=!1;if(Mt)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){As=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{As=!1}function kh(e,t,n,r,l,o,s,i,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Cr=!1,Ql=null,Gl=!1,Ls=null,Ih={onError:function(e){Cr=!0,Ql=e}};function Nh(e,t,n,r,l,o,s,i,a){Cr=!1,Ql=null,kh.apply(Ih,arguments)}function Eh(e,t,n,r,l,o,s,i,a){if(Nh.apply(this,arguments),Cr){if(Cr){var u=Ql;Cr=!1,Ql=null}else throw Error(j(198));Gl||(Gl=!0,Ls=u)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ac(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ba(e){if(jn(e)!==e)throw Error(j(188))}function Ch(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return ba(l),e;if(o===r)return ba(l),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Lc(e){return e=Ch(e),e!==null?Mc(e):null}function Mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mc(e);if(t!==null)return t;e=e.sibling}return null}var zc=Ze.unstable_scheduleCallback,Oa=Ze.unstable_cancelCallback,Ph=Ze.unstable_shouldYield,jh=Ze.unstable_requestPaint,we=Ze.unstable_now,Th=Ze.unstable_getCurrentPriorityLevel,Pi=Ze.unstable_ImmediatePriority,Dc=Ze.unstable_UserBlockingPriority,Hl=Ze.unstable_NormalPriority,Rh=Ze.unstable_LowPriority,bc=Ze.unstable_IdlePriority,wo=null,Nt=null;function _h(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(wo,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Mh,Ah=Math.log,Lh=Math.LN2;function Mh(e){return e>>>=0,e===0?32:31-(Ah(e)/Lh|0)|0}var fl=64,hl=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~l;i!==0?r=Ir(i):(o&=s,o!==0&&(r=Ir(o)))}else s=n&~l,s!==0?r=Ir(s):o!==0&&(r=Ir(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),l=1<<n,r|=e[n],t&=~l;return r}function zh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-mt(o),i=1<<s,a=l[s];a===-1?(!(i&n)||i&r)&&(l[s]=zh(i,t)):a<=t&&(e.expiredLanes|=i),o&=~i}}function Ms(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oc(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function Go(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function bh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-mt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function ji(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ne=0;function $c(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uc,Ti,Fc,Bc,Vc,zs=!1,ml=[],qt=null,Xt=null,Kt=null,br=new Map,Or=new Map,Qt=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function pr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=ol(t),t!==null&&Ti(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function $h(e,t,n,r,l){switch(t){case"focusin":return qt=pr(qt,e,t,n,r,l),!0;case"dragenter":return Xt=pr(Xt,e,t,n,r,l),!0;case"mouseover":return Kt=pr(Kt,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return br.set(o,pr(br.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Or.set(o,pr(Or.get(o)||null,e,t,n,r,l)),!0}return!1}function Qc(e){var t=yn(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ac(n),t!==null){e.blockedOn=t,Vc(e.priority,function(){Fc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rs=r,n.target.dispatchEvent(r),Rs=null}else return t=ol(n),t!==null&&Ti(t),e.blockedOn=n,!1;t.shift()}return!0}function Ua(e,t,n){_l(e)&&n.delete(t)}function Uh(){zs=!1,qt!==null&&_l(qt)&&(qt=null),Xt!==null&&_l(Xt)&&(Xt=null),Kt!==null&&_l(Kt)&&(Kt=null),br.forEach(Ua),Or.forEach(Ua)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,zs||(zs=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Uh)))}function $r(e){function t(l){return gr(l,e)}if(0<ml.length){gr(ml[0],e);for(var n=1;n<ml.length;n++){var r=ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qt!==null&&gr(qt,e),Xt!==null&&gr(Xt,e),Kt!==null&&gr(Kt,e),br.forEach(t),Or.forEach(t),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)Qc(n),n.blockedOn===null&&Qt.shift()}var Wn=Ot.ReactCurrentBatchConfig,Yl=!0;function Fh(e,t,n,r){var l=ne,o=Wn.transition;Wn.transition=null;try{ne=1,Ri(e,t,n,r)}finally{ne=l,Wn.transition=o}}function Bh(e,t,n,r){var l=ne,o=Wn.transition;Wn.transition=null;try{ne=4,Ri(e,t,n,r)}finally{ne=l,Wn.transition=o}}function Ri(e,t,n,r){if(Yl){var l=Ds(e,t,n,r);if(l===null)ts(e,t,r,ql,n),$a(e,r);else if($h(l,e,t,n,r))r.stopPropagation();else if($a(e,r),t&4&&-1<Oh.indexOf(e)){for(;l!==null;){var o=ol(l);if(o!==null&&Uc(o),o=Ds(e,t,n,r),o===null&&ts(e,t,r,ql,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else ts(e,t,r,null,n)}}var ql=null;function Ds(e,t,n,r){if(ql=null,e=Ci(r),e=yn(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ac(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function Gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Th()){case Pi:return 1;case Dc:return 4;case Hl:case Rh:return 16;case bc:return 536870912;default:return 16}default:return 16}}var Ht=null,_i=null,Al=null;function Hc(){if(Al)return Al;var e,t=_i,n=t.length,r,l="value"in Ht?Ht.value:Ht.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return Al=l.slice(e,1<r?1-r:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pl(){return!0}function Fa(){return!1}function tt(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pl:Fa,this.isPropagationStopped=Fa,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=tt(sr),ll=ye({},sr,{view:0,detail:0}),Vh=tt(ll),Ho,Wo,yr,So=ye({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(Ho=e.screenX-yr.screenX,Wo=e.screenY-yr.screenY):Wo=Ho=0,yr=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Ba=tt(So),Qh=ye({},So,{dataTransfer:0}),Gh=tt(Qh),Hh=ye({},ll,{relatedTarget:0}),Yo=tt(Hh),Wh=ye({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yh=tt(Wh),qh=ye({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xh=tt(qh),Kh=ye({},sr,{data:0}),Va=tt(Kh),Jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=em[e])?!!t[e]:!1}function Li(){return tm}var nm=ye({},ll,{key:function(e){if(e.key){var t=Jh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rm=tt(nm),lm=ye({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=tt(lm),om=ye({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),sm=tt(om),im=ye({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),am=tt(im),um=ye({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=tt(um),dm=[9,13,27,32],Mi=Mt&&"CompositionEvent"in window,Pr=null;Mt&&"documentMode"in document&&(Pr=document.documentMode);var fm=Mt&&"TextEvent"in window&&!Pr,Wc=Mt&&(!Mi||Pr&&8<Pr&&11>=Pr),Ga=" ",Ha=!1;function Yc(e,t){switch(e){case"keyup":return dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function hm(e,t){switch(e){case"compositionend":return qc(t);case"keypress":return t.which!==32?null:(Ha=!0,Ga);case"textInput":return e=t.data,e===Ga&&Ha?null:e;default:return null}}function mm(e,t){if(Mn)return e==="compositionend"||!Mi&&Yc(e,t)?(e=Hc(),Al=_i=Ht=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wc&&t.locale!=="ko"?null:t.data;default:return null}}var pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pm[e.type]:t==="textarea"}function Xc(e,t,n,r){Pc(r),t=Xl(t,"onChange"),0<t.length&&(n=new Ai("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jr=null,Ur=null;function gm(e){id(e,0)}function ko(e){var t=bn(e);if(wc(t))return e}function ym(e,t){if(e==="change")return t}var Kc=!1;if(Mt){var qo;if(Mt){var Xo="oninput"in document;if(!Xo){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),Xo=typeof Ya.oninput=="function"}qo=Xo}else qo=!1;Kc=qo&&(!document.documentMode||9<document.documentMode)}function qa(){jr&&(jr.detachEvent("onpropertychange",Jc),Ur=jr=null)}function Jc(e){if(e.propertyName==="value"&&ko(Ur)){var t=[];Xc(t,Ur,e,Ci(e)),_c(gm,t)}}function vm(e,t,n){e==="focusin"?(qa(),jr=t,Ur=n,jr.attachEvent("onpropertychange",Jc)):e==="focusout"&&qa()}function xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(Ur)}function wm(e,t){if(e==="click")return ko(t)}function Sm(e,t){if(e==="input"||e==="change")return ko(t)}function km(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:km;function Fr(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!vs.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function Xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ka(e,t){var n=Xa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xa(n)}}function Zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Im(e){var t=ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zc(n.ownerDocument.documentElement,n)){if(r!==null&&zi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Ka(n,o);var s=Ka(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nm=Mt&&"documentMode"in document&&11>=document.documentMode,zn=null,bs=null,Tr=null,Os=!1;function Ja(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Os||zn==null||zn!==Vl(r)||(r=zn,"selectionStart"in r&&zi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tr&&Fr(Tr,r)||(Tr=r,r=Xl(bs,"onSelect"),0<r.length&&(t=new Ai("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zn)))}function gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dn={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},Ko={},td={};Mt&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Io(e){if(Ko[e])return Ko[e];if(!Dn[e])return e;var t=Dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in td)return Ko[e]=t[n];return e}var nd=Io("animationend"),rd=Io("animationiteration"),ld=Io("animationstart"),od=Io("transitionend"),sd=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){sd.set(e,t),Pn(t,[e])}for(var Jo=0;Jo<Za.length;Jo++){var Zo=Za[Jo],Em=Zo.toLowerCase(),Cm=Zo[0].toUpperCase()+Zo.slice(1);an(Em,"on"+Cm)}an(nd,"onAnimationEnd");an(rd,"onAnimationIteration");an(ld,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(od,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function eu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Eh(r,t,void 0,e),e.currentTarget=null}function id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],a=i.instance,u=i.currentTarget;if(i=i.listener,a!==o&&l.isPropagationStopped())break e;eu(l,i,u),o=a}else for(s=0;s<r.length;s++){if(i=r[s],a=i.instance,u=i.currentTarget,i=i.listener,a!==o&&l.isPropagationStopped())break e;eu(l,i,u),o=a}}}if(Gl)throw e=Ls,Gl=!1,Ls=null,e}function ue(e,t){var n=t[Vs];n===void 0&&(n=t[Vs]=new Set);var r=e+"__bubble";n.has(r)||(ad(t,e,2,!1),n.add(r))}function es(e,t,n){var r=0;t&&(r|=4),ad(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[yl]){e[yl]=!0,pc.forEach(function(n){n!=="selectionchange"&&(Pm.has(n)||es(n,!1,e),es(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,es("selectionchange",!1,t))}}function ad(e,t,n,r){switch(Gc(t)){case 1:var l=Fh;break;case 4:l=Bh;break;default:l=Ri}n=l.bind(null,t,n,e),l=void 0,!As||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ts(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;i!==null;){if(s=yn(i),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}i=i.parentNode}}r=r.return}_c(function(){var u=o,m=Ci(n),d=[];e:{var h=sd.get(e);if(h!==void 0){var w=Ai,k=e;switch(e){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":w=rm;break;case"focusin":k="focus",w=Yo;break;case"focusout":k="blur",w=Yo;break;case"beforeblur":case"afterblur":w=Yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=sm;break;case nd:case rd:case ld:w=Yh;break;case od:w=am;break;case"scroll":w=Vh;break;case"wheel":w=cm;break;case"copy":case"cut":case"paste":w=Xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Qa}var v=(t&4)!==0,S=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var f=u,g;f!==null;){g=f;var I=g.stateNode;if(g.tag===5&&I!==null&&(g=I,p!==null&&(I=Dr(f,p),I!=null&&v.push(Vr(f,I,g)))),S)break;f=f.return}0<v.length&&(h=new w(h,k,null,n,m),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==Rs&&(k=n.relatedTarget||n.fromElement)&&(yn(k)||k[zt]))break e;if((w||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=u,k=k?yn(k):null,k!==null&&(S=jn(k),k!==S||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=u),w!==k)){if(v=Ba,I="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Qa,I="onPointerLeave",p="onPointerEnter",f="pointer"),S=w==null?h:bn(w),g=k==null?h:bn(k),h=new v(I,f+"leave",w,n,m),h.target=S,h.relatedTarget=g,I=null,yn(m)===u&&(v=new v(p,f+"enter",k,n,m),v.target=g,v.relatedTarget=S,I=v),S=I,w&&k)t:{for(v=w,p=k,f=0,g=v;g;g=Tn(g))f++;for(g=0,I=p;I;I=Tn(I))g++;for(;0<f-g;)v=Tn(v),f--;for(;0<g-f;)p=Tn(p),g--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=Tn(v),p=Tn(p)}v=null}else v=null;w!==null&&tu(d,h,w,v,!1),k!==null&&S!==null&&tu(d,S,k,v,!0)}}e:{if(h=u?bn(u):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var x=ym;else if(Wa(h))if(Kc)x=Sm;else{x=xm;var N=vm}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=wm);if(x&&(x=x(e,u))){Xc(d,x,n,m);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Es(h,"number",h.value)}switch(N=u?bn(u):window,e){case"focusin":(Wa(N)||N.contentEditable==="true")&&(zn=N,bs=u,Tr=null);break;case"focusout":Tr=bs=zn=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Ja(d,n,m);break;case"selectionchange":if(Nm)break;case"keydown":case"keyup":Ja(d,n,m)}var E;if(Mi)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Mn?Yc(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Wc&&n.locale!=="ko"&&(Mn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Mn&&(E=Hc()):(Ht=m,_i="value"in Ht?Ht.value:Ht.textContent,Mn=!0)),N=Xl(u,P),0<N.length&&(P=new Va(P,e,null,n,m),d.push({event:P,listeners:N}),E?P.data=E:(E=qc(n),E!==null&&(P.data=E)))),(E=fm?hm(e,n):mm(e,n))&&(u=Xl(u,"onBeforeInput"),0<u.length&&(m=new Va("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:u}),m.data=E))}id(d,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Dr(e,n),o!=null&&r.unshift(Vr(e,o,l)),o=Dr(e,t),o!=null&&r.push(Vr(e,o,l))),e=e.return}return r}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tu(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,a=i.alternate,u=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&u!==null&&(i=u,l?(a=Dr(n,o),a!=null&&s.unshift(Vr(n,a,i))):l||(a=Dr(n,o),a!=null&&s.push(Vr(n,a,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var jm=/\r\n?/g,Tm=/\u0000|\uFFFD/g;function nu(e){return(typeof e=="string"?e:""+e).replace(jm,`
`).replace(Tm,"")}function vl(e,t,n){if(t=nu(t),nu(e)!==t&&n)throw Error(j(425))}function Kl(){}var $s=null,Us=null;function Fs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,Rm=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,_m=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(e){return ru.resolve(null).then(e).catch(Am)}:Bs;function Am(e){setTimeout(function(){throw e})}function ns(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),$r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);$r(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),It="__reactFiber$"+ir,Qr="__reactProps$"+ir,zt="__reactContainer$"+ir,Vs="__reactEvents$"+ir,Lm="__reactListeners$"+ir,Mm="__reactHandles$"+ir;function yn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lu(e);e!==null;){if(n=e[It])return n;e=lu(e)}return t}e=n,n=e.parentNode}return null}function ol(e){return e=e[It]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function No(e){return e[Qr]||null}var Qs=[],On=-1;function un(e){return{current:e}}function ce(e){0>On||(e.current=Qs[On],Qs[On]=null,On--)}function se(e,t){On++,Qs[On]=e.current,e.current=t}var sn={},ze=un(sn),Ge=un(!1),kn=sn;function Jn(e,t){var n=e.type.contextTypes;if(!n)return sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function He(e){return e=e.childContextTypes,e!=null}function Jl(){ce(Ge),ce(ze)}function ou(e,t,n){if(ze.current!==sn)throw Error(j(168));se(ze,t),se(Ge,n)}function ud(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(j(108,vh(e)||"Unknown",l));return ye({},n,r)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,kn=ze.current,se(ze,e),se(Ge,Ge.current),!0}function su(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=ud(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,ce(Ge),ce(ze),se(ze,e)):ce(Ge),se(Ge,n)}var jt=null,Eo=!1,rs=!1;function cd(e){jt===null?jt=[e]:jt.push(e)}function zm(e){Eo=!0,cd(e)}function cn(){if(!rs&&jt!==null){rs=!0;var e=0,t=ne;try{var n=jt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,Eo=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),zc(Pi,cn),l}finally{ne=t,rs=!1}}return null}var $n=[],Un=0,eo=null,to=0,rt=[],lt=0,In=null,Tt=1,Rt="";function pn(e,t){$n[Un++]=to,$n[Un++]=eo,eo=e,to=t}function dd(e,t,n){rt[lt++]=Tt,rt[lt++]=Rt,rt[lt++]=In,In=e;var r=Tt;e=Rt;var l=32-mt(r)-1;r&=~(1<<l),n+=1;var o=32-mt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Tt=1<<32-mt(t)+l|n<<l|r,Rt=o+e}else Tt=1<<o|n<<l|r,Rt=e}function Di(e){e.return!==null&&(pn(e,1),dd(e,1,0))}function bi(e){for(;e===eo;)eo=$n[--Un],$n[Un]=null,to=$n[--Un],$n[Un]=null;for(;e===In;)In=rt[--lt],rt[lt]=null,Rt=rt[--lt],rt[lt]=null,Tt=rt[--lt],rt[lt]=null}var Je=null,Ke=null,he=!1,ht=null;function fd(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ke=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Tt,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ke=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hs(e){if(he){var t=Ke;if(t){var n=t;if(!iu(e,t)){if(Gs(e))throw Error(j(418));t=Jt(n.nextSibling);var r=Je;t&&iu(e,t)?fd(r,n):(e.flags=e.flags&-4097|2,he=!1,Je=e)}}else{if(Gs(e))throw Error(j(418));e.flags=e.flags&-4097|2,he=!1,Je=e}}}function au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function xl(e){if(e!==Je)return!1;if(!he)return au(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fs(e.type,e.memoizedProps)),t&&(t=Ke)){if(Gs(e))throw hd(),Error(j(418));for(;t;)fd(e,t),t=Jt(t.nextSibling)}if(au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Je?Jt(e.stateNode.nextSibling):null;return!0}function hd(){for(var e=Ke;e;)e=Jt(e.nextSibling)}function Zn(){Ke=Je=null,he=!1}function Oi(e){ht===null?ht=[e]:ht.push(e)}var Dm=Ot.ReactCurrentBatchConfig;function vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var i=l.refs;s===null?delete i[o]:i[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function wl(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uu(e){var t=e._init;return t(e._payload)}function md(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function l(p,f){return p=nn(p,f),p.index=0,p.sibling=null,p}function o(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,f,g,I){return f===null||f.tag!==6?(f=cs(g,p.mode,I),f.return=p,f):(f=l(f,g),f.return=p,f)}function a(p,f,g,I){var x=g.type;return x===Ln?m(p,f,g.props.children,I,g.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Bt&&uu(x)===f.type)?(I=l(f,g.props),I.ref=vr(p,f,g),I.return=p,I):(I=Ul(g.type,g.key,g.props,null,p.mode,I),I.ref=vr(p,f,g),I.return=p,I)}function u(p,f,g,I){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=ds(g,p.mode,I),f.return=p,f):(f=l(f,g.children||[]),f.return=p,f)}function m(p,f,g,I,x){return f===null||f.tag!==7?(f=Sn(g,p.mode,I,x),f.return=p,f):(f=l(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=cs(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ul:return g=Ul(f.type,f.key,f.props,null,p.mode,g),g.ref=vr(p,null,f),g.return=p,g;case An:return f=ds(f,p.mode,g),f.return=p,f;case Bt:var I=f._init;return d(p,I(f._payload),g)}if(kr(f)||hr(f))return f=Sn(f,p.mode,g,null),f.return=p,f;wl(p,f)}return null}function h(p,f,g,I){var x=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:i(p,f,""+g,I);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return g.key===x?a(p,f,g,I):null;case An:return g.key===x?u(p,f,g,I):null;case Bt:return x=g._init,h(p,f,x(g._payload),I)}if(kr(g)||hr(g))return x!==null?null:m(p,f,g,I,null);wl(p,g)}return null}function w(p,f,g,I,x){if(typeof I=="string"&&I!==""||typeof I=="number")return p=p.get(g)||null,i(f,p,""+I,x);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ul:return p=p.get(I.key===null?g:I.key)||null,a(f,p,I,x);case An:return p=p.get(I.key===null?g:I.key)||null,u(f,p,I,x);case Bt:var N=I._init;return w(p,f,g,N(I._payload),x)}if(kr(I)||hr(I))return p=p.get(g)||null,m(f,p,I,x,null);wl(f,I)}return null}function k(p,f,g,I){for(var x=null,N=null,E=f,P=f=0,T=null;E!==null&&P<g.length;P++){E.index>P?(T=E,E=null):T=E.sibling;var _=h(p,E,g[P],I);if(_===null){E===null&&(E=T);break}e&&E&&_.alternate===null&&t(p,E),f=o(_,f,P),N===null?x=_:N.sibling=_,N=_,E=T}if(P===g.length)return n(p,E),he&&pn(p,P),x;if(E===null){for(;P<g.length;P++)E=d(p,g[P],I),E!==null&&(f=o(E,f,P),N===null?x=E:N.sibling=E,N=E);return he&&pn(p,P),x}for(E=r(p,E);P<g.length;P++)T=w(E,p,P,g[P],I),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?P:T.key),f=o(T,f,P),N===null?x=T:N.sibling=T,N=T);return e&&E.forEach(function(G){return t(p,G)}),he&&pn(p,P),x}function v(p,f,g,I){var x=hr(g);if(typeof x!="function")throw Error(j(150));if(g=x.call(g),g==null)throw Error(j(151));for(var N=x=null,E=f,P=f=0,T=null,_=g.next();E!==null&&!_.done;P++,_=g.next()){E.index>P?(T=E,E=null):T=E.sibling;var G=h(p,E,_.value,I);if(G===null){E===null&&(E=T);break}e&&E&&G.alternate===null&&t(p,E),f=o(G,f,P),N===null?x=G:N.sibling=G,N=G,E=T}if(_.done)return n(p,E),he&&pn(p,P),x;if(E===null){for(;!_.done;P++,_=g.next())_=d(p,_.value,I),_!==null&&(f=o(_,f,P),N===null?x=_:N.sibling=_,N=_);return he&&pn(p,P),x}for(E=r(p,E);!_.done;P++,_=g.next())_=w(E,p,P,_.value,I),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?P:_.key),f=o(_,f,P),N===null?x=_:N.sibling=_,N=_);return e&&E.forEach(function(oe){return t(p,oe)}),he&&pn(p,P),x}function S(p,f,g,I){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:e:{for(var x=g.key,N=f;N!==null;){if(N.key===x){if(x=g.type,x===Ln){if(N.tag===7){n(p,N.sibling),f=l(N,g.props.children),f.return=p,p=f;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Bt&&uu(x)===N.type){n(p,N.sibling),f=l(N,g.props),f.ref=vr(p,N,g),f.return=p,p=f;break e}n(p,N);break}else t(p,N);N=N.sibling}g.type===Ln?(f=Sn(g.props.children,p.mode,I,g.key),f.return=p,p=f):(I=Ul(g.type,g.key,g.props,null,p.mode,I),I.ref=vr(p,f,g),I.return=p,p=I)}return s(p);case An:e:{for(N=g.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=l(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=ds(g,p.mode,I),f.return=p,p=f}return s(p);case Bt:return N=g._init,S(p,f,N(g._payload),I)}if(kr(g))return k(p,f,g,I);if(hr(g))return v(p,f,g,I);wl(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=l(f,g),f.return=p,p=f):(n(p,f),f=cs(g,p.mode,I),f.return=p,p=f),s(p)):n(p,f)}return S}var er=md(!0),pd=md(!1),no=un(null),ro=null,Fn=null,$i=null;function Ui(){$i=Fn=ro=null}function Fi(e){var t=no.current;ce(no),e._currentValue=t}function Ws(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){ro=e,$i=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(ro===null)throw Error(j(308));Fn=e,ro.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var vn=null;function Bi(e){vn===null?vn=[e]:vn.push(e)}function gd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Bi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Dt(e,r)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Dt(e,n)}return l=r.interleaved,l===null?(t.next=t,Bi(r)):(t.next=l.next,l.next=t),r.interleaved=t,Dt(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}function cu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var l=e.updateQueue;Vt=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var a=i,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==s&&(i===null?m.firstBaseUpdate=u:i.next=u,m.lastBaseUpdate=a))}if(o!==null){var d=l.baseState;s=0,m=u=a=null,i=o;do{var h=i.lane,w=i.eventTime;if((r&h)===h){m!==null&&(m=m.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,v=i;switch(h=t,w=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){d=k.call(w,d,h);break e}d=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,h=typeof k=="function"?k.call(w,d,h):k,h==null)break e;d=ye({},d,h);break e;case 2:Vt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else w={eventTime:w,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(u=m=w,a=d):m=m.next=w,s|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(m===null&&(a=d),l.baseState=a,l.firstBaseUpdate=u,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);En|=s,e.lanes=s,e.memoizedState=d}}function du(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(j(191,l));l.call(r)}}}var sl={},Et=un(sl),Gr=un(sl),Hr=un(sl);function xn(e){if(e===sl)throw Error(j(174));return e}function Qi(e,t){switch(se(Hr,t),se(Gr,e),se(Et,sl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ps(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ps(t,e)}ce(Et),se(Et,t)}function tr(){ce(Et),ce(Gr),ce(Hr)}function vd(e){xn(Hr.current);var t=xn(Et.current),n=Ps(t,e.type);t!==n&&(se(Gr,e),se(Et,n))}function Gi(e){Gr.current===e&&(ce(Et),ce(Gr))}var pe=un(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function Hi(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var zl=Ot.ReactCurrentDispatcher,os=Ot.ReactCurrentBatchConfig,Nn=0,ge=null,Ie=null,Pe=null,so=!1,Rr=!1,Wr=0,bm=0;function Ae(){throw Error(j(321))}function Wi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Yi(e,t,n,r,l,o){if(Nn=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zl.current=e===null||e.memoizedState===null?Fm:Bm,e=n(r,l),Rr){o=0;do{if(Rr=!1,Wr=0,25<=o)throw Error(j(301));o+=1,Pe=Ie=null,t.updateQueue=null,zl.current=Vm,e=n(r,l)}while(Rr)}if(zl.current=io,t=Ie!==null&&Ie.next!==null,Nn=0,Pe=Ie=ge=null,so=!1,t)throw Error(j(300));return e}function qi(){var e=Wr!==0;return Wr=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ge.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function at(){if(Ie===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Pe===null?ge.memoizedState:Pe.next;if(t!==null)Pe=t,Ie=e;else{if(e===null)throw Error(j(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Pe===null?ge.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Yr(e,t){return typeof t=="function"?t(e):t}function ss(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=Ie,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var i=s=null,a=null,u=o;do{var m=u.lane;if((Nn&m)===m)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(i=a=d,s=r):a=a.next=d,ge.lanes|=m,En|=m}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=i,yt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ge.lanes|=o,En|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function is(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);yt(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xd(){}function wd(e,t){var n=ge,r=at(),l=t(),o=!yt(r.memoizedState,l);if(o&&(r.memoizedState=l,Qe=!0),r=r.queue,Xi(Id.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,qr(9,kd.bind(null,n,r,l,t),void 0,null),je===null)throw Error(j(349));Nn&30||Sd(n,t,l)}return l}function Sd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kd(e,t,n,r){t.value=n,t.getSnapshot=r,Nd(t)&&Ed(e)}function Id(e,t,n){return n(function(){Nd(t)&&Ed(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Ed(e){var t=Dt(e,1);t!==null&&pt(t,e,1,-1)}function fu(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Um.bind(null,ge,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cd(){return at().memoizedState}function Dl(e,t,n,r){var l=kt();ge.flags|=e,l.memoizedState=qr(1|t,n,void 0,r===void 0?null:r)}function Co(e,t,n,r){var l=at();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var s=Ie.memoizedState;if(o=s.destroy,r!==null&&Wi(r,s.deps)){l.memoizedState=qr(t,n,o,r);return}}ge.flags|=e,l.memoizedState=qr(1|t,n,o,r)}function hu(e,t){return Dl(8390656,8,e,t)}function Xi(e,t){return Co(2048,8,e,t)}function Pd(e,t){return Co(4,2,e,t)}function jd(e,t){return Co(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,n){return n=n!=null?n.concat([e]):null,Co(4,4,Td.bind(null,t,e),n)}function Ki(){}function _d(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ad(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ld(e,t,n){return Nn&21?(yt(n,t)||(n=Oc(),ge.lanes|=n,En|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Om(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{ne=n,os.transition=r}}function Md(){return at().memoizedState}function $m(e,t,n){var r=tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zd(e))Dd(t,n);else if(n=gd(e,t,n,r),n!==null){var l=$e();pt(n,e,r,l),bd(n,t,r)}}function Um(e,t,n){var r=tn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Dd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(l.hasEagerState=!0,l.eagerState=i,yt(i,s)){var a=t.interleaved;a===null?(l.next=l,Bi(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}n=gd(e,t,l,r),n!==null&&(l=$e(),pt(n,e,r,l),bd(n,t,r))}}function zd(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Dd(e,t){Rr=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}var io={readContext:it,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Fm={readContext:it,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:hu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,Td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$m.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:fu,useDebugValue:Ki,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=fu(!1),t=e[0];return e=Om.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,l=kt();if(he){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),je===null)throw Error(j(349));Nn&30||Sd(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,hu(Id.bind(null,r,o,e),[e]),r.flags|=2048,qr(9,kd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=kt(),t=je.identifierPrefix;if(he){var n=Rt,r=Tt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bm={readContext:it,useCallback:_d,useContext:it,useEffect:Xi,useImperativeHandle:Rd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:Ad,useReducer:ss,useRef:Cd,useState:function(){return ss(Yr)},useDebugValue:Ki,useDeferredValue:function(e){var t=at();return Ld(t,Ie.memoizedState,e)},useTransition:function(){var e=ss(Yr)[0],t=at().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:wd,useId:Md,unstable_isNewReconciler:!1},Vm={readContext:it,useCallback:_d,useContext:it,useEffect:Xi,useImperativeHandle:Rd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:Ad,useReducer:is,useRef:Cd,useState:function(){return is(Yr)},useDebugValue:Ki,useDeferredValue:function(e){var t=at();return Ie===null?t.memoizedState=e:Ld(t,Ie.memoizedState,e)},useTransition:function(){var e=is(Yr)[0],t=at().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:wd,useId:Md,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ys(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Po={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),l=tn(e),o=Lt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(pt(t,e,l,r),Ml(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),l=tn(e),o=Lt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(pt(t,e,l,r),Ml(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=tn(e),l=Lt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,r),t!==null&&(pt(t,e,r,n),Ml(t,e,r))}};function mu(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,r)||!Fr(l,o):!0}function Od(e,t,n){var r=!1,l=sn,o=t.contextType;return typeof o=="object"&&o!==null?o=it(o):(l=He(t)?kn:ze.current,r=t.contextTypes,o=(r=r!=null)?Jn(e,l):sn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Po,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function pu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Po.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Vi(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=it(o):(o=He(t)?kn:ze.current,l.context=Jn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ys(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Po.enqueueReplaceState(l,l.state,null),lo(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",r=t;do n+=yh(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function as(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function $d(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uo||(uo=!0,si=r),Xs(e,t)},n}function Ud(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Xs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xs(e,t),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function gu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=lp.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var Gm=Ot.ReactCurrentOwner,Qe=!1;function Oe(e,t,n,r){t.child=e===null?pd(t,null,n,r):er(t,e.child,n,r)}function xu(e,t,n,r,l){n=n.render;var o=t.ref;return Yn(t,l),r=Yi(e,t,n,r,o,l),n=qi(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(he&&n&&Di(t),t.flags|=1,Oe(e,t,r,l),t.child)}function wu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!oa(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Fd(e,t,o,r,l)):(e=Ul(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(s,r)&&e.ref===t.ref)return bt(e,t,l)}return t.flags|=1,e=nn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Fr(o,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,bt(e,t,l)}return Ks(e,t,n,r,l)}function Bd(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Vn,Xe),Xe|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Vn,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,se(Vn,Xe),Xe|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,se(Vn,Xe),Xe|=r;return Oe(e,t,l,n),t.child}function Vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ks(e,t,n,r,l){var o=He(n)?kn:ze.current;return o=Jn(t,o),Yn(t,l),n=Yi(e,t,n,r,o,l),r=qi(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(he&&r&&Di(t),t.flags|=1,Oe(e,t,n,l),t.child)}function Su(e,t,n,r,l){if(He(n)){var o=!0;Zl(t)}else o=!1;if(Yn(t,l),t.stateNode===null)bl(e,t),Od(t,n,r),qs(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=it(u):(u=He(n)?kn:ze.current,u=Jn(t,u));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||a!==u)&&pu(t,s,r,u),Vt=!1;var h=t.memoizedState;s.state=h,lo(t,r,s,l),a=t.memoizedState,i!==r||h!==a||Ge.current||Vt?(typeof m=="function"&&(Ys(t,n,m,r),a=t.memoizedState),(i=Vt||mu(t,n,i,r,h,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,yd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:dt(t.type,i),s.props=u,d=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=it(a):(a=He(n)?kn:ze.current,a=Jn(t,a));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==d||h!==a)&&pu(t,s,r,a),Vt=!1,h=t.memoizedState,s.state=h,lo(t,r,s,l);var k=t.memoizedState;i!==d||h!==k||Ge.current||Vt?(typeof w=="function"&&(Ys(t,n,w,r),k=t.memoizedState),(u=Vt||mu(t,n,u,r,h,k,a)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),s.props=r,s.state=k,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Js(e,t,n,r,o,l)}function Js(e,t,n,r,l,o){Vd(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&su(t,n,!1),bt(e,t,o);r=t.stateNode,Gm.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=er(t,e.child,null,o),t.child=er(t,null,i,o)):Oe(e,t,i,o),t.memoizedState=r.state,l&&su(t,n,!0),t.child}function Qd(e){var t=e.stateNode;t.pendingContext?ou(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ou(e,t.context,!1),Qi(e,t.containerInfo)}function ku(e,t,n,r,l){return Zn(),Oi(l),t.flags|=256,Oe(e,t,n,r),t.child}var Zs={dehydrated:null,treeContext:null,retryLane:0};function ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gd(e,t,n){var r=t.pendingProps,l=pe.current,o=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(pe,l&1),e===null)return Hs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ro(s,r,0,null),e=Sn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ei(n),t.memoizedState=Zs,e):Ji(t,s));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Hm(e,t,s,r,i,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,i=l.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=nn(l,a),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=nn(i,o):(o=Sn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ei(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Zs,r}return o=e.child,e=o.sibling,r=nn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ji(e,t){return t=Ro({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sl(e,t,n,r){return r!==null&&Oi(r),er(t,e.child,null,n),e=Ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hm(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=as(Error(j(422))),Sl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Ro({mode:"visible",children:r.children},l,0,null),o=Sn(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&er(t,e.child,null,s),t.child.memoizedState=ei(s),t.memoizedState=Zs,o);if(!(t.mode&1))return Sl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(j(419)),r=as(o,r,void 0),Sl(e,t,s,r)}if(i=(s&e.childLanes)!==0,Qe||i){if(r=je,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Dt(e,l),pt(r,e,l,-1))}return la(),r=as(Error(j(421))),Sl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=op.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Ke=Jt(l.nextSibling),Je=t,he=!0,ht=null,e!==null&&(rt[lt++]=Tt,rt[lt++]=Rt,rt[lt++]=In,Tt=e.id,Rt=e.overflow,In=t),t=Ji(t,r.children),t.flags|=4096,t)}function Iu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ws(e.return,t,n)}function us(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Hd(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Oe(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iu(e,n,t);else if(e.tag===19)Iu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(pe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),us(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&oo(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}us(t,!0,n,null,o);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wm(e,t,n){switch(t.tag){case 3:Qd(t),Zn();break;case 5:vd(t);break;case 1:He(t.type)&&Zl(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;se(no,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Gd(e,t,n):(se(pe,pe.current&1),e=bt(e,t,n),e!==null?e.sibling:null);se(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Bd(e,t,n)}return bt(e,t,n)}var Wd,ti,Yd,qd;Wd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ti=function(){};Yd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,xn(Et.current);var o=null;switch(n){case"input":l=Is(e,l),r=Is(e,r),o=[];break;case"select":l=ye({},l,{value:void 0}),r=ye({},r,{value:void 0}),o=[];break;case"textarea":l=Cs(e,l),r=Cs(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kl)}js(n,r);var s;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(i=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&a!==i&&(a!=null||i!=null))if(u==="style")if(i){for(s in i)!i.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&i[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),o||i===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function xr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ym(e,t,n){var r=t.pendingProps;switch(bi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return He(t.type)&&Jl(),Le(t),null;case 3:return r=t.stateNode,tr(),ce(Ge),ce(ze),Hi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(ui(ht),ht=null))),ti(e,t),Le(t),null;case 5:Gi(t);var l=xn(Hr.current);if(n=t.type,e!==null&&t.stateNode!=null)Yd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return Le(t),null}if(e=xn(Et.current),xl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[It]=t,r[Qr]=o,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(l=0;l<Nr.length;l++)ue(Nr[l],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Aa(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":Ma(r,o),ue("invalid",r)}js(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var i=o[s];s==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&vl(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&vl(r.textContent,i,e),l=["children",""+i]):Mr.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":cl(r),La(r,o,!0);break;case"textarea":cl(r),za(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ic(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[It]=t,e[Qr]=r,Wd(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ts(n,r),n){case"dialog":ue("cancel",e),ue("close",e),l=r;break;case"iframe":case"object":case"embed":ue("load",e),l=r;break;case"video":case"audio":for(l=0;l<Nr.length;l++)ue(Nr[l],e);l=r;break;case"source":ue("error",e),l=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),l=r;break;case"details":ue("toggle",e),l=r;break;case"input":Aa(e,r),l=Is(e,r),ue("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ye({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Ma(e,r),l=Cs(e,r),ue("invalid",e);break;default:l=r}js(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="style"?Cc(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Nc(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&zr(e,a):typeof a=="number"&&zr(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ue("scroll",e):a!=null&&ki(e,o,a,s))}switch(n){case"input":cl(e),La(e,r,!1);break;case"textarea":cl(e),za(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Qn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=xn(Hr.current),xn(Et.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(o=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:vl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Le(t),null;case 13:if(ce(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&Ke!==null&&t.mode&1&&!(t.flags&128))hd(),Zn(),t.flags|=98560,o=!1;else if(o=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(j(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[It]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else ht!==null&&(ui(ht),ht=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ne===0&&(Ne=3):la())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return tr(),ti(e,t),e===null&&Br(t.stateNode.containerInfo),Le(t),null;case 10:return Fi(t.type._context),Le(t),null;case 17:return He(t.type)&&Jl(),Le(t),null;case 19:if(ce(pe),o=t.memoizedState,o===null)return Le(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)xr(o,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=oo(e),s!==null){for(t.flags|=128,xr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>rr&&(t.flags|=128,r=!0,xr(o,!1),t.lanes=4194304)}else{if(!r)if(e=oo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!he)return Le(t),null}else 2*we()-o.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,r=!0,xr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,n=pe.current,se(pe,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return ra(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function qm(e,t){switch(bi(t),t.tag){case 1:return He(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),ce(Ge),ce(ze),Hi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gi(t),null;case 13:if(ce(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(pe),null;case 4:return tr(),null;case 10:return Fi(t.type._context),null;case 22:case 23:return ra(),null;case 24:return null;default:return null}}var kl=!1,Me=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,M=null;function Bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function ni(e,t,n){try{n()}catch(r){ve(e,t,r)}}var Nu=!1;function Km(e,t){if($s=Yl,e=ed(),zi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,a=-1,u=0,m=0,d=e,h=null;t:for(;;){for(var w;d!==n||l!==0&&d.nodeType!==3||(i=s+l),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(w=d.firstChild)!==null;)h=d,d=w;for(;;){if(d===e)break t;if(h===n&&++u===l&&(i=s),h===o&&++m===r&&(a=s),(w=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=w}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Us={focusedElem:e,selectionRange:n},Yl=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,S=k.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:dt(t.type,v),S);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(I){ve(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return k=Nu,Nu=!1,k}function _r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ni(t,n,o)}l=l.next}while(l!==r)}}function jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ri(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xd(e){var t=e.alternate;t!==null&&(e.alternate=null,Xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Qr],delete t[Vs],delete t[Lm],delete t[Mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function li(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(r!==4&&(e=e.child,e!==null))for(li(e,t,n),e=e.sibling;e!==null;)li(e,t,n),e=e.sibling}function oi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oi(e,t,n),e=e.sibling;e!==null;)oi(e,t,n),e=e.sibling}var Te=null,ft=!1;function Ft(e,t,n){for(n=n.child;n!==null;)Jd(e,t,n),n=n.sibling}function Jd(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(wo,n)}catch{}switch(n.tag){case 5:Me||Bn(n,t);case 6:var r=Te,l=ft;Te=null,Ft(e,t,n),Te=r,ft=l,Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?ns(e.parentNode,n):e.nodeType===1&&ns(e,n),$r(e)):ns(Te,n.stateNode));break;case 4:r=Te,l=ft,Te=n.stateNode.containerInfo,ft=!0,Ft(e,t,n),Te=r,ft=l;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ni(n,t,s),l=l.next}while(l!==r)}Ft(e,t,n);break;case 1:if(!Me&&(Bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ve(n,t,i)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,Ft(e,t,n),Me=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function Cu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xm),t.forEach(function(r){var l=sp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Te=i.stateNode,ft=!1;break e;case 3:Te=i.stateNode.containerInfo,ft=!0;break e;case 4:Te=i.stateNode.containerInfo,ft=!0;break e}i=i.return}if(Te===null)throw Error(j(160));Jd(o,s,l),Te=null,ft=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(u){ve(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zd(t,e),t=t.sibling}function Zd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),St(e),r&4){try{_r(3,e,e.return),jo(3,e)}catch(v){ve(e,e.return,v)}try{_r(5,e,e.return)}catch(v){ve(e,e.return,v)}}break;case 1:ct(t,e),St(e),r&512&&n!==null&&Bn(n,n.return);break;case 5:if(ct(t,e),St(e),r&512&&n!==null&&Bn(n,n.return),e.flags&32){var l=e.stateNode;try{zr(l,"")}catch(v){ve(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,i=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Sc(l,o),Ts(i,s);var u=Ts(i,o);for(s=0;s<a.length;s+=2){var m=a[s],d=a[s+1];m==="style"?Cc(l,d):m==="dangerouslySetInnerHTML"?Nc(l,d):m==="children"?zr(l,d):ki(l,m,d,u)}switch(i){case"input":Ns(l,o);break;case"textarea":kc(l,o);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Qn(l,!!o.multiple,w,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qn(l,!!o.multiple,o.defaultValue,!0):Qn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Qr]=o}catch(v){ve(e,e.return,v)}}break;case 6:if(ct(t,e),St(e),r&4){if(e.stateNode===null)throw Error(j(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(v){ve(e,e.return,v)}}break;case 3:if(ct(t,e),St(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(v){ve(e,e.return,v)}break;case 4:ct(t,e),St(e);break;case 13:ct(t,e),St(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ta=we())),r&4&&Cu(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||m,ct(t,e),Me=u):ct(t,e),St(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(M=e,m=e.child;m!==null;){for(d=M=m;M!==null;){switch(h=M,w=h.child,h.tag){case 0:case 11:case 14:case 15:_r(4,h,h.return);break;case 1:Bn(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){ve(r,n,v)}}break;case 5:Bn(h,h.return);break;case 22:if(h.memoizedState!==null){ju(d);continue}}w!==null?(w.return=h,M=w):ju(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,u?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=Ec("display",s))}catch(v){ve(e,e.return,v)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ve(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ct(t,e),St(e),r&4&&Cu(e);break;case 21:break;default:ct(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kd(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(zr(l,""),r.flags&=-33);var o=Eu(e);oi(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,i=Eu(e);li(e,i,s);break;default:throw Error(j(161))}}catch(a){ve(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e,t,n){M=e,ef(e)}function ef(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var l=M,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||kl;if(!s){var i=l.alternate,a=i!==null&&i.memoizedState!==null||Me;i=kl;var u=Me;if(kl=s,(Me=a)&&!u)for(M=l;M!==null;)s=M,a=s.child,s.tag===22&&s.memoizedState!==null?Tu(l):a!==null?(a.return=s,M=a):Tu(l);for(;o!==null;)M=o,ef(o),o=o.sibling;M=l,kl=i,Me=u}Pu(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,M=o):Pu(e)}}function Pu(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||jo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&du(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}du(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&$r(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Me||t.flags&512&&ri(t)}catch(h){ve(t,t.return,h)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function ju(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Tu(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jo(4,t)}catch(a){ve(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(a){ve(t,l,a)}}var o=t.return;try{ri(t)}catch(a){ve(t,o,a)}break;case 5:var s=t.return;try{ri(t)}catch(a){ve(t,s,a)}}}catch(a){ve(t,t.return,a)}if(t===e){M=null;break}var i=t.sibling;if(i!==null){i.return=t.return,M=i;break}M=t.return}}var Zm=Math.ceil,ao=Ot.ReactCurrentDispatcher,Zi=Ot.ReactCurrentOwner,st=Ot.ReactCurrentBatchConfig,Z=0,je=null,ke=null,Re=0,Xe=0,Vn=un(0),Ne=0,Xr=null,En=0,To=0,ea=0,Ar=null,Ve=null,ta=0,rr=1/0,Pt=null,uo=!1,si=null,en=null,Il=!1,Wt=null,co=0,Lr=0,ii=null,Ol=-1,$l=0;function $e(){return Z&6?we():Ol!==-1?Ol:Ol=we()}function tn(e){return e.mode&1?Z&2&&Re!==0?Re&-Re:Dm.transition!==null?($l===0&&($l=Oc()),$l):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Gc(e.type)),e):1}function pt(e,t,n,r){if(50<Lr)throw Lr=0,ii=null,Error(j(185));rl(e,n,r),(!(Z&2)||e!==je)&&(e===je&&(!(Z&2)&&(To|=n),Ne===4&&Gt(e,Re)),We(e,r),n===1&&Z===0&&!(t.mode&1)&&(rr=we()+500,Eo&&cn()))}function We(e,t){var n=e.callbackNode;Dh(e,t);var r=Wl(e,e===je?Re:0);if(r===0)n!==null&&Oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oa(n),t===1)e.tag===0?zm(Ru.bind(null,e)):cd(Ru.bind(null,e)),_m(function(){!(Z&6)&&cn()}),n=null;else{switch($c(r)){case 1:n=Pi;break;case 4:n=Dc;break;case 16:n=Hl;break;case 536870912:n=bc;break;default:n=Hl}n=uf(n,tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tf(e,t){if(Ol=-1,$l=0,Z&6)throw Error(j(327));var n=e.callbackNode;if(qn()&&e.callbackNode!==n)return null;var r=Wl(e,e===je?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fo(e,r);else{t=r;var l=Z;Z|=2;var o=rf();(je!==e||Re!==t)&&(Pt=null,rr=we()+500,wn(e,t));do try{np();break}catch(i){nf(e,i)}while(!0);Ui(),ao.current=o,Z=l,ke!==null?t=0:(je=null,Re=0,t=Ne)}if(t!==0){if(t===2&&(l=Ms(e),l!==0&&(r=l,t=ai(e,l))),t===1)throw n=Xr,wn(e,0),Gt(e,r),We(e,we()),n;if(t===6)Gt(e,r);else{if(l=e.current.alternate,!(r&30)&&!ep(l)&&(t=fo(e,r),t===2&&(o=Ms(e),o!==0&&(r=o,t=ai(e,o))),t===1))throw n=Xr,wn(e,0),Gt(e,r),We(e,we()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:gn(e,Ve,Pt);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=ta+500-we(),10<t)){if(Wl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Bs(gn.bind(null,e,Ve,Pt),t);break}gn(e,Ve,Pt);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-mt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zm(r/1960))-r,10<r){e.timeoutHandle=Bs(gn.bind(null,e,Ve,Pt),r);break}gn(e,Ve,Pt);break;case 5:gn(e,Ve,Pt);break;default:throw Error(j(329))}}}return We(e,we()),e.callbackNode===n?tf.bind(null,e):null}function ai(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=fo(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&ui(t)),e}function ui(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function ep(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!yt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~ea,t&=~To,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function Ru(e){if(Z&6)throw Error(j(327));qn();var t=Wl(e,0);if(!(t&1))return We(e,we()),null;var n=fo(e,t);if(e.tag!==0&&n===2){var r=Ms(e);r!==0&&(t=r,n=ai(e,r))}if(n===1)throw n=Xr,wn(e,0),Gt(e,t),We(e,we()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Ve,Pt),We(e,we()),null}function na(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(rr=we()+500,Eo&&cn())}}function Cn(e){Wt!==null&&Wt.tag===0&&!(Z&6)&&qn();var t=Z;Z|=1;var n=st.transition,r=ne;try{if(st.transition=null,ne=1,e)return e()}finally{ne=r,st.transition=n,Z=t,!(Z&6)&&cn()}}function ra(){Xe=Vn.current,ce(Vn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rm(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(bi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:tr(),ce(Ge),ce(ze),Hi();break;case 5:Gi(r);break;case 4:tr();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:Fi(r.type._context);break;case 22:case 23:ra()}n=n.return}if(je=e,ke=e=nn(e.current,null),Re=Xe=t,Ne=0,Xr=null,ea=To=En=0,Ve=Ar=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}vn=null}return e}function nf(e,t){do{var n=ke;try{if(Ui(),zl.current=io,so){for(var r=ge.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}so=!1}if(Nn=0,Pe=Ie=ge=null,Rr=!1,Wr=0,Zi.current=null,n===null||n.return===null){Ne=1,Xr=t,ke=null;break}e:{var o=e,s=n.return,i=n,a=t;if(t=Re,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,m=i,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=yu(s);if(w!==null){w.flags&=-257,vu(w,s,i,o,t),w.mode&1&&gu(o,u,t),t=w,a=u;var k=t.updateQueue;if(k===null){var v=new Set;v.add(a),t.updateQueue=v}else k.add(a);break e}else{if(!(t&1)){gu(o,u,t),la();break e}a=Error(j(426))}}else if(he&&i.mode&1){var S=yu(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vu(S,s,i,o,t),Oi(nr(a,i));break e}}o=a=nr(a,i),Ne!==4&&(Ne=2),Ar===null?Ar=[o]:Ar.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=$d(o,a,t);cu(o,p);break e;case 1:i=a;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(en===null||!en.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Ud(o,i,t);cu(o,I);break e}}o=o.return}while(o!==null)}of(n)}catch(x){t=x,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function rf(){var e=ao.current;return ao.current=io,e===null?io:e}function la(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),je===null||!(En&268435455)&&!(To&268435455)||Gt(je,Re)}function fo(e,t){var n=Z;Z|=2;var r=rf();(je!==e||Re!==t)&&(Pt=null,wn(e,t));do try{tp();break}catch(l){nf(e,l)}while(!0);if(Ui(),Z=n,ao.current=r,ke!==null)throw Error(j(261));return je=null,Re=0,Ne}function tp(){for(;ke!==null;)lf(ke)}function np(){for(;ke!==null&&!Ph();)lf(ke)}function lf(e){var t=af(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?of(e):ke=t,Zi.current=null}function of(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qm(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,ke=null;return}}else if(n=Ym(n,t,Xe),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ne===0&&(Ne=5)}function gn(e,t,n){var r=ne,l=st.transition;try{st.transition=null,ne=1,rp(e,t,n,r)}finally{st.transition=l,ne=r}return null}function rp(e,t,n,r){do qn();while(Wt!==null);if(Z&6)throw Error(j(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(bh(e,o),e===je&&(ke=je=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,uf(Hl,function(){return qn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=st.transition,st.transition=null;var s=ne;ne=1;var i=Z;Z|=4,Zi.current=null,Km(e,n),Zd(n,e),Im(Us),Yl=!!$s,Us=$s=null,e.current=n,Jm(n),jh(),Z=i,ne=s,st.transition=o}else e.current=n;if(Il&&(Il=!1,Wt=e,co=l),o=e.pendingLanes,o===0&&(en=null),_h(n.stateNode),We(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(uo)throw uo=!1,e=si,si=null,e;return co&1&&e.tag!==0&&qn(),o=e.pendingLanes,o&1?e===ii?Lr++:(Lr=0,ii=e):Lr=0,cn(),null}function qn(){if(Wt!==null){var e=$c(co),t=st.transition,n=ne;try{if(st.transition=null,ne=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,co=0,Z&6)throw Error(j(331));var l=Z;for(Z|=4,M=e.current;M!==null;){var o=M,s=o.child;if(M.flags&16){var i=o.deletions;if(i!==null){for(var a=0;a<i.length;a++){var u=i[a];for(M=u;M!==null;){var m=M;switch(m.tag){case 0:case 11:case 15:_r(8,m,o)}var d=m.child;if(d!==null)d.return=m,M=d;else for(;M!==null;){m=M;var h=m.sibling,w=m.return;if(Xd(m),m===u){M=null;break}if(h!==null){h.return=w,M=h;break}M=w}}}var k=o.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}M=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,M=s;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_r(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,M=p;break e}M=o.return}}var f=e.current;for(M=f;M!==null;){s=M;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,M=g;else e:for(s=f;M!==null;){if(i=M,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:jo(9,i)}}catch(x){ve(i,i.return,x)}if(i===s){M=null;break e}var I=i.sibling;if(I!==null){I.return=i.return,M=I;break e}M=i.return}}if(Z=l,cn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(wo,e)}catch{}r=!0}return r}finally{ne=n,st.transition=t}}return!1}function _u(e,t,n){t=nr(n,t),t=$d(e,t,1),e=Zt(e,t,1),t=$e(),e!==null&&(rl(e,1,t),We(e,t))}function ve(e,t,n){if(e.tag===3)_u(e,e,n);else for(;t!==null;){if(t.tag===3){_u(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){e=nr(n,e),e=Ud(t,e,1),t=Zt(t,e,1),e=$e(),t!==null&&(rl(t,1,e),We(t,e));break}}t=t.return}}function lp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Re&n)===n&&(Ne===4||Ne===3&&(Re&130023424)===Re&&500>we()-ta?wn(e,0):ea|=n),We(e,t)}function sf(e,t){t===0&&(e.mode&1?(t=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):t=1);var n=$e();e=Dt(e,t),e!==null&&(rl(e,t,n),We(e,n))}function op(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sf(e,n)}function sp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),sf(e,n)}var af;af=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Wm(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,he&&t.flags&1048576&&dd(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bl(e,t),e=t.pendingProps;var l=Jn(t,ze.current);Yn(t,n),l=Yi(null,t,r,e,l,n);var o=qi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(o=!0,Zl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Vi(t),l.updater=Po,t.stateNode=l,l._reactInternals=t,qs(t,r,e,n),t=Js(null,t,r,!0,o,n)):(t.tag=0,he&&o&&Di(t),Oe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=ap(r),e=dt(r,e),l){case 0:t=Ks(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=wu(null,t,r,dt(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Ks(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Su(e,t,r,l,n);case 3:e:{if(Qd(t),e===null)throw Error(j(387));r=t.pendingProps,o=t.memoizedState,l=o.element,yd(e,t),lo(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=nr(Error(j(423)),t),t=ku(e,t,r,n,l);break e}else if(r!==l){l=nr(Error(j(424)),t),t=ku(e,t,r,n,l);break e}else for(Ke=Jt(t.stateNode.containerInfo.firstChild),Je=t,he=!0,ht=null,n=pd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===l){t=bt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return vd(t),e===null&&Hs(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,Fs(r,l)?s=null:o!==null&&Fs(r,o)&&(t.flags|=32),Vd(e,t),Oe(e,t,s,n),t.child;case 6:return e===null&&Hs(t),null;case 13:return Gd(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=er(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),xu(e,t,r,l,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,se(no,r._currentValue),r._currentValue=s,o!==null)if(yt(o.value,s)){if(o.children===l.children&&!Ge.current){t=bt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){s=o.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ws(o.return,n,t),i.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Ws(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Oe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Yn(t,n),l=it(l),r=r(l),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,l=dt(r,t.pendingProps),l=dt(r.type,l),wu(e,t,r,l,n);case 15:return Fd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),bl(e,t),t.tag=1,He(r)?(e=!0,Zl(t)):e=!1,Yn(t,n),Od(t,r,l),qs(t,r,l,n),Js(null,t,r,!0,e,n);case 19:return Hd(e,t,n);case 22:return Bd(e,t,n)}throw Error(j(156,t.tag))};function uf(e,t){return zc(e,t)}function ip(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new ip(e,t,n,r)}function oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ap(e){if(typeof e=="function")return oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ni)return 11;if(e===Ei)return 14}return 2}function nn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")oa(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ln:return Sn(n.children,l,o,t);case Ii:s=8,l|=8;break;case xs:return e=ot(12,n,t,l|2),e.elementType=xs,e.lanes=o,e;case ws:return e=ot(13,n,t,l),e.elementType=ws,e.lanes=o,e;case Ss:return e=ot(19,n,t,l),e.elementType=Ss,e.lanes=o,e;case vc:return Ro(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gc:s=10;break e;case yc:s=9;break e;case Ni:s=11;break e;case Ei:s=14;break e;case Bt:s=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=ot(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Sn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function Ro(e,t,n,r){return e=ot(22,e,r,t),e.elementType=vc,e.lanes=n,e.stateNode={isHidden:!1},e}function cs(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function ds(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function up(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function sa(e,t,n,r,l,o,s,i,a){return e=new up(e,t,n,i,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vi(o),e}function cp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cf(e){if(!e)return sn;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(He(n))return ud(e,n,t)}return t}function df(e,t,n,r,l,o,s,i,a){return e=sa(n,r,!0,e,l,o,s,i,a),e.context=cf(null),n=e.current,r=$e(),l=tn(n),o=Lt(r,l),o.callback=t??null,Zt(n,o,l),e.current.lanes=l,rl(e,l,r),We(e,r),e}function _o(e,t,n,r){var l=t.current,o=$e(),s=tn(l);return n=cf(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(l,t,s),e!==null&&(pt(e,l,s,o),Ml(e,l,s)),s}function ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Au(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ia(e,t){Au(e,t),(e=e.alternate)&&Au(e,t)}function dp(){return null}var ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function aa(e){this._internalRoot=e}Ao.prototype.render=aa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));_o(e,t,null,null)};Ao.prototype.unmount=aa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){_o(null,e,null,null)}),t[zt]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&Qc(e)}};function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function fp(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var u=ho(s);o.call(u)}}var s=df(t,r,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=s,e[zt]=s.current,Br(e.nodeType===8?e.parentNode:e),Cn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var u=ho(a);i.call(u)}}var a=sa(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=a,e[zt]=a.current,Br(e.nodeType===8?e.parentNode:e),Cn(function(){_o(t,a,n,r)}),a}function Mo(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var i=l;l=function(){var a=ho(s);i.call(a)}}_o(t,s,e,l)}else s=fp(n,t,e,l,r);return ho(s)}Uc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(ji(t,n|1),We(t,we()),!(Z&6)&&(rr=we()+500,cn()))}break;case 13:Cn(function(){var r=Dt(e,1);if(r!==null){var l=$e();pt(r,e,1,l)}}),ia(e,1)}};Ti=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=$e();pt(t,e,134217728,n)}ia(e,134217728)}};Fc=function(e){if(e.tag===13){var t=tn(e),n=Dt(e,t);if(n!==null){var r=$e();pt(n,e,t,r)}ia(e,t)}};Bc=function(){return ne};Vc=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};_s=function(e,t,n){switch(t){case"input":if(Ns(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=No(r);if(!l)throw Error(j(90));wc(r),Ns(r,l)}}}break;case"textarea":kc(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};Tc=na;Rc=Cn;var hp={usingClientEntryPoint:!1,Events:[ol,bn,No,Pc,jc,na]},wr={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mp={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lc(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{wo=Nl.inject(mp),Nt=Nl}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ua(t))throw Error(j(200));return cp(e,t,null,n)};et.createRoot=function(e,t){if(!ua(e))throw Error(j(299));var n=!1,r="",l=ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=sa(e,1,!1,null,null,n,!1,r,l),e[zt]=t.current,Br(e.nodeType===8?e.parentNode:e),new aa(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Lc(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Cn(e)};et.hydrate=function(e,t,n){if(!Lo(t))throw Error(j(200));return Mo(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!ua(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=ff;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=df(t,null,e,1,n??null,l,!1,o,s),e[zt]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ao(t)};et.render=function(e,t,n){if(!Lo(t))throw Error(j(200));return Mo(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!Lo(e))throw Error(j(40));return e._reactRootContainer?(Cn(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};et.unstable_batchedUpdates=na;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lo(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Mo(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function hf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hf)}catch(e){console.error(e)}}hf(),fc.exports=et;var ca=fc.exports,Mu=ca;ys.createRoot=Mu.createRoot,ys.hydrateRoot=Mu.hydrateRoot;const pp="modulepreload",gp=function(e){return"/"+e},zu={},vt=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(n.map(a=>{if(a=gp(a),a in zu)return;zu[a]=!0;const u=a.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${m}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":pp,u||(d.as="script"),d.crossOrigin="",d.href=a,i&&d.setAttribute("nonce",i),document.head.appendChild(d),u)return new Promise((h,w)=>{d.addEventListener("load",h),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return l.then(s=>{for(const i of s||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const Du="popstate";function yp(e){e===void 0&&(e={});function t(r,l){let{pathname:o,search:s,hash:i}=r.location;return ci("",{pathname:o,search:s,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:mo(l)}return xp(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function da(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vp(){return Math.random().toString(36).substr(2,8)}function bu(e,t){return{usr:e.state,key:e.key,idx:t}}function ci(e,t,n,r){return n===void 0&&(n=null),Kr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ar(t):t,{state:n,key:t&&t.key||r||vp()})}function mo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ar(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xp(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:o=!1}=r,s=l.history,i=Yt.Pop,a=null,u=m();u==null&&(u=0,s.replaceState(Kr({},s.state,{idx:u}),""));function m(){return(s.state||{idx:null}).idx}function d(){i=Yt.Pop;let S=m(),p=S==null?null:S-u;u=S,a&&a({action:i,location:v.location,delta:p})}function h(S,p){i=Yt.Push;let f=ci(v.location,S,p);u=m()+1;let g=bu(f,u),I=v.createHref(f);try{s.pushState(g,"",I)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;l.location.assign(I)}o&&a&&a({action:i,location:v.location,delta:1})}function w(S,p){i=Yt.Replace;let f=ci(v.location,S,p);u=m();let g=bu(f,u),I=v.createHref(f);s.replaceState(g,"",I),o&&a&&a({action:i,location:v.location,delta:0})}function k(S){let p=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof S=="string"?S:mo(S);return f=f.replace(/ $/,"%20"),Se(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return i},get location(){return e(l,s)},listen(S){if(a)throw new Error("A history only accepts one active listener");return l.addEventListener(Du,d),a=S,()=>{l.removeEventListener(Du,d),a=null}},createHref(S){return t(l,S)},createURL:k,encodeLocation(S){let p=k(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:w,go(S){return s.go(S)}};return v}var Ou;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ou||(Ou={}));function wp(e,t,n){return n===void 0&&(n="/"),Sp(e,t,n)}function Sp(e,t,n,r){let l=typeof t=="string"?ar(t):t,o=fa(l.pathname||"/",n);if(o==null)return null;let s=mf(e);kp(s);let i=null;for(let a=0;i==null&&a<s.length;++a){let u=Mp(o);i=_p(s[a],u)}return i}function mf(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(o,s,i)=>{let a={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Se(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=rn([r,a.relativePath]),m=n.concat(a);o.children&&o.children.length>0&&(Se(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mf(o.children,t,m,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Tp(u,o.index),routesMeta:m})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))l(o,s);else for(let a of pf(o.path))l(o,s,a)}),t}function pf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let s=pf(r.join("/")),i=[];return i.push(...s.map(a=>a===""?o:[o,a].join("/"))),l&&i.push(...s),i.map(a=>e.startsWith("/")&&a===""?"/":a)}function kp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Rp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ip=/^:[\w-]+$/,Np=3,Ep=2,Cp=1,Pp=10,jp=-2,$u=e=>e==="*";function Tp(e,t){let n=e.split("/"),r=n.length;return n.some($u)&&(r+=jp),t&&(r+=Ep),n.filter(l=>!$u(l)).reduce((l,o)=>l+(Ip.test(o)?Np:o===""?Cp:Pp),r)}function Rp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function _p(e,t,n){let{routesMeta:r}=e,l={},o="/",s=[];for(let i=0;i<r.length;++i){let a=r[i],u=i===r.length-1,m=o==="/"?t:t.slice(o.length)||"/",d=Ap({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},m),h=a.route;if(!d)return null;Object.assign(l,d.params),s.push({params:l,pathname:rn([o,d.pathname]),pathnameBase:$p(rn([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=rn([o,d.pathnameBase]))}return s}function Ap(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],s=o.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((u,m,d)=>{let{paramName:h,isOptional:w}=m;if(h==="*"){let v=i[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const k=i[d];return w&&!k?u[h]=void 0:u[h]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Lp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,a)=>(r.push({paramName:i,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Mp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return da(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const zp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dp=e=>zp.test(e);function bp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?ar(e):e,o;if(n)if(Dp(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),da(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=Uu(n.substring(1),"/"):o=Uu(n,t)}else o=t;return{pathname:o,search:Up(r),hash:Fp(l)}}function Uu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function fs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Op(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ha(e,t){let n=Op(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ma(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=ar(e):(l=Kr({},e),Se(!l.pathname||!l.pathname.includes("?"),fs("?","pathname","search",l)),Se(!l.pathname||!l.pathname.includes("#"),fs("#","pathname","hash",l)),Se(!l.search||!l.search.includes("#"),fs("#","search","hash",l)));let o=e===""||l.pathname==="",s=o?"/":l.pathname,i;if(s==null)i=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;l.pathname=h.join("/")}i=d>=0?t[d]:"/"}let a=bp(l,i),u=s&&s!=="/"&&s.endsWith("/"),m=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||m)&&(a.pathname+="/"),a}const rn=e=>e.join("/").replace(/\/\/+/g,"/"),$p=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Up=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gf=["post","put","patch","delete"];new Set(gf);const Vp=["get",...gf];new Set(Vp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}const pa=y.createContext(null),Qp=y.createContext(null),dn=y.createContext(null),zo=y.createContext(null),$t=y.createContext({outlet:null,matches:[],isDataRoute:!1}),yf=y.createContext(null);function Gp(e,t){let{relative:n}=t===void 0?{}:t;ur()||Se(!1);let{basename:r,navigator:l}=y.useContext(dn),{hash:o,pathname:s,search:i}=xf(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:rn([r,s])),l.createHref({pathname:a,search:i,hash:o})}function ur(){return y.useContext(zo)!=null}function Ut(){return ur()||Se(!1),y.useContext(zo).location}function vf(e){y.useContext(dn).static||y.useLayoutEffect(e)}function il(){let{isDataRoute:e}=y.useContext($t);return e?lg():Hp()}function Hp(){ur()||Se(!1);let e=y.useContext(pa),{basename:t,future:n,navigator:r}=y.useContext(dn),{matches:l}=y.useContext($t),{pathname:o}=Ut(),s=JSON.stringify(ha(l,n.v7_relativeSplatPath)),i=y.useRef(!1);return vf(()=>{i.current=!0}),y.useCallback(function(u,m){if(m===void 0&&(m={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let d=ma(u,JSON.parse(s),o,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:rn([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,s,o,e])}function Ly(){let{matches:e}=y.useContext($t),t=e[e.length-1];return t?t.params:{}}function xf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(dn),{matches:l}=y.useContext($t),{pathname:o}=Ut(),s=JSON.stringify(ha(l,r.v7_relativeSplatPath));return y.useMemo(()=>ma(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function Wp(e,t){return Yp(e,t)}function Yp(e,t,n,r){ur()||Se(!1);let{navigator:l}=y.useContext(dn),{matches:o}=y.useContext($t),s=o[o.length-1],i=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Ut(),m;if(t){var d;let S=typeof t=="string"?ar(t):t;a==="/"||(d=S.pathname)!=null&&d.startsWith(a)||Se(!1),m=S}else m=u;let h=m.pathname||"/",w=h;if(a!=="/"){let S=a.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=wp(e,{pathname:w}),v=Zp(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},i,S.params),pathname:rn([a,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:rn([a,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&v?y.createElement(zo.Provider,{value:{location:Jr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Yt.Pop}},v):v}function qp(){let e=rg(),t=Bp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,null)}const Xp=y.createElement(qp,null);class Kp extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement($t.Provider,{value:this.props.routeContext},y.createElement(yf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jp(e){let{routeContext:t,match:n,children:r}=e,l=y.useContext(pa);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement($t.Provider,{value:t},r)}function Zp(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let m=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);m>=0||Se(!1),s=s.slice(0,Math.min(s.length,m+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<s.length;m++){let d=s[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:h,errors:w}=n,k=d.route.loader&&h[d.route.id]===void 0&&(!w||w[d.route.id]===void 0);if(d.route.lazy||k){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((m,d,h)=>{let w,k=!1,v=null,S=null;n&&(w=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||Xp,a&&(u<0&&h===0?(og("route-fallback"),k=!0,S=null):u===h&&(k=!0,S=d.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,h+1)),f=()=>{let g;return w?g=v:k?g=S:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,y.createElement(Jp,{match:d,routeContext:{outlet:m,matches:p,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(Kp,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var wf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wf||{}),Sf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sf||{});function eg(e){let t=y.useContext(pa);return t||Se(!1),t}function tg(e){let t=y.useContext(Qp);return t||Se(!1),t}function ng(e){let t=y.useContext($t);return t||Se(!1),t}function kf(e){let t=ng(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function rg(){var e;let t=y.useContext(yf),n=tg(),r=kf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lg(){let{router:e}=eg(wf.UseNavigateStable),t=kf(Sf.UseNavigateStable),n=y.useRef(!1);return vf(()=>{n.current=!0}),y.useCallback(function(l,o){o===void 0&&(o={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Jr({fromRouteId:t},o)))},[e,t])}const Fu={};function og(e,t,n){Fu[e]||(Fu[e]=!0)}function sg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ig(e){let{to:t,replace:n,state:r,relative:l}=e;ur()||Se(!1);let{future:o,static:s}=y.useContext(dn),{matches:i}=y.useContext($t),{pathname:a}=Ut(),u=il(),m=ma(t,ha(i,o.v7_relativeSplatPath),a,l==="path"),d=JSON.stringify(m);return y.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:l}),[u,d,l,n,r]),null}function qe(e){Se(!1)}function ag(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Yt.Pop,navigator:o,static:s=!1,future:i}=e;ur()&&Se(!1);let a=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:a,navigator:o,static:s,future:Jr({v7_relativeSplatPath:!1},i)}),[a,i,o,s]);typeof r=="string"&&(r=ar(r));let{pathname:m="/",search:d="",hash:h="",state:w=null,key:k="default"}=r,v=y.useMemo(()=>{let S=fa(m,a);return S==null?null:{location:{pathname:S,search:d,hash:h,state:w,key:k},navigationType:l}},[a,m,d,h,w,k,l]);return v==null?null:y.createElement(dn.Provider,{value:u},y.createElement(zo.Provider,{children:n,value:v}))}function ug(e){let{children:t,location:n}=e;return Wp(di(t),n)}new Promise(()=>{});function di(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,l)=>{if(!y.isValidElement(r))return;let o=[...t,l];if(r.type===y.Fragment){n.push.apply(n,di(r.props.children,o));return}r.type!==qe&&Se(!1),!r.props.index||!r.props.children||Se(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=di(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}function cg(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,o;for(o=0;o<r.length;o++)l=r[o],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function dg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fg(e,t){return e.button===0&&(!t||t==="_self")&&!dg(e)}function hi(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function hg(e,t){let n=hi(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(o=>{n.append(l,o)})}),n}const mg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pg="6";try{window.__reactRouterVersion=pg}catch{}const gg="startTransition",Bu=lh[gg];function yg(e){let{basename:t,children:n,future:r,window:l}=e,o=y.useRef();o.current==null&&(o.current=yp({window:l,v5Compat:!0}));let s=o.current,[i,a]=y.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},m=y.useCallback(d=>{u&&Bu?Bu(()=>a(d)):a(d)},[a,u]);return y.useLayoutEffect(()=>s.listen(m),[s,m]),y.useEffect(()=>sg(r),[r]),y.createElement(ag,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:s,future:r})}const vg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vu=y.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:o,replace:s,state:i,target:a,to:u,preventScrollReset:m,viewTransition:d}=t,h=cg(t,mg),{basename:w}=y.useContext(dn),k,v=!1;if(typeof u=="string"&&xg.test(u)&&(k=u,vg))try{let g=new URL(window.location.href),I=u.startsWith("//")?new URL(g.protocol+u):new URL(u),x=fa(I.pathname,w);I.origin===g.origin&&x!=null?u=x+I.search+I.hash:v=!0}catch{}let S=Gp(u,{relative:l}),p=wg(u,{replace:s,state:i,target:a,preventScrollReset:m,relative:l,viewTransition:d});function f(g){r&&r(g),g.defaultPrevented||p(g)}return y.createElement("a",fi({},h,{href:k||S,onClick:v||o?r:f,ref:n,target:a}))});var Qu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qu||(Qu={}));var Gu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gu||(Gu={}));function wg(e,t){let{target:n,replace:r,state:l,preventScrollReset:o,relative:s,viewTransition:i}=t===void 0?{}:t,a=il(),u=Ut(),m=xf(e,{relative:s});return y.useCallback(d=>{if(fg(d,n)){d.preventDefault();let h=r!==void 0?r:mo(u)===mo(m);a(e,{replace:h,state:l,preventScrollReset:o,relative:s,viewTransition:i})}},[u,a,m,r,l,n,e,o,s,i])}function My(e){let t=y.useRef(hi(e)),n=y.useRef(!1),r=Ut(),l=y.useMemo(()=>hg(r.search,n.current?null:t.current),[r.search]),o=il(),s=y.useCallback((i,a)=>{const u=hi(typeof i=="function"?i(l):i);n.current=!0,o("?"+u,a)},[o,l]);return[l,s]}const Sg={},Hu=e=>{let t;const n=new Set,r=(m,d)=>{const h=typeof m=="function"?m(t):m;if(!Object.is(h,t)){const w=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(k=>k(t,w))}},l=()=>t,a={setState:r,getState:l,getInitialState:()=>u,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Sg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,l,a);return a},kg=e=>e?Hu(e):Hu;var If={exports:{}},Nf={},Ef={exports:{}},Cf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=y;function Ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ng=typeof Object.is=="function"?Object.is:Ig,Eg=lr.useState,Cg=lr.useEffect,Pg=lr.useLayoutEffect,jg=lr.useDebugValue;function Tg(e,t){var n=t(),r=Eg({inst:{value:n,getSnapshot:t}}),l=r[0].inst,o=r[1];return Pg(function(){l.value=n,l.getSnapshot=t,hs(l)&&o({inst:l})},[e,n,t]),Cg(function(){return hs(l)&&o({inst:l}),e(function(){hs(l)&&o({inst:l})})},[e]),jg(n),n}function hs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ng(e,n)}catch{return!0}}function Rg(e,t){return t()}var _g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rg:Tg;Cf.useSyncExternalStore=lr.useSyncExternalStore!==void 0?lr.useSyncExternalStore:_g;Ef.exports=Cf;var Ag=Ef.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=y,Lg=Ag;function Mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zg=typeof Object.is=="function"?Object.is:Mg,Dg=Lg.useSyncExternalStore,bg=Do.useRef,Og=Do.useEffect,$g=Do.useMemo,Ug=Do.useDebugValue;Nf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var o=bg(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=$g(function(){function a(w){if(!u){if(u=!0,m=w,w=r(w),l!==void 0&&s.hasValue){var k=s.value;if(l(k,w))return d=k}return d=w}if(k=d,zg(m,w))return k;var v=r(w);return l!==void 0&&l(k,v)?(m=w,k):(m=w,d=v)}var u=!1,m,d,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,l]);var i=Dg(e,o[0],o[1]);return Og(function(){s.hasValue=!0,s.value=i},[i]),Ug(i),i};If.exports=Nf;var Fg=If.exports;const Bg=ec(Fg),Pf={},{useDebugValue:Vg}=xi,{useSyncExternalStoreWithSelector:Qg}=Bg;let Wu=!1;const Gg=e=>e;function Hg(e,t=Gg,n){(Pf?"production":void 0)!=="production"&&n&&!Wu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Wu=!0);const r=Qg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vg(r),r}const Yu=e=>{(Pf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?kg(e):e,n=(r,l)=>Hg(t,r,l);return Object.assign(n,t),n},cr=e=>e?Yu(e):Yu,Wg={};function Yg(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var o;const s=a=>a===null?null:JSON.parse(a,void 0),i=(o=n.getItem(l))!=null?o:null;return i instanceof Promise?i.then(s):s(i)},setItem:(l,o)=>n.setItem(l,JSON.stringify(o,void 0)),removeItem:l=>n.removeItem(l)}}const Zr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Zr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Zr(r)(n)}}}},qg=(e,t)=>(n,r,l)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,p)=>({...p,...S}),...t},s=!1;const i=new Set,a=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...S)},r,l);const m=Zr(o.serialize),d=()=>{const S=o.partialize({...r()});let p;const f=m({state:S,version:o.version}).then(g=>u.setItem(o.name,g)).catch(g=>{p=g});if(p)throw p;return f},h=l.setState;l.setState=(S,p)=>{h(S,p),d()};const w=e((...S)=>{n(...S),d()},r,l);let k;const v=()=>{var S;if(!u)return;s=!1,i.forEach(f=>f(r()));const p=((S=o.onRehydrateStorage)==null?void 0:S.call(o,r()))||void 0;return Zr(u.getItem.bind(u))(o.name).then(f=>{if(f)return o.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return o.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var g;return k=o.merge(f,(g=r())!=null?g:w),n(k,!0),d()}).then(()=>{p==null||p(k,void 0),s=!0,a.forEach(f=>f(k))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:S=>{o={...o,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:S=>(i.add(S),()=>{i.delete(S)}),onFinishHydration:S=>(a.add(S),()=>{a.delete(S)})},v(),k||w},Xg=(e,t)=>(n,r,l)=>{let o={storage:Yg(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...t},s=!1;const i=new Set,a=new Set;let u=o.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...v)},r,l);const m=()=>{const v=o.partialize({...r()});return u.setItem(o.name,{state:v,version:o.version})},d=l.setState;l.setState=(v,S)=>{d(v,S),m()};const h=e((...v)=>{n(...v),m()},r,l);l.getInitialState=()=>h;let w;const k=()=>{var v,S;if(!u)return;s=!1,i.forEach(f=>{var g;return f((g=r())!=null?g:h)});const p=((S=o.onRehydrateStorage)==null?void 0:S.call(o,(v=r())!=null?v:h))||void 0;return Zr(u.getItem.bind(u))(o.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return[!0,o.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var g;const[I,x]=f;if(w=o.merge(x,(g=r())!=null?g:h),n(w,!0),I)return m()}).then(()=>{p==null||p(w,void 0),w=r(),s=!0,a.forEach(f=>f(w))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:v=>{o={...o,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>s,onHydrate:v=>(i.add(v),()=>{i.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},o.skipHydration||k(),w||h},Kg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Wg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),qg(e,t)):Xg(e,t),bo=Kg,el={get(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}},set(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save to localStorage:",n)}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Failed to remove from localStorage:",t)}},clear(){try{localStorage.clear()}catch(e){console.error("Failed to clear localStorage:",e)}}};function Jg(){if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("");return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}let Rn=null,_n=null;function ms(){return Rn?Promise.resolve(Rn):_n||(_n=new Promise((e,t)=>{const n=indexedDB.open("tunetuna-storage",1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("zustand")||r.createObjectStore("zustand")},n.onsuccess=()=>{Rn=n.result,Rn.onclose=()=>{Rn=null,_n=null},e(Rn)},n.onerror=()=>{_n=null,t(n.error)}}),_n)}const Zg={getItem:async e=>{try{const t=await ms();return new Promise(n=>{const o=t.transaction(["zustand"],"readonly").objectStore("zustand").get(e);o.onsuccess=()=>{n(o.result||null)},o.onerror=()=>{n(null)}})}catch{return null}},setItem:async(e,t)=>{const n=await ms();return new Promise((r,l)=>{const i=n.transaction(["zustand"],"readwrite").objectStore("zustand").put(t,e);i.onsuccess=()=>{r()},i.onerror=()=>{l(i.error)}})},removeItem:async e=>{try{const t=await ms();return new Promise(n=>{const o=t.transaction(["zustand"],"readwrite").objectStore("zustand").delete(e);o.onsuccess=()=>{n()},o.onerror=()=>{n()}})}catch{}}},xe=cr()(bo(e=>({artists:[],albums:[],songs:[],genres:[],genresLastUpdated:null,genresLastChecked:null,genreSongs:{},years:[],yearsLastUpdated:null,yearsLastChecked:null,lastSyncCompleted:null,recentlyAdded:[],recentlyPlayed:[],recentlyPlayedLastUpdated:null,shufflePool:[],lastPoolUpdate:null,loading:{artists:!1,albums:!1,songs:!1,genres:!1,recentlyAdded:!1,recentlyPlayed:!1},sortPreferences:{artists:"RecentlyAdded",albums:"RecentlyAdded",songs:"RecentlyAdded",playlists:"RecentlyAdded"},setArtists:t=>e({artists:t}),setAlbums:t=>e({albums:t}),setGenres:t=>e({genres:t}),setGenreSongs:(t,n)=>e(r=>({genreSongs:{...r.genreSongs,[t]:n}})),clearGenreSongs:()=>e({genreSongs:{}}),clearGenreSongsForGenre:t=>e(n=>{const r={...n.genreSongs};return delete r[t],{genreSongs:r}}),setYears:t=>e({years:t}),setRecentlyAdded:t=>e({recentlyAdded:t}),setRecentlyPlayed:t=>e({recentlyPlayed:t}),addToRecentlyPlayed:t=>e(n=>{const r=n.recentlyPlayed.filter(o=>o.Id!==t.Id);return{recentlyPlayed:[t,...r].slice(0,10),recentlyPlayedLastUpdated:Date.now()}}),setLoading:(t,n)=>e(r=>({loading:{...r.loading,[t]:n}})),setSortPreference:(t,n)=>e(r=>({sortPreferences:{...r.sortPreferences,[t]:n}})),setSongs:t=>e({songs:t}),setLastSyncCompleted:t=>e({lastSyncCompleted:t}),refreshShufflePool:()=>e(t=>{let r=t.songs;const l=Object.values(t.genreSongs).flat().length;if(t.songs.length===0&&l>0&&(r=Object.values(t.genreSongs).flat()),r.length===0)return{shufflePool:[]};const o=new Set(t.recentlyPlayed.slice(0,10).map(u=>u.Id));r=r.filter(u=>!o.has(u.Id));let s=r;if(s.length<30){const u=t.recentlyPlayed.slice(0,30-s.length);s=[...s,...u.map(m=>t.songs.find(d=>d.Id===m.Id)).filter(Boolean)]}const i=[...s];for(let u=i.length-1;u>0;u--){const m=Math.floor(Math.random()*(u+1));[i[u],i[m]]=[i[m],i[u]]}return{shufflePool:i.slice(0,30),lastPoolUpdate:Date.now()}})}),{name:"music-storage",storage:Zg,partialize:e=>({genres:e.genres,genresLastUpdated:e.genresLastUpdated,genresLastChecked:e.genresLastChecked,genreSongs:e.genreSongs,songs:e.songs,shufflePool:e.shufflePool,lastPoolUpdate:e.lastPoolUpdate,years:e.years,yearsLastUpdated:e.yearsLastUpdated,yearsLastChecked:e.yearsLastChecked,lastSyncCompleted:e.lastSyncCompleted,recentlyPlayed:e.recentlyPlayed,recentlyPlayedLastUpdated:e.recentlyPlayedLastUpdated})}));function Fl(e){return e&&e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2032\u2033]/g,"'")}function zy(e){return e&&Fl(e).replace(/'/g,"")}function _t(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}class e0{constructor(){wt(this,"baseUrl","");wt(this,"accessToken","");wt(this,"userId","");wt(this,"genresCache",null);wt(this,"isPreloading",!1)}get serverBaseUrl(){return this.baseUrl}setCredentials(t,n,r){this.baseUrl=t.replace(/\/$/,""),this.accessToken=n,this.userId=r,this.genresCache=null}clearGenresCache(){this.genresCache=null}getHeaders(){return{Authorization:`MediaBrowser Token="${this.accessToken}"`,"Content-Type":"application/json","X-Emby-Authorization":`MediaBrowser Client="Tunetuna", Device="Web", DeviceId="${this.getDeviceId()}", Version="1.0.0"`}}getDeviceId(){let t=el.get("deviceId");return t||(t=Jg(),el.set("deviceId",t)),t}async request(t,n={}){const r=`${this.baseUrl}${t}`,l=await fetch(r,{...n,headers:{...this.getHeaders(),...n.headers}});if(!l.ok)throw l.status===401?new Error("Unauthorized - please login again"):new Error(`API request failed: ${l.statusText}`);return l.json()}async authenticate(t,n,r){const l=t.replace(/\/$/,"")+"/Users/authenticatebyname",o=new AbortController,s=setTimeout(()=>{console.warn("Authentication request timed out after 30 seconds"),o.abort()},3e4);let i;try{i=await fetch(l,{method:"POST",signal:o.signal,headers:{"Content-Type":"application/json","X-Emby-Authorization":`MediaBrowser Client="Tunetuna", Device="Web", DeviceId="${this.getDeviceId()}", Version="1.0.0"`},body:JSON.stringify({Username:n,Pw:r})}),clearTimeout(s)}catch(u){if(clearTimeout(s),u instanceof Error&&u.name==="AbortError"){const d=/^https?:\/\/100\.\d+\.\d+\.\d+/.test(t)?`
  VPN/Tailscale IP detected (100.x.x.x). Your phone may not be on the same VPN network.
   Try using your local network IP instead (e.g., http://192.168.1.x:8096)
`:"";throw new Error(`Request timeout - server did not respond within 30 seconds.

Possible issues:
- Server URL may be incorrect: ${l}
- Server may be down or unreachable${d}- CORS may be blocking the request (check browser console/Network tab)
- Network connectivity issues

If this was working earlier, check:
- Is the Jellyfin server still running?
- Are there any CORS errors in the browser console?
- Try accessing ${l} directly in your browser
- If using VPN/Tailscale IP, ensure your phone is on the same network`)}if(u instanceof TypeError){const m=u.message.toLowerCase();if(m.includes("failed to fetch")||m.includes("networkerror")){const h=/^https?:\/\/100\.\d+\.\d+\.\d+/.test(t)?`
  VPN/Tailscale IP detected. Your phone may not be able to access this IP.
   Try using your local network IP instead (e.g., http://192.168.1.x:8096)
`:"";throw new Error(`Network error - unable to reach server at ${l}

Possible issues:
- CORS is blocking the request (check Jellyfin server CORS settings)${h}- Server is not accessible from this network
- Invalid server URL

Check browser console for detailed error information.`)}throw new Error(`Network error: ${u.message}`)}throw u}if(!i.ok){const u=await i.text().catch(()=>"");throw new Error(u||`Authentication failed (${i.status})`)}const a=await i.json();return this.setCredentials(t,a.AccessToken,a.User.Id),a}getImageUrl(t,n="Primary",r){if(!this.baseUrl||!t)return"";const l=r??300,i=[`quality=${l<=128?75:90}`,`fillHeight=${l}`,`fillWidth=${l}`];return r&&i.push(`maxWidth=${r}`),`${this.baseUrl}/Items/${t}/Images/${n}?${i.join("&")}`}getArtistImageUrl(t,n){return this.getImageUrl(t,"Primary",n)}getArtistBackdropUrl(t,n){return this.getImageUrl(t,"Backdrop",n)}getAlbumArtUrl(t,n){return this.getImageUrl(t,"Primary",n)}buildQueryString(t,n=!1){const r=new URLSearchParams;return t.sortBy&&t.sortBy.forEach(l=>r.append("SortBy",l)),t.sortOrder&&r.append("SortOrder",t.sortOrder),t.limit&&r.append("Limit",t.limit.toString()),t.startIndex&&r.append("StartIndex",t.startIndex.toString()),t.includeItemTypes&&t.includeItemTypes.forEach(l=>r.append("IncludeItemTypes",l)),t.recursive!==void 0&&r.append("Recursive",t.recursive.toString()),t.parentId&&r.append("ParentId",t.parentId),t.searchTerm&&t.searchTerm.trim().length>0&&r.append("SearchTerm",t.searchTerm.trim()),t.genreIds&&t.genreIds.forEach(l=>r.append("GenreIds",l)),t.artistIds&&t.artistIds.forEach(l=>r.append("ArtistIds",l)),t.albumIds&&t.albumIds.forEach(l=>r.append("AlbumIds",l)),t.years&&t.years.forEach(l=>r.append("Years",l.toString())),t.minDateLastSaved&&r.append("MinDateLastSaved",t.minDateLastSaved.toISOString()),r.append("UserId",this.userId),r.append("Fields","PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,ProductionYear,DateCreated,DateModified,DateLastSaved"),n&&r.append("_t",Date.now().toString()),r.toString()}async getArtistById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get artist by ID:",r),null}}async getArtists(t={}){var l;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({...t,includeItemTypes:["MusicArtist"],recursive:!0});let r=await this.request(`/Artists?${n}`);return(((l=r.Items)==null?void 0:l.length)||0)===0&&(r.TotalRecordCount||0)===0&&(r=await this.request(`/Items?${n}`)),{Items:r.Items||[],TotalRecordCount:r.TotalRecordCount||0,StartIndex:r.StartIndex||0}}async getAlbumById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get album by ID:",r),null}}async getSongById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get song by ID:",r),null}}async getAlbums(t={}){const n=this.buildQueryString({...t,includeItemTypes:["MusicAlbum"],recursive:!0});return this.request(`/Items?${n}`)}async getSongs(t={},n=!1){const r=this.buildQueryString({...t,includeItemTypes:["Audio"],recursive:!0},n);return this.request(`/Items?${r}`)}async getGenres(t=!1){if(this.genresCache&&!t)return this.genresCache;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=xe.getState(),r=12*60*60*1e3;if(!t&&n.genres.length>0&&n.genresLastUpdated){const l=Date.now(),o=n.genresLastChecked||0;if(!(l-o>=r))return this.genresCache=n.genres,n.genres;try{const i=await this.getRecentlyAdded(50),a=await this.getSongs({limit:50,sortBy:["DateLastSaved"],sortOrder:"Descending"}),u=[...i.Items||[],...a.Items||[]];let m=0;for(const d of u){if(d.DateCreated){const h=new Date(d.DateCreated).getTime();h>m&&(m=h)}if(d.DateLastSaved){const h=new Date(d.DateLastSaved).getTime();h>m&&(m=h)}}if(xe.setState({genresLastChecked:l}),m<=n.genresLastUpdated)return this.genresCache=n.genres,n.genres}catch(i){return console.warn("[getGenres] Failed to check for new/modified tracks, using cached genres:",i),this.genresCache=n.genres,n.genres}}try{const l=new Map;let o=0;const s=200;let i=!0;for(;i;){const p=(await this.getAlbums({limit:s,startIndex:o})).Items||[];if(p.forEach(f=>{f.Genres&&f.Genres.forEach(g=>{const I=g.toLowerCase();l.has(I)||l.set(I,g)})}),i=p.length===s,o+=s,o>1e4)break}const a=new Set;let u=0,m=!0;for(;m;){const p=(await this.getSongs({limit:200,startIndex:u})).Items||[];if(p.forEach(f=>{f.Genres&&f.Genres.forEach(g=>{a.add(g.toLowerCase())})}),m=p.length===200,u+=200,u>1e4)break}const d=new Map,h=new Map;try{const S=new URLSearchParams({UserId:this.userId,Recursive:"true"}),p=await this.request(`/Genres?${S}`);let f=[];Array.isArray(p)?f=p:p&&typeof p=="object"&&"Items"in p&&(f=p.Items||[]),f.forEach(g=>{if(g.Name){const I=g.Name.toLowerCase();l.has(I)&&(d.set(I,g.Id),h.set(g.Id,g))}})}catch(S){console.warn("[getGenres] Failed to get genre IDs from API, will use synthetic IDs:",S)}const w=[],k=new Set;for(const[S,p]of l){if(k.has(S)||!a.has(S))continue;const f=d.get(S);if(f){const g=h.get(f);g&&(w.push(g),k.add(S))}else w.push({Id:`synthetic-${S.replace(/\s+/g,"-")}`,Name:p,Type:"Genre"}),k.add(S)}const v=Date.now();return xe.getState().setGenres(w),xe.setState({genresLastUpdated:v,genresLastChecked:v}),this.genresCache=w,w}catch(l){return console.error("[getGenres] Failed to build music genres:",l),n.genres.length>0?(this.genresCache=n.genres,n.genres):(this.genresCache=[],[])}}async getYears(t=!1){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=xe.getState(),r=12*60*60*1e3;if(!t&&n.years.length>0&&n.yearsLastUpdated){const l=Date.now(),o=n.yearsLastChecked||0;if(!(l-o>=r))return n.years;try{const a=(await this.getRecentlyAdded(50)).Items||[];let u=0;for(const m of a)if(m.DateCreated){const d=new Date(m.DateCreated).getTime();d>u&&(u=d)}if(xe.setState({yearsLastChecked:l}),u<=n.yearsLastUpdated)return n.years}catch(i){return console.warn("[getYears] Failed to check for new tracks, using cached years:",i),n.years}}try{const l=new Set;let o=0;const s=200;let i=!0;for(;i;){const d=(await this.getSongs({limit:s,startIndex:o})).Items||[];if(d.forEach(h=>{h.ProductionYear&&h.ProductionYear>0&&l.add(h.ProductionYear)}),i=d.length===s,o+=s,o>1e4)break}const a=Array.from(l).sort((m,d)=>m-d),u=Date.now();return xe.getState().setYears(a),xe.setState({yearsLastUpdated:u,yearsLastChecked:u}),a}catch(l){return console.error("[getYears] Failed to extract years:",l),n.years.length>0?n.years:[]}}async getGenreSongs(t,n,r=!1){let l=[];if(t.startsWith("synthetic-")||r){let i=0;const a=200;let u=!0;for(;u;){const d=(await this.getSongs({limit:a,startIndex:i},!0)).Items||[];if(l.push(...d),u=d.length===a,i+=a,i>5e4)break}}else{let i=0;const a=200;let u=!0;for(;u;){const d=(await this.getSongs({genreIds:[t],limit:a,startIndex:i})).Items||[];if(l.push(...d),u=d.length===a,i+=a,i>5e4)break}}return l.filter(i=>{var u;return(u=i.Genres)==null?void 0:u.some(m=>m.toLowerCase()===n.toLowerCase())}).map(i=>({Id:i.Id,Name:i.Name,AlbumArtist:i.AlbumArtist,ArtistItems:i.ArtistItems,Album:i.Album,AlbumId:i.AlbumId,IndexNumber:i.IndexNumber,ProductionYear:i.ProductionYear,PremiereDate:i.PremiereDate,RunTimeTicks:i.RunTimeTicks,Genres:i.Genres}))}async syncLibrary(t={scope:"incremental"}){const n=xe.getState();if(t.scope==="incremental"){const o=n.lastSyncCompleted,s=await this.getGenres(!1);let i=[];if(o){let v=0;const S=200;let p=!0;for(;p;){const g=(await this.getSongs({minDateLastSaved:new Date(o),limit:S,startIndex:v},!0)).Items||[];if(i.push(...g),p=g.length===S,v+=S,v>1e4)break}}else i=(await this.getSongs({limit:1e3,sortBy:["DateLastSaved"],sortOrder:"Descending"})).Items||[];const a=i.map(v=>({Id:v.Id,Name:v.Name,AlbumArtist:v.AlbumArtist,ArtistItems:v.ArtistItems,Album:v.Album,AlbumId:v.AlbumId,IndexNumber:v.IndexNumber,ProductionYear:v.ProductionYear,PremiereDate:v.PremiereDate,RunTimeTicks:v.RunTimeTicks,Genres:v.Genres})),u=n.songs,m=new Set(u.map(v=>v.Id)),d=a.filter(v=>!m.has(v.Id)),h=[...u,...d];try{n.setSongs(h)}catch(v){throw v instanceof DOMException&&v.name==="QuotaExceededError"?new Error("Storage quota exceeded. Please clear some data or use a smaller sync scope."):v}const w=new Set;d.forEach(v=>{var S;(S=v.Genres)==null||S.forEach(p=>{s.forEach(f=>{var g;((g=f.Name)==null?void 0:g.toLowerCase())===p.toLowerCase()&&w.add(f.Id)})})});const k=Array.from(w).map(async v=>{const S=s.find(I=>I.Id===v);if(!(S!=null&&S.Name))return;const p=n.genreSongs[v]||[];new Set(p.map(I=>I.Id));const f=d.filter(I=>{var x;return(x=I.Genres)==null?void 0:x.some(N=>N.toLowerCase()===S.Name.toLowerCase())}),g=[...p,...f];n.setGenreSongs(v,g)});await Promise.all(k);return}this.clearGenresCache(),n.clearGenreSongs();const l=(await this.getGenres(!0)).map(async o=>{if(!(!o.Name||!o.Id))try{const s=await this.getGenreSongs(o.Id,o.Name);n.setGenreSongs(o.Id,s)}catch(s){console.warn(`[syncLibrary] Failed to load songs for genre ${o.Name}:`,s)}});await Promise.all(l)}async search(t,n=20){const r=t?Fl(t.trim()):"",l=r.length>0,o=r.length,s=l&&o<3,i={limit:n,includeItemTypes:["MusicAlbum","Playlist","Audio"],recursive:!0};l&&(i.searchTerm=r,o>=3&&(i.includeItemTypes=["MusicArtist","MusicAlbum","Playlist","Audio"]));const a=this.buildQueryString(i),u=await this.request(`/Items?${a}`);let m=[];const d=[],h=[],w=[],k=new Set;if(u.Items.forEach(v=>{v.Type==="MusicArtist"?m.push(v):v.Type==="MusicAlbum"?d.push(v):v.Type==="Playlist"?h.push(v):v.Type==="Audio"&&(w.push(v),k.add(v.Id))}),s)try{const v=await this.getArtists({limit:1e3}),S=r.toLowerCase();m=(v.Items||[]).filter(p=>Fl(p.Name||"").toLowerCase().includes(S))}catch(v){console.error("Failed to fetch all artists for short query:",v)}if(l&&m.length>0){const v=r.toLowerCase(),p=m.filter(g=>Fl(g.Name||"").toLowerCase().includes(v)).map(g=>this.getArtistItems(g.Id).catch(I=>(console.error(`Failed to fetch songs for artist ${g.Id}:`,I),{albums:[],songs:[]})));(await Promise.all(p)).forEach(({songs:g})=>{g.forEach(I=>{k.has(I.Id)||(w.push(I),k.add(I.Id))})})}return{Artists:{Items:m,TotalRecordCount:m.length,StartIndex:0},Albums:{Items:d,TotalRecordCount:d.length,StartIndex:0},Playlists:{Items:h,TotalRecordCount:h.length,StartIndex:0},Songs:{Items:w,TotalRecordCount:w.length,StartIndex:0}}}async getRecentlyAdded(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({limit:t,includeItemTypes:["MusicAlbum"],recursive:!0,sortBy:["DateCreated"],sortOrder:"Descending"});return await this.request(`/Items?${n}`)}async getRecentlyPlayed(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({Limit:t.toString(),IncludeItemTypes:"Audio",Recursive:"true",SortBy:"DatePlayed",SortOrder:"Descending",Filters:"IsPlayed",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return await this.request(`/Items?${n}`)}async getAlbumTracks(t){const n=new URLSearchParams({ParentId:t,IncludeItemTypes:"Audio",SortBy:"IndexNumber",SortOrder:"Ascending",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return(await this.request(`/Items?${n}`)).Items}async getArtistItems(t){const n=new URLSearchParams({ArtistIds:t,IncludeItemTypes:"MusicAlbum,Audio",Recursive:"true",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"}),r=await this.request(`/Items?${n}`),l=[],o=[];return r.Items.forEach(s=>{s.Type==="MusicAlbum"?l.push(s):s.Type==="Audio"&&o.push(s)}),{albums:l,songs:o}}async getGenreItems(t,n=50){const r=this.buildQueryString({genreIds:[t],includeItemTypes:["MusicAlbum"],recursive:!0,limit:n,sortBy:["DateCreated"],sortOrder:"Descending"});return this.request(`/Items?${r}`)}async getPlaylists(t={}){const n=this.buildQueryString({...t,includeItemTypes:["Playlist"],recursive:!0});return this.request(`/Items?${n}`)}async markItemAsPlayed(t){if(!this.userId||!this.baseUrl||!t)throw new Error("Not authenticated or invalid item ID");try{await this.request(`/Users/${this.userId}/PlayedItems/${t}`,{method:"POST"})}catch(n){console.warn("Failed to mark item as played:",n)}}async getLyrics(t){if(!this.userId||!this.baseUrl||!t)return null;try{const n=[`/Items/${t}/Lyrics`,`/Items/${t}/RemoteLyrics`,`/Audio/${t}/Lyrics`];let r=null;for(const l of n){const o=new URLSearchParams({UserId:this.userId}),s=`${this.baseUrl}${l}?${o}`;try{const i=await fetch(s,{headers:this.getHeaders()});if(i.ok){const a=await i.json();if(a.Lyrics&&Array.isArray(a.Lyrics)&&a.Lyrics.length>0)return a.Lyrics.map(m=>m.Text||"").join(`
`);if(typeof a=="string")return a;if(a.Text)return a.Text}else if(i.status===404){r=`404 for ${l}`;continue}else{const a=await i.text().catch(()=>"");r=`${i.status}: ${a}`;continue}}catch(i){r=i instanceof Error?i.message:String(i);continue}}return null}catch(n){return console.warn("[getLyrics] Failed to fetch lyrics:",n),null}}}const H=new e0,gt=cr()(bo(e=>({serverUrl:"",setServerUrl:t=>e({serverUrl:t}),pageVisibility:{artists:!0,albums:!0,songs:!0,genres:!0,playlists:!0},setPageVisibility:t=>e(n=>({pageVisibility:{...n.pageVisibility,...t},settingsLastUpdated:Date.now()})),accentColor:"blue",setAccentColor:t=>e({accentColor:t,settingsLastUpdated:Date.now()}),showQueueRecommendations:!0,setShowQueueRecommendations:t=>e({showQueueRecommendations:t}),recommendationsQuality:"good",setRecommendationsQuality:t=>e({recommendationsQuality:t}),settingsLastUpdated:null}),{name:"settings-storage"})),po=cr(e=>({toasts:[],addToast:(t,n="success",r=3e3)=>{const l=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o={id:l,message:t,type:n,duration:r};e(s=>({toasts:[...s.toasts,o]})),r>0&&setTimeout(()=>{e(s=>({toasts:s.toasts.filter(i=>i.id!==l)}))},r)},removeToast:t=>{e(n=>({toasts:n.toasts.filter(r=>r.id!==t)}))}})),jf=new Set,go=new Map;function t0(){jf.clear();for(const e of go.values())clearTimeout(e);go.clear()}function n0(e,t,n=5e3){const r=setTimeout(async()=>{const l=t();if((l==null?void 0:l.Id)===e)try{await H.markItemAsPlayed(e),jf.add(e),setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:e}}))},4e3)}catch{}go.delete(e)},n);go.set(e,r)}function Ct(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}const le=cr()(bo((e,t)=>({songs:[],currentIndex:-1,previousIndex:-1,standardOrder:[],shuffleOrder:[],isPlaying:!1,currentTime:0,duration:0,volume:1,shuffle:!1,repeat:"off",audioElement:null,isFetchingRecommendations:!1,isLoadingMoreSongs:!1,shuffleHasMoreSongs:!1,lastPlayedTrack:null,isShuffleAllActive:!1,isShuffleGenreActive:!1,manuallyCleared:!1,isQueueSidebarOpen:!1,setAudioElement:n=>{e({audioElement:n}),n&&(n.volume=t().volume)},setIsFetchingRecommendations:n=>{e({isFetchingRecommendations:n})},setIsLoadingMoreSongs:n=>{e({isLoadingMoreSongs:n})},setCurrentTime:n=>{e({currentTime:n})},setDuration:n=>{e({duration:n})},setVolume:n=>{e({volume:n});const r=t().audioElement;r&&(r.volume=n)},clearQueue:()=>{e(n=>{const r=n.currentIndex>=0?[n.songs[n.currentIndex]]:[];return{songs:r,currentIndex:r.length>0?0:-1,previousIndex:-1,standardOrder:r.map(l=>l.Id),shuffleOrder:r.map(l=>l.Id),manuallyCleared:!0}})},addToQueue:(n,r=!1,l="user")=>{e(o=>{const s=o.currentIndex>=0?o.songs[o.currentIndex]:null,i=n.map(k=>({...k,source:l}));let a;const u=i;if(r){const k=o.shuffle?Ct([...i]):i,v=o.currentIndex+1,S=o.songs.slice(0,v),p=o.songs.slice(v);a=[...S,...k,...p]}else if(l==="recommendation")a=[...o.songs,...u];else{const k=o.songs.findIndex((v,S)=>S>o.currentIndex&&v.source==="recommendation");k!==-1?a=[...o.songs.slice(0,k),...u,...o.songs.slice(k)]:a=[...o.songs,...u]}let m=o.currentIndex;if(o.currentIndex>=0&&s){const k=a.findIndex(v=>v.Id===s.Id);k!==-1?m=k:console.error("[addToQueue] CRITICAL: Could not find current song in new queue!")}let d=a;if(a.length>1e3){const k=a.slice(0,m),v=a.slice(m+1),S=k.slice(-5),p=v,f=1e3-S.length-(s?1:0)-p.length,g=k.slice(-Math.max(0,f));d=[...g,...s?[s]:[],...p],m=s?g.length:-1}const w=d.filter(k=>k.source==="user").map(k=>k.Id);return{songs:d,currentIndex:m,standardOrder:w,shuffleOrder:w,manuallyCleared:!1}})},addToQueueWithToast:n=>{t().addToQueue(n,!1,"user");const r=n.length,l=r===1?"Added to queue":`${r} songs added to queue`;po.getState().addToast(l,"success",2e3)},removeFromQueue:n=>{e(r=>{if(n<0||n>=r.songs.length)return r;const l=r.songs[n],o=r.songs.filter((m,d)=>d!==n);let s=r.standardOrder.filter(m=>m!==l.Id),i=r.shuffleOrder.filter(m=>m!==l.Id),a=r.currentIndex,u=r.previousIndex;return n<r.currentIndex?a=r.currentIndex-1:n===r.currentIndex&&(a=-1),n<r.previousIndex?u=r.previousIndex-1:n===r.previousIndex&&(u=-1),{songs:o,currentIndex:a,previousIndex:u,standardOrder:s,shuffleOrder:i}})},reorderQueue:(n,r)=>{e(l=>{if(n<0||r<0||n>=l.songs.length||r>=l.songs.length||n===r)return l;const o=l.songs[n],s=l.songs[r];if(o.source!==s.source)return l;const i=[...l.songs],[a]=i.splice(n,1);if(i.splice(r,0,a),o.source==="user"){const m=l.shuffle?"shuffleOrder":"standardOrder",d=l[m],h=d.indexOf(o.Id);if(h>=0){const w=[...d];w.splice(h,1);const v=i.slice(0,r+1).filter(p=>p.source==="user").length-1;w.splice(v,0,o.Id);const S=r===l.currentIndex||n===l.currentIndex?r:l.currentIndex;return{songs:i,[m]:w,currentIndex:S,previousIndex:r===l.previousIndex||n===l.previousIndex?r:l.previousIndex}}}const u=r===l.currentIndex||n===l.currentIndex?r:l.currentIndex;return{songs:i,currentIndex:u,previousIndex:r===l.previousIndex||n===l.previousIndex?r:l.previousIndex}})},play:()=>{const{audioElement:n,currentIndex:r,songs:l}=t();if(n&&r>=0&&r<l.length){const o=l[r],s=H.serverBaseUrl,i=s?`${s}/Audio/${o.Id}/stream?static=true`:"";n.src!==i&&(n.src=i,n.load()),n.play().then(()=>{e({isPlaying:!0}),n0(o.Id,()=>t().songs[t().currentIndex]||null),xe.getState().addToRecentlyPlayed(o)}).catch(a=>{console.error("Playback error:",a),e({isPlaying:!1})})}},pause:()=>{const n=t().audioElement;n&&(n.pause(),e({isPlaying:!1}))},togglePlayPause:()=>{const{isPlaying:n,play:r,pause:l}=t();n?l():r()},next:()=>{const n=t();if(n.songs.length===0)return;let r=n.currentIndex+1;if(r>=n.songs.length)if(n.repeat==="all")r=0;else{t().pause();return}const l=n.currentIndex>=0?n.songs[n.currentIndex]:null;e({previousIndex:n.currentIndex,currentIndex:r,lastPlayedTrack:l}),t().play()},previous:()=>{e(n=>{if(n.songs.length===0)return n;let r=n.currentIndex,l=n.currentIndex;if(n.currentIndex>0)r=n.currentIndex-1;else if(n.repeat==="all")r=n.songs.length-1;else return n;return{currentIndex:r,previousIndex:l}}),t().play()},seek:n=>{const r=t().audioElement;r&&(r.currentTime=n,e({currentTime:n}))},toggleShuffle:()=>{e(n=>{const r=!n.shuffle;if(r){const l=n.songs.slice(0,n.currentIndex),o=n.currentIndex>=0?n.songs[n.currentIndex]:null,s=n.songs.slice(n.currentIndex+1).filter(h=>h.source==="user"),i=n.songs.filter(h=>h.source==="recommendation"),a=Ct(s.map(h=>h.Id)),u=a.map(h=>s.find(w=>w.Id===h)).filter(Boolean),m=[...l,...o?[o]:[],...u,...i],d=[...n.standardOrder.slice(0,n.currentIndex+1),...a];return{shuffle:r,shuffleOrder:d,songs:m}}else{const l=n.songs.slice(0,n.currentIndex),o=n.currentIndex>=0?n.songs[n.currentIndex]:null,i=n.standardOrder.slice(n.currentIndex+1).map(m=>n.songs.find(d=>d.Id===m&&d.source==="user")).filter(Boolean),a=n.songs.filter(m=>m.source==="recommendation"),u=[...l,...o?[o]:[],...i,...a];return{shuffle:r,songs:u}}})},toggleRepeat:()=>{e(n=>({repeat:n.repeat==="off"?"all":n.repeat==="all"?"one":"off"}))},playTrack:(n,r)=>{let l,o;r?(l=r,o=r.findIndex(i=>i.Id===n.Id),o===-1&&(l=[n,...r.filter(i=>i.Id!==n.Id)],o=0)):(l=[n],o=0);const s=l.map(i=>({...i,source:"user"}));e({songs:s,standardOrder:s.map(i=>i.Id),shuffleOrder:s.map(i=>i.Id),currentIndex:o,previousIndex:o>0?o-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playAlbum:(n,r=0)=>{const l=n.map(o=>({...o,source:"user"}));e({songs:l,standardOrder:l.map(o=>o.Id),shuffleOrder:l.map(o=>o.Id),currentIndex:r,previousIndex:r>0?r-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playNext:n=>{t().addToQueue(n,!0);const r=n.length,l=r===1?"Playing next":`${r} songs playing next`;po.getState().addToast(l,"success",2e3)},shuffleArtist:n=>{const l=Ct(n).map(o=>({...o,source:"user"}));e({songs:l,standardOrder:l.map(o=>o.Id),shuffleOrder:l.map(o=>o.Id),currentIndex:0,previousIndex:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},shuffleAllSongs:async()=>{t().clearQueue();const{setShowQueueRecommendations:n}=gt.getState();n(!1);const l=typeof window<"u"&&window.innerWidth<768?400:800,o=xe.getState();let s=[];if(o.shufflePool.length>=1){const d=Math.min(5,o.shufflePool.length);s=o.shufflePool.slice(0,d);const h=o.shufflePool.slice(d),w=o.songs,k=new Set(o.recentlyPlayed.slice(0,10).map(f=>f.Id)),v=w.filter(f=>!k.has(f.Id)),S=Ct(v).slice(0,d),p=[...h,...S];xe.setState({shufflePool:p,lastPoolUpdate:Date.now()})}else{let d=o.songs;if(!d||d.length===0)try{d=(await H.getSongs({limit:Math.max(50,l),sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]}catch(h){console.error("Failed to fetch songs for shuffle all:",h);return}s=Ct(d).slice(0,5),d.filter(h=>!s.some(w=>w.Id===h.Id)),xe.setState({songs:d,shufflePool:Ct(d).slice(0,30),lastPoolUpdate:Date.now()})}const i=s.map(d=>({...d,source:"user"})),a=s.length,m=o.songs.length+Object.values(o.genreSongs).flat().length>s.length;e({songs:i,standardOrder:i.map(d=>d.Id),shuffleOrder:i.map(d=>d.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:m,manuallyCleared:!0}),t().play(),setTimeout(async()=>{try{const d=t();if(!d.shuffle||d.songs.length!==a)return;let h=o.songs;(!h||h.length===0)&&(h=(await H.getSongs({limit:l,sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]);const w=Object.values(o.genreSongs).flat(),k=[...h,...w],v=new Map;k.forEach(g=>v.set(g.Id,g));const S=Array.from(v.values()),p=new Set(i.map(g=>g.Id)),f=S.filter(g=>!p.has(g.Id));if(f.length>0){const g=Math.min(l-a,f.length),x=Ct(f).slice(0,g).map(N=>({...N,source:"user"}));e(N=>{const E=new Set(i.map(G=>G.Id)),P=N.songs.filter(G=>!E.has(G.Id)&&G.source==="user"),T=[...i,...P,...x];let _=N.currentIndex;if(P.length>0&&N.currentIndex>=i.length){const G=N.songs[N.currentIndex];G&&(_=T.findIndex(oe=>oe.Id===G.Id))}return{songs:T,currentIndex:_>=0?_:N.currentIndex,standardOrder:T.map(G=>G.Id),shuffleOrder:T.map(G=>G.Id),shuffleHasMoreSongs:f.length>g,manuallyCleared:!1}}),xe.getState().refreshShufflePool()}}catch(d){console.error("Failed to expand shuffle queue:",d)}},100)},shuffleGenreSongs:async(n,r)=>{t().clearQueue();const{setShowQueueRecommendations:l}=gt.getState();l(!1);const s=typeof window<"u"&&window.innerWidth<768?400:800,i=xe.getState().genreSongs[n];if(!i||i.length===0){console.warn(`No songs found for genre: ${r}`);return}const a=Ct(i).slice(0,5),u=i.filter(h=>!a.some(w=>w.Id===h.Id)),m=a.map(h=>({...h,source:"user"})),d=i.length>5;e({songs:m,standardOrder:m.map(h=>h.Id),shuffleOrder:m.map(h=>h.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:d,manuallyCleared:!0}),t().play(),setTimeout(async()=>{try{const h=t();if(!h.shuffle||h.songs.length!==5)return;if(u.length>0){const w=Math.min(s-5,u.length),v=Ct(u).slice(0,w).map(S=>({...S,source:"user"}));e(S=>{const p=new Set(m.map(x=>x.Id)),f=S.songs.filter(x=>!p.has(x.Id)&&x.source==="user"),g=[...m,...f,...v];let I=S.currentIndex;if(f.length>0&&S.currentIndex>=m.length){const x=S.songs[S.currentIndex];x&&(I=g.findIndex(N=>N.Id===x.Id))}return{songs:g,currentIndex:I>=0?I:S.currentIndex,standardOrder:g.map(x=>x.Id),shuffleOrder:g.map(x=>x.Id),shuffleHasMoreSongs:u.length>w,manuallyCleared:!1}})}}catch(h){console.error("Failed to expand genre shuffle queue:",h)}},100)},skipToTrack:n=>{const{songs:r,currentIndex:l}=t();if(n<0||n>=r.length)return;const o=l>=0?r[l]:null;e({previousIndex:l>=0?l:-1,currentIndex:n,lastPlayedTrack:o}),t().play()},refreshCurrentTrack:async()=>{const{currentIndex:n,songs:r}=t();if(n<0||n>=r.length)return;const l=r[n];try{const o=await H.getSongById(l.Id);o&&e(s=>{const i=[...s.songs];return i[s.currentIndex]={...i[s.currentIndex],...o},{songs:i}})}catch(o){console.error("Failed to refresh current track:",o)}},toggleQueueSidebar:()=>{e(n=>({isQueueSidebarOpen:!n.isQueueSidebarOpen}))}}),{name:"player-storage",partialize:e=>({songs:e.songs,currentIndex:e.currentIndex,previousIndex:e.previousIndex,standardOrder:e.standardOrder,shuffleOrder:e.shuffleOrder,volume:e.volume,shuffle:e.shuffle,repeat:e.repeat,lastPlayedTrack:e.lastPlayedTrack,isShuffleAllActive:e.isShuffleAllActive,isShuffleGenreActive:e.isShuffleGenreActive,manuallyCleared:e.manuallyCleared,isQueueSidebarOpen:e.isQueueSidebarOpen}),onRehydrateStorage:e=>{e&&(e.isPlaying=!1,e.currentTime=0,e.duration=0,e.audioElement=null,e.isFetchingRecommendations=!1,e.isShuffleAllActive=!1,e.isShuffleGenreActive=!1)}})),Tf=cr()(bo(e=>({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1,login:async(t,n,r)=>{try{const l=await H.authenticate(t,n,r);e({serverUrl:t,username:n,accessToken:l.AccessToken,userId:l.User.Id,isAuthenticated:!0}),H.setCredentials(t,l.AccessToken,l.User.Id)}catch(l){throw l}},logout:()=>{t0(),e({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1}),el.remove("auth-storage")},setCredentials:(t,n,r)=>{e({serverUrl:t,accessToken:n,userId:r,isAuthenticated:!0}),H.setCredentials(t,n,r)}}),{name:"auth-storage",onRehydrateStorage:()=>e=>{e!=null&&e.isAuthenticated&&e.serverUrl&&e.accessToken&&e.userId&&H.setCredentials(e.serverUrl,e.accessToken,e.userId)}})),qu="last-server-url";function r0(){const[e,t]=y.useState(""),[n,r]=y.useState(""),[l,o]=y.useState(""),[s,i]=y.useState(""),[a,u]=y.useState(!1),m=Tf(h=>h.login);y.useEffect(()=>{const h=el.get(qu);h&&t(h)},[]);const d=async h=>{h.preventDefault(),i(""),u(!0),e.trim()&&el.set(qu,e.trim());try{await m(e,n,l)}catch(w){i(w instanceof Error?w.message:"Login failed. Please check your credentials.")}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tunetuna"}),c.jsx("p",{className:"text-gray-400",children:"Sign in to your Jellyfin server"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"serverUrl",className:"block text-sm font-medium text-gray-300 mb-2",children:"Server URL"}),c.jsx("input",{id:"serverUrl",type:"url",value:e,onChange:h=>t(h.target.value),placeholder:"https://your-server.com",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),c.jsx("input",{id:"username",type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Your username",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsx("input",{id:"password",type:"password",value:l,onChange:h=>o(h.target.value),placeholder:"Your password",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),s&&c.jsx("div",{className:"bg-red-900/30 border border-red-800 text-red-200 px-4 py-3 rounded-lg text-sm whitespace-pre-wrap",children:s}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[var(--accent-color)] hover:brightness-90 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:a?"Signing in...":"Sign In"})]})]})})}/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Xu=e=>{const t=o0(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rf=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),s0=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:s,...i},a)=>y.createElement("svg",{ref:a,...i0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Rf("lucide",l),...!o&&!s0(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,m])=>y.createElement(u,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=y.forwardRef(({className:r,...l},o)=>y.createElement(a0,{ref:o,iconNode:t,className:Rf(`lucide-${l0(Xu(e))}`,`lucide-${e}`,r),...l}));return n.displayName=Xu(e),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],c0=re("check",u0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],f0=re("chevron-down",d0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m0=re("circle-alert",h0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ga=re("disc",p0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],y0=re("grip-horizontal",g0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.23 9.85A3 3 0 0 1 11 8a5 5 0 0 1 5 5 3 3 0 0 1-1.85 2.77l-.92.38A2 2 0 0 0 12 18a4 4 0 0 1-4 4 6 6 0 0 1-6-6 4 4 0 0 1 4-4 2 2 0 0 0 1.85-1.23z",key:"1de1vg"}]],Bl=re("guitar",v0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],w0=re("house",x0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],k0=re("info",S0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M9 19H3",key:"s61nz1"}],["path",{d:"m16 16-3 3 3 3",key:"117b85"}],["path",{d:"M21 5v12a2 2 0 0 1-2 2h-6",key:"hey24a"}]],El=re("list-end",I0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],E0=re("list-music",N0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M3 5h6",key:"1ltk0q"}],["path",{d:"M3 12h13",key:"ppymz1"}],["path",{d:"M3 19h13",key:"bpdczq"}],["path",{d:"m16 8-3-3 3-3",key:"1pjpp6"}],["path",{d:"M21 19V7a2 2 0 0 0-2-2h-6",key:"4zzq67"}]],Cl=re("list-start",C0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 19H3",key:"108z41"}],["path",{d:"M15 12.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"ms4nik"}]],mi=re("list-video",P0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],T0=re("mic-vocal",j0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],_0=re("music",R0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],tl=re("pause",A0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ln=re("play",L0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ps=re("refresh-cw",M0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]],ya=re("repeat-1",z0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],va=re("repeat",D0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Xn=re("shuffle",b0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],xa=re("skip-back",O0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],wa=re("skip-forward",$0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],F0=re("square-play",U0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yo=re("user",B0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],Q0=re("volume-1",V0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],H0=re("volume-2",G0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]],Y0=re("volume",W0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sa=re("x",q0),Oo=cr((e,t)=>({state:"idle",source:null,message:null,abortController:null,startSync:(n,r="Syncing...")=>{const l=new AbortController;e({state:"syncing",source:n,message:r,abortController:l})},completeSync:(n,r)=>{e({state:n?"success":"error",message:r||(n?"Sync complete":"Sync failed"),abortController:null}),setTimeout(()=>{t().reset()},3e3)},cancelSync:()=>{const{abortController:n}=t();n&&n.abort(),e({state:"idle",source:null,message:null,abortController:null})},reset:()=>{e({state:"idle",source:null,message:null,abortController:null})}}));function At({variant:e="horizontal",onClose:t,onOpenPopover:n,popoverPosition:r,popoverDirection:l="up",className:o,onRef:s}){const{volume:i,setVolume:a}=le(),[u,m]=y.useState(!1),[d,h]=y.useState(1),w=y.useRef(null),k=z=>{s&&e==="compact"&&s(z)},v=z=>{s&&e==="horizontal"&&s(z)};y.useEffect(()=>{const z=localStorage.getItem("lastNonZeroVolume");z?h(Math.max(.01,Math.min(1,parseFloat(z)))):i>0&&h(i)},[]),y.useEffect(()=>{i>0&&(h(i),localStorage.setItem("lastNonZeroVolume",i.toString()))},[i]);const S=()=>i===0?Y0:i<=.5?Q0:H0,p=y.useCallback(z=>{if(!w.current)return;const D=w.current.getBoundingClientRect();let R,F;if(z instanceof TouchEvent||z.touches?(R=z.touches[0].clientX,F=z.touches[0].clientY):(R=z.clientX,F=z.clientY),e==="horizontal"){const C=R-D.left,A=Math.max(0,Math.min(1,C/D.width));a(A)}else{const C=D.bottom-F,A=Math.max(0,Math.min(1,C/D.height));a(A)}},[a,e]),f=z=>{z.preventDefault(),z.stopPropagation(),m(!0),p(z)},g=z=>{z.stopPropagation(),f(z)},I=z=>{z.stopPropagation(),E(z)},x=y.useCallback(z=>{u&&(z.preventDefault(),z.stopPropagation(),p(z))},[u,p]),N=y.useCallback(()=>{m(!1)},[]),E=z=>{z.preventDefault(),z.stopPropagation(),m(!0),p(z)},P=y.useCallback(z=>{u&&(z.preventDefault(),z.stopPropagation(),p(z))},[u,p]),T=y.useCallback(()=>{m(!1)},[]),_=z=>{z.stopPropagation(),le.getState().volume>0?a(0):a(d)},G=z=>{z.stopPropagation()};y.useEffect(()=>{if(u)return document.addEventListener("mousemove",x),document.addEventListener("mouseup",N),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",T),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",N),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",T)}},[u,x,N,P,T]);const oe=S();if(e==="compact")return c.jsx("button",{ref:k,onClick:z=>{z.stopPropagation(),n&&n()},className:o||"text-white/70 hover:text-zinc-300 transition-colors",children:c.jsx(oe,{className:"w-6 h-6"})});if(e==="horizontal")return c.jsxs("div",{ref:v,className:"flex items-center gap-2 px-2 select-none",style:{width:"120px"},onClick:G,children:[c.jsx("button",{onClick:_,className:"text-white/70 hover:text-zinc-300 flex-shrink-0",children:c.jsx(oe,{className:"w-5 h-5"})}),c.jsx("div",{ref:w,className:"flex-1 relative cursor-pointer",style:{height:"24px"},onMouseDown:g,onTouchStart:I,children:c.jsx("div",{className:"absolute top-1/2 left-0 right-0 -translate-y-1/2 h-1 bg-zinc-800/35 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gray-400 rounded-full transition-all duration-100",style:{width:`${i*100}%`}})})})]});const de=r?{position:"fixed",top:`${r.top}px`,left:`${r.left}px`,transform:l==="down"?"translate(-50%, 8px)":"translate(-50%, calc(-100% - 8px))"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return c.jsxs("div",{className:"fixed inset-0 z-50",children:[c.jsx("div",{className:"fixed inset-0",onClick:t,onTouchStart:z=>z.preventDefault(),onTouchMove:z=>z.preventDefault()}),c.jsx("div",{className:"relative z-10 bg-zinc-900 rounded-lg py-4 px-0 shadow-xl border border-zinc-700",style:de,children:c.jsxs("div",{className:"h-[200px] w-[38px] cursor-pointer group relative touch-none mx-auto",children:[c.jsx("div",{ref:w,onMouseDown:f,onTouchStart:E,className:"absolute inset-0"}),c.jsxs("div",{className:"h-full w-1 bg-zinc-800/35 rounded-full relative flex flex-col justify-end mx-auto",children:[c.jsx("div",{className:"w-full bg-gray-400 rounded-full transition-all",style:{height:`${i*100}%`}}),c.jsx("div",{className:"absolute left-1/2 w-4 h-4 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",style:{bottom:`${i*100}%`,transform:"translate(-50%, 50%)"}})]})]})})]})}const X0=[{path:"/",label:"Home",icon:w0,key:"home"},{path:"/artists",label:"Artists",icon:yo,key:"artists"},{path:"/albums",label:"Albums",icon:ga,key:"albums"},{path:"/songs",label:"Songs",icon:_0,key:"songs"},{path:"/genres",label:"Genres",icon:Bl,key:"genres"},{path:"/playlists",label:"Playlists",icon:E0,key:"playlists"}];function K0(){const e=Ut(),{pageVisibility:t}=gt(),{state:n}=Oo(),[r,l]=y.useState(!1),o=X0.filter(a=>a.key==="home"?!0:t[a.key]),s=(a,u)=>{window.dispatchEvent(new CustomEvent("closePlayerModal")),e.pathname===u&&a.preventDefault()},i=e.pathname.startsWith("/artists/")&&e.pathname!=="/artists";return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 lg:hidden",style:{bottom:"calc(env(safe-area-inset-bottom) - 8px)"},children:[c.jsxs("div",{className:"relative h-16",children:[c.jsx("div",{className:"max-w-[600px] mx-auto h-full",children:c.jsx("div",{className:"flex justify-around items-center h-full",children:o.map(a=>{const u=e.pathname===a.path,m=a.icon;return c.jsxs(Vu,{to:a.path,onClick:d=>s(d,a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${u?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:[c.jsx(m,{className:"w-5 h-5 mb-1"}),c.jsx("span",{className:"text-xs font-medium",children:a.label})]},a.path)})})}),c.jsx("div",{className:"absolute right-4 top-3.5 hidden lg:block",children:!_t()&&c.jsx(At,{variant:"horizontal"})})]}),r&&!_t()&&c.jsx(At,{variant:"vertical",onClose:()=>l(!1)})]}),c.jsx("nav",{className:"fixed left-0 top-0 bottom-16 bg-black z-30 hidden lg:flex flex-col",style:{width:"4rem",top:n!=="idle"?"28px":"0px"},children:c.jsx("div",{className:`absolute inset-0 flex flex-col items-center justify-center ${i?"border-r border-zinc-800":""}`,children:o.map((a,u)=>{const m=e.pathname===a.path,d=a.icon;return c.jsxs(Vu,{to:a.path,onClick:h=>s(h,a.path),className:`flex flex-col items-center justify-center py-5 transition-colors ${m?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"} ${u<o.length-1?"mb-0":""}`,style:{marginBottom:u<o.length-1?"0px":"0"},children:[c.jsx(d,{className:"w-6 h-6 mb-2"}),c.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:a.label})]},a.path)})})})]})}function ka(){return le(e=>{const{songs:t,currentIndex:n}=e;return n>=0&&t[n]?t[n]:null})}function Ia(){return le(e=>e.lastPlayedTrack)}function vo({src:e,alt:t,className:n="",fallback:r,style:l,showOutline:o,rounded:s="rounded",onError:i}){const[a,u]=y.useState(e),[m,d]=y.useState(!1),[h,w]=y.useState(!1);y.useEffect(()=>{u(e),d(!1),w(!1)},[e]);const k=()=>{!m&&r?(u(r),d(!0)):i?(i(),w(!0)):u('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23333" width="300" height="300"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="20" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3ENo Image%3C/text%3E%3C/svg%3E')};return h?null:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:a,alt:t,className:`block ${n}`,onError:k,loading:"lazy",style:l}),o&&c.jsx("div",{className:`absolute inset-0 pointer-events-none border ${s}`,style:{borderColor:"rgba(24, 24, 27, 0.6)",borderWidth:"1px"}})]})}function Ku(){return c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-zinc-800 border-t-[var(--accent-color)]"})}function J0({isOpen:e,onClose:t,children:n,zIndex:r=110}){const[l,o]=y.useState(!1),[s,i]=y.useState(!1);if(y.useEffect(()=>{if(e)o(!1),i(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(!0)})}),document.body.style.overflow="hidden";else{o(!1);const u=setTimeout(()=>{i(!1),document.body.style.overflow=""},300);return()=>{clearTimeout(u),document.body.style.overflow=""}}},[e]),!s)return null;const a=c.jsxs("div",{className:"fixed inset-0",style:{zIndex:r},children:[c.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,onClick:t}),c.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-zinc-900 rounded-t-2xl shadow-2xl transform transition-transform duration-300 ease-out ${l?"translate-y-0":"translate-y-full"}`,onClick:u=>u.stopPropagation(),children:c.jsx("div",{className:"pb-safe pt-4",children:c.jsx("div",{className:"max-w-[768px] mx-auto w-full",children:n})})})]});return ca.createPortal(a,document.body)}function Z0({item:e,itemType:t,isOpen:n,onClose:r,zIndex:l,onNavigate:o,mode:s="mobile",position:i}){const a=il(),[u,m]=y.useState(!1),[d,h]=y.useState(null),[w,k]=y.useState(null),{playTrack:v,playAlbum:S,addToQueueWithToast:p,playNext:f,shuffleArtist:g,toggleShuffle:I}=le(),{startSync:x,completeSync:N}=Oo(),{genres:E}=xe(),P=y.useRef(e),T=y.useRef(t);y.useEffect(()=>{P.current=e,T.current=t},[e,t]),y.useEffect(()=>{if(!n||!e){k(null);return}(async()=>{var R,F;try{if(t==="album"){const C=await H.getAlbumTracks(e.Id);C.length>0&&((R=C[0].Genres)!=null&&R[0])&&k(C[0].Genres[0])}else if(t==="artist"){const{songs:C}=await H.getArtistItems(e.Id);C.length>0&&((F=C[0].Genres)!=null&&F[0])&&k(C[0].Genres[0])}}catch(C){console.error("Failed to fetch genre:",C)}})()},[n,e==null?void 0:e.Id,t]);const _=D=>{if(!D)return null;const R=E.find(F=>{var C;return((C=F.Name)==null?void 0:C.toLowerCase())===D.toLowerCase()});return(R==null?void 0:R.Id)||null},G=y.useCallback(async D=>{var C,A,O,Q,W;const R=P.current,F=T.current;if(R){if(D.startsWith("goTo")){if(r(),o&&o(),D==="goToArtist"){const $=((A=(C=R.ArtistItems)==null?void 0:C[0])==null?void 0:A.Id)||("AlbumArtists"in R?(Q=(O=R.AlbumArtists)==null?void 0:O[0])==null?void 0:Q.Id:void 0);$&&a(`/artist/${$}`)}else if(D==="goToAlbum")R.AlbumId&&a(`/album/${R.AlbumId}`);else if(D==="goToGenre"){const $=F==="album"||F==="artist"?w:(W=R.Genres)==null?void 0:W[0];if($){const J=_($);if(J)a(`/genre/${J}`);else{const me=(await H.getGenres()).find(Be=>{var Ee;return((Ee=Be.Name)==null?void 0:Ee.toLowerCase())===$.toLowerCase()});me!=null&&me.Id&&a(`/genre/${me.Id}`)}}}return}m(!0),h(D);try{switch(F){case"album":{if(D==="play"){const $=await H.getAlbumTracks(R.Id),{shuffle:J}=le.getState();J&&I(),S($)}else if(D==="shuffle"){const $=await H.getAlbumTracks(R.Id),{shuffle:J}=le.getState();J&&I(),S($),requestAnimationFrame(()=>{const{shuffle:fe}=le.getState();fe||I()})}else if(D==="playNext"){const $=await H.getAlbumTracks(R.Id);f($)}else if(D==="addToQueue"){const $=await H.getAlbumTracks(R.Id);p($)}else if(D==="sync"){x("context-menu",`Syncing ${R.Name}...`);try{await H.getAlbumTracks(R.Id),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"song":{if(D==="play")console.log("ContextMenu: Playing song",R.Name),v(R);else if(D==="playNext")console.log("ContextMenu: Adding song to play next",R.Name),f([R]);else if(D==="addToQueue")console.log("ContextMenu: Adding song to queue",R.Name),p([R]);else if(D==="sync"){x("context-menu",`Syncing ${R.Name}...`);try{const $=await H.getSongById(R.Id);if($.Genres){const J=await H.getGenres();$.Genres.forEach(fe=>{const me=J.find(Be=>{var Ee;return((Ee=Be.Name)==null?void 0:Ee.toLowerCase())===fe.toLowerCase()});me!=null&&me.Id&&xe.getState().clearGenreSongsForGenre(me.Id)})}N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"artist":{if(D==="shuffle"){const{songs:$}=await H.getArtistItems(R.Id);g($)}else if(D==="playNext"){const{songs:$}=await H.getArtistItems(R.Id);f($)}else if(D==="addToQueue"){const{songs:$}=await H.getArtistItems(R.Id);p($)}else if(D==="sync"){x("context-menu",`Syncing ${R.Name}...`);try{await H.getArtistItems(R.Id),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"playlist":{if(D==="play"){const $=await H.getAlbumTracks(R.Id),{shuffle:J}=le.getState();J&&I(),S($)}else if(D==="shuffle"){const $=await H.getAlbumTracks(R.Id),{shuffle:J}=le.getState();J&&I(),S($),requestAnimationFrame(()=>{const{shuffle:fe}=le.getState();fe||I()})}else if(D==="playNext"){const $=await H.getAlbumTracks(R.Id);f($)}else if(D==="addToQueue"){const $=await H.getAlbumTracks(R.Id);p($)}break}}r()}catch($){console.error("Context menu action failed:",$)}finally{m(!1),h(null)}}},[r,o,a,w,_,v,S,p,f,g,I,x,N]);if(!e||!t)return null;const de=(()=>{var D,R,F,C,A,O,Q;switch(t){case"album":{const W=((R=(D=e.ArtistItems)==null?void 0:D[0])==null?void 0:R.Name)||("AlbumArtists"in e?(C=(F=e.AlbumArtists)==null?void 0:F[0])==null?void 0:C.Name:void 0)||"Artist",$=w||"Genre";return[{id:"play",label:"Play",icon:ln},{id:"shuffle",label:"Shuffle",icon:Xn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El},{id:"goToArtist",label:`Go to ${W}`,icon:yo},{id:"goToGenre",label:`Go to ${$}`,icon:Bl},{id:"sync",label:"Sync",icon:ps}]}case"song":{const W=((O=(A=e.ArtistItems)==null?void 0:A[0])==null?void 0:O.Name)||e.AlbumArtist||"Artist",$=e.Album||"Album",J=((Q=e.Genres)==null?void 0:Q[0])||"Genre";return[{id:"play",label:"Play",icon:ln},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El},{id:"goToArtist",label:`Go to ${W}`,icon:yo},{id:"goToAlbum",label:`Go to ${$}`,icon:ga},{id:"goToGenre",label:`Go to ${J}`,icon:Bl},{id:"sync",label:"Sync",icon:ps}]}case"artist":return[{id:"shuffle",label:"Shuffle",icon:Xn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El},{id:"goToGenre",label:`Go to ${w||"Genre"}`,icon:Bl},{id:"sync",label:"Sync",icon:ps}];case"playlist":return[{id:"play",label:"Play",icon:ln},{id:"shuffle",label:"Shuffle",icon:Xn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El}];default:return[]}})(),z=e.Name||"Unknown";if(s==="desktop"&&n){const R=Math.min(400,de.length*44+8);let F=(i==null?void 0:i.x)||100,C=(i==null?void 0:i.y)||100;return F+240>window.innerWidth&&(F=window.innerWidth-240-10),C+R>window.innerHeight&&(C=window.innerHeight-R-10),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:r,style:{zIndex:l-1}}),c.jsx("div",{className:"fixed z-50 bg-zinc-900 border border-zinc-700 rounded-lg shadow-2xl py-1 min-w-[200px]",style:{left:F,top:C,zIndex:l},onClick:A=>A.stopPropagation(),children:c.jsx("div",{className:"space-y-0",children:de.map(A=>{const O=A.icon,Q=u&&d===A.id;return c.jsxs("button",{onClick:()=>G(A.id),disabled:u,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-zinc-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",children:[c.jsx(O,{className:"w-4 h-4 text-white flex-shrink-0"}),c.jsx("span",{className:"flex-1 text-sm text-white",children:A.label}),Q&&c.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin flex-shrink-0"})]},A.id)})})})]})}return c.jsx(J0,{isOpen:n,onClose:r,zIndex:l,children:c.jsxs("div",{className:"pb-6",children:[c.jsx("div",{className:"mb-4 ml-4",children:c.jsx("div",{className:"text-lg font-semibold text-white break-words",children:z})}),c.jsx("div",{className:"space-y-1",children:de.map(D=>{const R=D.icon,F=u&&d===D.id;return c.jsxs("button",{onClick:()=>G(D.id),disabled:u,className:"w-full flex items-center gap-4 pl-4 pr-4 py-3 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(R,{className:"w-5 h-5 text-white"}),c.jsx("span",{className:"flex-1 text-left text-white font-medium",children:D.label}),F&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]},D.id)})})]})})}function ey({onLongPress:e,onClick:t,delay:n=500,moveThreshold:r=10}){const l=y.useRef(null),o=y.useRef(null),s=y.useRef(!1),i=y.useRef(null),a=y.useRef(!1),u=y.useCallback(h=>{s.current=!1,a.current=!1,o.current=h.target,!("button"in h&&h.button!==0)&&(h.preventDefault(),"touches"in h&&h.touches.length>0?i.current={x:h.touches[0].clientX,y:h.touches[0].clientY}:i.current=null,l.current=setTimeout(()=>{a.current||(s.current=!0,e(h))},n))},[e,n]),m=y.useCallback(h=>{if(!i.current||h.touches.length===0)return;const w=h.touches[0].clientX,k=h.touches[0].clientY,v=Math.abs(w-i.current.x),S=Math.abs(k-i.current.y);Math.sqrt(v*v+S*S)>r&&(a.current=!0,l.current&&(clearTimeout(l.current),l.current=null))},[r]),d=y.useCallback(h=>{if("button"in h&&h.button!==0){s.current=!1,a.current=!1,o.current=null,i.current=null;return}const w=s.current;l.current&&(clearTimeout(l.current),l.current=null),t&&o.current===h.target&&!w&&!a.current&&t(h),s.current=!1,a.current=!1,o.current=null,i.current=null},[t]);return{onMouseDown:u,onTouchStart:u,onTouchMove:m,onMouseUp:d,onMouseLeave:h=>{l.current&&(clearTimeout(l.current),l.current=null),s.current=!1,a.current=!1,o.current=null,i.current=null},onTouchEnd:d}}const ty=45,ny=45,Pl=y.memo(function({track:t,index:n,isCurrent:r,isPlaying:l,showRemoveButton:o=!0,onClick:s,onRemove:i,onReorderDragStart:a,onReorderDragEnd:u,onReorderDrop:m,onContextMenu:d,isDragOver:h,onDragEnterRow:w}){var x,N,E,P;const k=y.useRef(!1),v=ey({onLongPress:T=>{T.preventDefault(),k.current=!0,d(t,"mobile"),setTimeout(()=>{k.current=!1},300)}}),S=y.useCallback(T=>{if(k.current){T.preventDefault(),T.stopPropagation();return}s()},[s]),p=y.useCallback(T=>{T.preventDefault(),k.current=!0,d(t,"desktop",{x:T.clientX,y:T.clientY}),setTimeout(()=>{k.current=!1},300)},[d,t]),f=y.useCallback(T=>{T.preventDefault(),T.dataTransfer.dropEffect="move"},[]),g=y.useCallback(T=>{T.preventDefault(),r||w(n)},[r,w,n]),I=y.useCallback(T=>{r||m(T,n)},[r,m,n]);return c.jsxs("div",{onDragOver:f,onDragEnter:g,onDrop:I,className:`queue-row flex items-center gap-3 p-3 ${r?"cursor-pointer":"hover:bg-zinc-900 cursor-pointer"} ${r?"bg-zinc-900":""} relative focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] focus-visible:ring-inset`,onClick:r?void 0:S,onContextMenu:p,tabIndex:0,role:"button","aria-label":`${t.Name} by ${((N=(x=t.ArtistItems)==null?void 0:x[0])==null?void 0:N.Name)||t.AlbumArtist||"Unknown Artist"}`,...v,children:[h&&!r&&c.jsx("div",{className:"absolute left-3 right-3 top-0 h-0.5 bg-[var(--accent-color)] rounded-full pointer-events-none"}),c.jsx("div",{className:"queue-drag-art w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 ml-1",children:c.jsx(vo,{src:H.getAlbumArtUrl(t.AlbumId||t.Id,96),alt:t.Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-sm font-medium truncate ${r?"text-[var(--accent-color)]":"text-white"}`,children:t.Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((P=(E=t.ArtistItems)==null?void 0:E[0])==null?void 0:P.Name)||t.AlbumArtist||"Unknown Artist"})]}),r?c.jsx("button",{onClick:T=>{T.stopPropagation(),s()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":l?"Pause":"Play",children:l?c.jsx(tl,{className:"w-5 h-5"}):c.jsx(ln,{className:"w-5 h-5"})}):c.jsx(c.Fragment,{children:o&&c.jsxs(c.Fragment,{children:[c.jsx("button",{draggable:!0,onMouseDown:T=>T.stopPropagation(),onTouchStart:T=>T.stopPropagation(),onDragStart:T=>{T.stopPropagation(),a(T,n)},onDragEnd:T=>{T.stopPropagation(),u()},className:"text-gray-500 hover:text-zinc-300 transition-colors p-2 cursor-grab active:cursor-grabbing focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Drag to reorder",children:c.jsx(y0,{className:"w-4 h-4"})}),i&&c.jsx("button",{onClick:T=>{T.stopPropagation(),i()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Remove from queue",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})});function Na({onNavigateFromContextMenu:e,header:t,contentPaddingBottom:n="8rem"}){const[r,l]=y.useState(!1),[o,s]=y.useState(null),[i,a]=y.useState("mobile"),[u,m]=y.useState(null),[d,h]=y.useState(null),[w,k]=y.useState(null),[v,S]=y.useState(ty),[p,f]=y.useState(!1),[g,I]=y.useState(!1),x=y.useRef(null),{songs:N,currentIndex:E,isPlaying:P,togglePlayPause:T,skipToTrack:_,removeFromQueue:G,reorderQueue:oe,isFetchingRecommendations:de,isLoadingMoreSongs:z}=le(),{showQueueRecommendations:D,setShowQueueRecommendations:R,recommendationsQuality:F}=gt(),C=y.useCallback((b,B)=>{b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",B.toString()),k(B),x.current=B;const V=b.currentTarget,te=V==null?void 0:V.closest(".queue-row");if(te&&b.dataTransfer.setDragImage){const Ye=te.querySelector(".queue-drag-art")??te,xt=Ye.getBoundingClientRect();b.dataTransfer.setDragImage(Ye,xt.width/2,xt.height/2)}},[]),A=y.useCallback(()=>{k(null),h(null),x.current=null},[]),O=y.useCallback((b,B)=>{b.preventDefault();const V=b.dataTransfer.getData("text/plain")||b.dataTransfer.getData("text/html"),te=parseInt(V,10);if(Number.isNaN(te))return;const nt=x.current??te,Ye=le.getState().songs,xt=Ye[nt],fn=Ye[B];if(xt&&fn&&xt.source!==fn.source){h(null),k(null),x.current=null;return}te!==B&&oe(te,B),h(null),k(null),x.current=null},[oe]),Q=y.useCallback((b,B="mobile",V)=>{s(b),a(B),m(V||null),l(!0)},[]),W=y.useCallback(b=>{if(x.current==null)return;const B=le.getState().songs,V=B[x.current],te=B[b];if(!(!V||!te)){if(V.source!==te.source){h(null);return}h(b)}},[]),$=E>=0?N[E]:null,J=N.filter((b,B)=>B<E);let fe=-1;for(let b=N.length-1;b>E;b--)if(N[b].source==="user"){fe=b;break}const me=N.filter((b,B)=>B<=E?!1:fe!==-1?B<=fe:!1),Be=N.filter((b,B)=>b.source!=="recommendation"||B<=E?!1:fe!==-1?B>fe:!0);let Ee=v;const ee=J.slice(-Math.min(Ee,J.length));Ee-=ee.length,Ee-=$?1:0;const Ce=me.slice(0,Math.max(0,Ee));Ee-=Ce.length;const De=Be.slice(0,Math.max(0,Ee));return y.useEffect(()=>{const b=document.querySelector(".queue-list-container");if(!b)return;const B=()=>{const V=b.scrollTop,te=b.clientHeight,nt=b.scrollHeight;V+te*2.5>=nt&&S(Ye=>Math.min(Ye+ny,N.length))};return b.addEventListener("scroll",B,{passive:!0}),B(),()=>b.removeEventListener("scroll",B)},[N.length]),y.useEffect(()=>{if(de){const b=setTimeout(()=>{I(!0)},2e3);return()=>clearTimeout(b)}else I(!1)},[de]),c.jsx("div",{className:"flex-1 flex flex-col min-h-0 w-full relative",children:c.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 queue-list-container w-full",style:{paddingBottom:"8rem"},children:[c.jsxs("div",{className:"max-w-[864px] mx-auto w-full",children:[t,N.length===0&&!$?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 py-10",children:c.jsx("p",{children:"Queue is empty"})}):c.jsxs("div",{children:[ee.length>0&&p&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Previous"}),c.jsx("button",{onClick:()=>f(!1),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Hide"})]}),ee.map((b,B)=>{const V=N.indexOf(b);return c.jsx(Pl,{track:b,index:V,isCurrent:!1,isPlaying:!1,showRemoveButton:!1,onClick:()=>_(V),onReorderDragStart:C,onReorderDragEnd:A,onReorderDrop:O,onContextMenu:Q,isDragOver:!1,onDragEnterRow:W},`${b.Id}-${B}`)})]}),$&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Now Playing"}),ee.length>0&&!p&&c.jsx("button",{onClick:()=>f(!0),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Show Previous"})]}),c.jsx(Pl,{track:$,index:E,isCurrent:!0,isPlaying:P,showRemoveButton:!1,onClick:T,onReorderDragStart:C,onReorderDragEnd:A,onReorderDrop:O,onContextMenu:Q,isDragOver:!1,onDragEnterRow:W})]}),Ce.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Coming Up"}),c.jsx("button",{onClick:()=>{const B=N.filter((te,nt)=>nt<=E||te.source==="recommendation"),V=Math.min(E,B.length-1);le.setState({songs:B,currentIndex:V,standardOrder:B.filter(te=>te.source==="user").map(te=>te.Id),shuffleOrder:B.filter(te=>te.source==="user").map(te=>te.Id)})},className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Clear"})]}),Ce.map((b,B)=>{const V=N.indexOf(b);return c.jsx(Pl,{track:b,index:V,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>_(V),onRemove:()=>G(V),onReorderDragStart:C,onReorderDragEnd:A,onReorderDrop:O,onContextMenu:Q,isDragOver:d===V,onDragEnterRow:W},`${b.Id}-${B}`)}),z&&c.jsxs("div",{className:"flex items-center justify-center py-4",children:[c.jsx(Ku,{}),c.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Loading more songs..."})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Recommendations"}),c.jsx("button",{onClick:()=>{const b=!D;if(R(b),!b){const B=N.filter((V,te)=>te<=E?!0:V.source==="user");le.setState({songs:B,currentIndex:E,standardOrder:B.filter(V=>V.source==="user").map(V=>V.Id),shuffleOrder:B.filter(V=>V.source==="user").map(V=>V.Id)})}},className:`relative w-12 h-6 rounded-full transition-colors ${D?"bg-[var(--accent-color)]":"bg-zinc-600"}`,children:c.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${D?"translate-x-6":"translate-x-0"}`})})]}),(g||F==="failed")&&c.jsxs("div",{className:"px-4 pb-2",children:[g&&c.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"Syncing genres..."}),!de&&F==="failed"&&c.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"Sync library in settings"})]}),D&&c.jsxs(c.Fragment,{children:[De.map((b,B)=>{const V=N.indexOf(b);return c.jsx(Pl,{track:b,index:V,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>_(V),onRemove:()=>G(V),onReorderDragStart:C,onReorderDragEnd:A,onReorderDrop:O,onContextMenu:Q,isDragOver:d===V,onDragEnterRow:W},`${b.Id}-${B}`)}),g&&c.jsx("div",{className:"px-4 pt-4 pb-6 flex justify-center",children:c.jsx(Ku,{})})]})]})]})]}),c.jsx(Z0,{item:o,itemType:o?"song":null,isOpen:r,onClose:()=>{l(!1),s(null)},onNavigate:e,mode:i,position:u||void 0})]})})}function ry({onClose:e,onNavigateFromContextMenu:t}){const{songs:n,currentIndex:r,isPlaying:l,shuffle:o,repeat:s,togglePlayPause:i,toggleShuffle:a,toggleRepeat:u,next:m,previous:d}=le(),h=r>=0&&r<n.length-1,w=r>0;return c.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[c.jsx(Na,{onNavigateFromContextMenu:t,contentPaddingBottom:"8rem"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:c.jsx("div",{className:"px-6 pt-2 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:c.jsxs("div",{className:"flex items-center justify-center gap-8",children:[c.jsx("button",{onClick:a,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${o?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("button",{onClick:d,disabled:!w,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${w?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(xa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:i,className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:l?c.jsx(tl,{className:"w-8 h-8"}):c.jsx(ln,{className:"w-8 h-8"})}),c.jsx("button",{onClick:m,disabled:!h,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${h?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(wa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:u,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${s!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:s==="one"?c.jsx(ya,{className:"w-6 h-6"}):c.jsx(va,{className:"w-6 h-6"})})]})})})]})}function ly(){const e=ka(),t=Ia(),{isQueueSidebarOpen:n}=le(),r=e||t,[l,o]=y.useState(null),[s,i]=y.useState(!1);return y.useEffect(()=>{(async()=>{if(!r){o(null);return}i(!0);try{const u=await H.getLyrics(r.Id);o(u)}catch(u){console.error("Failed to fetch lyrics:",u),o(null)}finally{i(!1)}})()},[r==null?void 0:r.Id]),r?c.jsxs("div",{className:`fixed left-0 right-0 z-[55] flex flex-col ${n?"lyrics-with-sidebar":""}`,style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top) + 4rem)",bottom:"calc(11rem + env(safe-area-inset-bottom))"},children:[c.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 px-6 py-4 relative",children:s?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"text-white/50",children:"Loading lyrics..."})}):l?c.jsx("div",{className:"max-w-[768px] mx-auto pb-8",children:c.jsx("div",{className:"text-white text-center whitespace-pre-line leading-relaxed text-base lg:text-xl",children:l.split(`
`).map((a,u)=>c.jsx("div",{className:"mb-2",children:a},u))})}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"text-white/50 text-center",children:"This song has no lyrics"})})}),c.jsx("div",{className:"h-px bg-white/20 flex-shrink-0"})]}):null}function oy({onClose:e,onClosingStart:t,closeRef:n}){const r=il(),{songs:l,currentIndex:o,isPlaying:s,currentTime:i,duration:a,shuffle:u,repeat:m,togglePlayPause:d,next:h,previous:w,seek:k,setVolume:v,toggleShuffle:S,toggleRepeat:p,playTrack:f,isQueueSidebarOpen:g,toggleQueueSidebar:I}=le(),x=ka(),N=Ia(),E=x||N,[P,T]=y.useState(!1);y.useEffect(()=>{T(!1)},[]);const[_,G]=y.useState(!1),[oe,de]=y.useState(!1),[z,D]=y.useState(null),[R,F]=y.useState("up"),[C,A]=y.useState(null),[O,Q]=y.useState(null),[W,$]=y.useState(!1),[J,fe]=y.useState(!1),[me,Be]=y.useState(!1),[Ee,ee]=y.useState(!1),Ce=y.useRef(null),De=y.useRef(null),b=y.useRef(null),B=y.useRef(null),V=y.useRef(!1),te=y.useRef(null);y.useEffect(()=>{const U=window.getComputedStyle(document.body).overflowY,Y=window.getComputedStyle(document.documentElement).overflowY,X=document.getElementById("root")?window.getComputedStyle(document.getElementById("root")).overflowY:"N/A";document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden";const be=document.getElementById("root");return be&&(be.style.overflowY="hidden"),()=>{document.body.style.overflowY=U,document.documentElement.style.overflowY=Y,be&&(be.style.overflowY=X!=="N/A"?X:"")}},[]),y.useEffect(()=>{requestAnimationFrame(()=>{Be(!0)})},[]);const nt=o>=0&&o<l.length-1,Ye=o>0;y.useEffect(()=>{(async()=>{if(!E){$(!1);return}try{const Y=await H.getLyrics(E.Id),X=Y!==null&&Y.trim().length>0;$(X)}catch(Y){console.warn("[PlayerModal] Lyrics check failed:",Y),$(!1)}})()},[E]);const xt=U=>{if(!U)return"Unknown";if(U.Name&&U.Name.trim())return U.Name;const Y=U.Path;return Y&&typeof Y=="string"&&(Y.split("/").pop()||Y.split("\\").pop())||"Unknown"},fn=U=>{var Y,X;return U&&(((X=(Y=U.ArtistItems)==null?void 0:Y[0])==null?void 0:X.Name)||U.AlbumArtist)||""};if(y.useEffect(()=>{"mediaSession"in navigator&&E&&(navigator.mediaSession.metadata=new MediaMetadata({title:xt(E),artist:fn(E),album:E.Album||"",artwork:[{src:H.getAlbumArtUrl(E.AlbumId||E.Id,512),sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",d),navigator.mediaSession.setActionHandler("pause",d),navigator.mediaSession.setActionHandler("previoustrack",w),navigator.mediaSession.setActionHandler("nexttrack",h))},[E,s,d,h,w]),y.useEffect(()=>{ee(!1)},[E==null?void 0:E.Id]),!E)return null;const L=a>0?i/a*100:0,ie=U=>{const Y=Math.floor(U/60),X=Math.floor(U%60);return`${Y}:${X.toString().padStart(2,"0")}`},ae=()=>{if(E.Name&&E.Name.trim())return E.Name;const U=E.Path;return U&&typeof U=="string"&&(U.split("/").pop()||U.split("\\").pop())||"Unknown"},ut=()=>{var U,Y;return((Y=(U=E.ArtistItems)==null?void 0:U[0])==null?void 0:Y.Name)||E.AlbumArtist},hn=E.AlbumId&&E.Album&&E.Album.trim(),mn=U=>{if(!Ce.current||!a||V.current)return;const Y=Ce.current.getBoundingClientRect(),X=(U.clientX-Y.left)/Y.width;k(Math.max(0,Math.min(1,X))*a)},dr=U=>{if(!Ce.current||!a)return;V.current=!0,te.current=U.clientX;const Y=Ce.current.getBoundingClientRect(),X=(U.clientX-Y.left)/Y.width;k(Math.max(0,Math.min(1,X))*a)},Ea=()=>{V.current=!1,te.current=null},_f=U=>{if(!Ce.current||!a)return;U.stopPropagation(),V.current=!0;const Y=U.touches[0],X=Ce.current.getBoundingClientRect(),be=(Y.clientX-X.left)/X.width;k(Math.max(0,Math.min(1,be))*a)},Af=U=>{if(!V.current||!Ce.current||!a)return;U.stopPropagation(),U.preventDefault();const Y=U.touches[0],X=Ce.current.getBoundingClientRect(),be=(Y.clientX-X.left)/X.width;k(Math.max(0,Math.min(1,be))*a)},Lf=U=>{U.stopPropagation(),V.current=!1,te.current=null};y.useEffect(()=>{const U=X=>{if(!V.current||!Ce.current||!a)return;const be=Ce.current.getBoundingClientRect(),$o=(X.clientX-be.left)/be.width;k(Math.max(0,Math.min(1,$o))*a)},Y=()=>{V.current&&(V.current=!1,te.current=null)};return document.addEventListener("mousemove",U),document.addEventListener("mouseup",Y),()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",Y)}},[a,k]);const fr=()=>{fe(!0),t==null||t(),setTimeout(()=>{e()},300)},Mf=(U="up")=>{const Y=U==="down"?O:C;if(Y){const X=Y.getBoundingClientRect();D({top:U==="down"?X.bottom:X.top,left:X.left+X.width/2}),F(U),de(!0)}};y.useEffect(()=>(n&&(n.current=fr),()=>{n&&(n.current=null)}),[n]);const zf=U=>{P||_||(De.current=U.touches[0].clientY,b.current=Date.now())},Df=U=>{if(P||_||De.current===null)return;const X=U.touches[0].clientY-De.current;if(X>0&&B.current){const be=Math.min(X,window.innerHeight*.5);B.current.style.transform=`translateY(${be}px)`}},bf=U=>{if(P||_||De.current===null||b.current===null){De.current=null,b.current=null,B.current&&(B.current.style.transform="");return}const X=U.changedTouches[0].clientY-De.current,be=Date.now()-b.current,$o=50,Of=.3;B.current&&(B.current.style.transform="");const $f=X/be;(X>$o||X>30&&$f>Of)&&fr(),De.current=null,b.current=null};return c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
      @media (min-aspect-ratio: 4/3) and (min-width: 768px) {
        .landscape\\:flex-row { flex-direction: row; }
        .landscape\\:items-center { align-items: center; }
        .landscape\\:gap-8 { gap: 2rem; }
        .landscape\\:order-1 { order: 1; }
        .landscape\\:flex-shrink-0 { flex-shrink: 0; }
        .landscape\\:order-2 { order: 2; }
        .landscape\\:text-left { text-align: left; }
        .landscape\\:flex-1 { flex: 1; }
        .landscape\\:max-w-xs { max-width: 20rem; }
        .landscape\\:justify-start { justify-content: flex-start; }
        .landscape\\:mx-0 { margin-left: 0; margin-right: 0; }
      }

      @media (min-width: 1024px) {
        .lg\\:max-w-\\[864px\\] { max-width: 864px; }
      }

      /* Queue sidebar in player modal - transparent backgrounds */
      .queue-xl-container .bg-zinc-900 { background-color: transparent; }
      .queue-xl-container .hover\\:bg-zinc-900:hover { background-color: rgba(255, 255, 255, 0.1); }
      .queue-xl-container .hover\\:bg-zinc-800:hover { background-color: rgba(255, 255, 255, 0.1); }
      .queue-xl-container .text-\\[var\\(--accent-color\\)\\] { color: white; }

      /* Lyrics modal with sidebar - adjust right edge on xl screens */
      @media (min-width: 1280px) {
        .lyrics-with-sidebar { right: var(--sidebar-width) !important; }
      }
    `}),c.jsxs("div",{ref:B,onTouchStart:zf,onTouchMove:Df,onTouchEnd:bf,className:`fixed left-0 right-0 bg-zinc-900 z-[70] flex transition-transform duration-300 ease-out overflow-hidden ${J?"translate-y-full":me?"translate-y-0":"translate-y-full"}`,style:{top:"var(--header-offset, 0px)",paddingTop:"calc(env(safe-area-inset-top) + var(--header-offset, 0px))",bottom:"calc(-1 * env(safe-area-inset-bottom))",height:"calc(100% + env(safe-area-inset-bottom) + var(--header-offset, 0px))",transition:De.current===null?"transform 300ms ease-out":"none"},children:[!Ee&&c.jsxs("div",{className:P?"hidden xl:contents":"contents",children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${H.getAlbumArtUrl(E.AlbumId||E.Id)})`,filter:"blur(100px)",transform:"scale(1.2)"}}),c.jsx("div",{className:"absolute inset-0 bg-black/40"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[300px] bg-gradient-to-t from-zinc-900/30 to-zinc-900/0"})]}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 relative",children:[c.jsx("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:c.jsx("button",{onClick:fr,className:"text-white hover:text-zinc-300 transition-colors z-10 flex-shrink-0",children:c.jsx(f0,{className:"w-8 h-8"})})}),_&&E&&c.jsx("h2",{className:"absolute left-0 right-0 text-center text-white text-sm sm:text-base font-medium px-20 truncate",children:ae()}),c.jsxs("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:[c.jsx("div",{className:`${P?"xl:hidden":"md:hidden"} ${_?"hidden":""}`,children:!_t()&&c.jsx(At,{variant:"compact",onOpenPopover:()=>Mf("down"),onRef:Q,className:"text-white hover:text-zinc-300 transition-colors p-2"})}),W&&c.jsx("button",{onClick:()=>{P&&T(!1),G(!_)},className:`transition-colors p-2 ${_?"text-[var(--accent-color)] hover:text-[var(--accent-color)]":"text-white hover:text-zinc-300"}`,children:c.jsx(T0,{className:"w-6 h-6"})}),c.jsx("button",{onClick:()=>{P||G(!1),T(!P)},className:"text-white hover:text-zinc-300 transition-colors p-2 xl:hidden",children:P?c.jsx(F0,{className:"w-6 h-6"}):c.jsx(mi,{className:"w-6 h-6"})}),!g&&c.jsx("button",{onClick:I,className:"text-white hover:text-zinc-300 transition-colors p-2 hidden xl:block",children:c.jsx(mi,{className:"w-6 h-6"})})]})]}),P&&c.jsx("div",{className:"flex-1 bg-zinc-900 relative z-10 xl:hidden",children:c.jsx(ry,{onClose:()=>T(!1),onNavigateFromContextMenu:()=>{fr()}})}),c.jsxs("div",{className:`flex-1 flex-col min-h-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full relative ${P?"hidden xl:flex":"flex"}`,style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("div",{className:`flex-1 overflow-hidden min-h-0 flex items-center justify-center ${_?"invisible":""}`,children:c.jsx("div",{className:"w-full flex flex-col items-center px-4 sm:px-8 md:pr-0",children:c.jsxs("div",{className:"w-full flex flex-col items-center landscape:flex-row landscape:items-center landscape:gap-8",children:[c.jsx("div",{className:"landscape:order-1 landscape:flex-shrink-0",children:c.jsx("div",{className:`rounded overflow-hidden mb-4 lg:mb-8 bg-zinc-900 ${Ee?"":"shadow-2xl"}`,style:{width:"clamp(224px, min(70vw, 50vh), 480px)",height:"clamp(224px, min(70vw, 50vh), 480px)",maxWidth:"100%"},children:Ee?c.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-zinc-900 flex items-center justify-center relative",children:c.jsx("img",{src:"/assets/vinyl.png",alt:"Vinyl Record",className:"w-full h-full object-cover",onError:U=>{console.error("Failed to load vinyl image"),U.currentTarget.style.display="none"}})}):c.jsx(vo,{src:H.getAlbumArtUrl(E.AlbumId||E.Id),alt:E.Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded",onError:()=>ee(!0)})})}),c.jsxs("div",{className:"text-center landscape:text-left w-full landscape:order-2 landscape:flex-1 landscape:max-w-xs",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:ae()}),ut()&&c.jsxs("button",{onClick:()=>{var Y,X;const U=(X=(Y=E.ArtistItems)==null?void 0:Y[0])==null?void 0:X.Id;U&&(e(),r(`/artist/${U}`))},className:"flex items-center justify-start landscape:justify-start gap-2 text-white/70 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left max-w-full min-w-0",children:[c.jsx(yo,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:ut()})]}),hn&&c.jsxs("button",{onClick:()=>{e(),r(`/album/${E.AlbumId}`)},className:"flex items-center justify-start landscape:justify-start gap-2 text-white/70 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left mt-1 max-w-full min-w-0",children:[c.jsx(ga,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:E.Album})]})]})]})})}),c.jsxs("div",{className:"pt-2 space-y-6 flex-shrink-0 mt-4 sm:mt-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"1.5rem"},children:[c.jsx("div",{className:"space-y-3 px-4 w-full",children:c.jsxs("div",{className:"max-w-[768px] lg:max-w-[864px] mx-auto",children:[c.jsx("div",{ref:Ce,className:"h-2 bg-zinc-800/35 rounded-full cursor-pointer w-full select-none overflow-hidden",onClick:mn,onMouseDown:dr,onMouseUp:Ea,onMouseLeave:Ea,onTouchStart:_f,onTouchMove:Af,onTouchEnd:Lf,children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${L}%`,borderTopLeftRadius:"9999px",borderBottomLeftRadius:"9999px",borderTopRightRadius:L>=100?"9999px":"0",borderBottomRightRadius:L>=100?"9999px":"0"}})}),c.jsxs("div",{className:"flex justify-between text-xs text-white/70 mt-2",children:[c.jsx("span",{children:ie(i)}),c.jsx("span",{children:ie(a)})]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 relative",children:[c.jsx("button",{onClick:S,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${u?"text-[var(--accent-color)]":"text-white/70 hover:text-white"}`,children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("button",{onClick:w,disabled:!Ye,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${Ye?"text-white hover:bg-zinc-800/35 active:bg-zinc-800/35":"text-white/30 cursor-not-allowed"}`,children:c.jsx(xa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:()=>{x?d():E&&f(E)},className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:s&&x?c.jsx(tl,{className:"w-8 h-8"}):c.jsx(ln,{className:"w-8 h-8"})}),c.jsx("button",{onClick:h,disabled:!nt,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${nt?"text-white hover:bg-zinc-800/35 active:bg-zinc-800/35":"text-white/30 cursor-not-allowed"}`,children:c.jsx(wa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:p,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${m!=="off"?"text-[var(--accent-color)]":"text-white/70 hover:text-white"}`,children:m==="one"?c.jsx(ya,{className:"w-6 h-6"}):c.jsx(va,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 hidden md:flex",children:!_t()&&c.jsx(At,{variant:"horizontal"})})]})]})]}),_&&c.jsx(ly,{}),oe&&z&&!_t()&&c.jsx(At,{variant:"vertical",onClose:()=>de(!1),popoverPosition:z,popoverDirection:R})]}),g&&c.jsxs("div",{className:"hidden xl:flex flex-col flex-shrink-0 border-l border-white/20 relative z-10",style:{width:"var(--sidebar-width)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/20 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:I,className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10 relative z-20",children:c.jsx(Sa,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 queue-xl-container [&_.text-gray-400]:text-white/60 [&_.text-gray-500]:text-white/50 [&_.text-gray-300]:text-white/70 [&_.border-zinc-800]:border-white/20 [&_.bg-zinc-600]:bg-white/30",children:c.jsx(Na,{onNavigateFromContextMenu:fr,contentPaddingBottom:"2rem"})})]})]})]})}function sy(){var nt,Ye,xt,fn;const{songs:e,currentIndex:t,isPlaying:n,currentTime:r,duration:l,audioElement:o,setAudioElement:s,togglePlayPause:i,next:a,setCurrentTime:u,setDuration:m,playTrack:d,repeat:h,shuffle:w,toggleShuffle:k,toggleRepeat:v,previous:S,seek:p,skipToTrack:f,isQueueSidebarOpen:g,toggleQueueSidebar:I}=le(),x=ka(),N=Ia(),[E,P]=y.useState(!1),[T,_]=y.useState(!1),[G,oe]=y.useState(!1),[de,z]=y.useState(!1),[D,R]=y.useState(null),[F,C]=y.useState(null),[A,O]=y.useState(null),Q=y.useRef(null),W=y.useRef(null),$=Ut(),J=y.useRef(null),fe=y.useRef(null),me=y.useRef(null);y.useEffect(()=>{E&&(_(!0),setTimeout(()=>{P(!1),_(!1)},300))},[$.pathname]),y.useEffect(()=>{P(!1),_(!1)},[]),y.useEffect(()=>{const L=()=>{E&&W.current&&W.current()};return window.addEventListener("closePlayerModal",L),()=>{window.removeEventListener("closePlayerModal",L)}},[E]);const Be=()=>{_(!0),setTimeout(()=>{P(!1),_(!1)},300)};y.useEffect(()=>{Q.current||(Q.current=new Audio,Q.current.setAttribute("playsinline","true"),Q.current.setAttribute("preload","auto"),s(Q.current));const L=Q.current;if(!L)return;const ie=()=>{u(L.currentTime)},ae=()=>{m(L.duration)},ut=async()=>{if(x)try{await H.markItemAsPlayed(x.Id),setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:x.Id}}))},4e3)}catch{}if(h==="one"&&L){L.currentTime=0,L.play();return}a()},hn=()=>{le.setState({isPlaying:!0})},mn=()=>{le.setState({isPlaying:!1})};return L.addEventListener("timeupdate",ie),L.addEventListener("loadedmetadata",ae),L.addEventListener("ended",ut),L.addEventListener("play",hn),L.addEventListener("pause",mn),()=>{L.removeEventListener("timeupdate",ie),L.removeEventListener("loadedmetadata",ae),L.removeEventListener("ended",ut),L.removeEventListener("play",hn),L.removeEventListener("pause",mn)}},[s,u,m,a]),y.useEffect(()=>{Q.current&&(Q.current.volume=le.getState().volume)},[]),y.useEffect(()=>{if(x&&!n&&o){const L=H.serverBaseUrl,ie=L?`${L}/Audio/${x.Id}/stream?static=true`:"";o.src!==ie&&(o.src=ie,o.load())}},[x,n,o]),y.useEffect(()=>{if(o&&x&&!n){const L=H.serverBaseUrl,ie=L?`${L}/Audio/${x.Id}/stream?static=true`:"";o.src!==ie&&(o.src=ie,o.load())}},[o,x,n]);const Ee=e.length>0?e[0]:null,ee=x||N||Ee;y.useEffect(()=>{oe(!1)},[ee==null?void 0:ee.Id]);const Ce=l>0?r/l*100:0,De=e.length>0&&(t<0||t<e.length-1||h==="all"),b=t>0,B=()=>{const ie=window.innerWidth<768?A:F;if(ie){const ae=ie.getBoundingClientRect();R({top:ae.top,left:ae.left+ae.width/2}),z(!0)}},V=L=>{J.current=L.touches[0].clientX,fe.current=Date.now()},te=L=>{if(J.current===null||fe.current===null){J.current=null,fe.current=null;return}const ae=L.changedTouches[0].clientX-J.current,ut=Date.now()-fe.current,hn=50,mn=.3,dr=Math.abs(ae)/ut;ae>hn||ae>30&&dr>mn?b&&S():(ae<-hn||ae<-30&&dr>mn)&&De&&a(),J.current=null,fe.current=null};return ee?c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:me,className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 cursor-pointer bottom-[calc(4rem-8px)] lg:bottom-0",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:()=>{P(!0)},onTouchStart:V,onTouchEnd:te,children:[ee&&c.jsx("div",{className:"hidden lg:block absolute left-0 right-0 cursor-pointer group",style:{top:"-10px",height:"24px"},onClick:L=>{if(L.stopPropagation(),!l)return;const ie=L.currentTarget.getBoundingClientRect(),ae=(L.clientX-ie.left)/ie.width;p(Math.max(0,Math.min(1,ae))*l)},onTouchStart:L=>{if(L.stopPropagation(),!l)return;const ie=L.touches[0],ae=L.currentTarget.getBoundingClientRect(),ut=(ie.clientX-ae.left)/ae.width;p(Math.max(0,Math.min(1,ut))*l)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":l||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 bottom-[10px] h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${Ce}%`}})})}),c.jsxs("div",{className:"hidden md:block md:relative md:px-4 md:py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0 max-w-[37%]",children:[!G&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(vo,{src:H.getAlbumArtUrl((x||ee).AlbumId||(x||ee).Id,96),alt:(x||ee).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>oe(!0)},(x==null?void 0:x.Id)||ee.Id)}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(x||ee).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((Ye=(nt=(x||ee).ArtistItems)==null?void 0:nt[0])==null?void 0:Ye.Name)||(x||ee).AlbumArtist||"Unknown Artist"})]})]}),c.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 md:right-16 md:left-auto md:translate-x-0 lg:left-1/2 lg:right-auto lg:-translate-x-1/2 flex items-center gap-2",children:[c.jsx("button",{onClick:L=>{L.stopPropagation(),k()},"aria-label":w?"Disable shuffle":"Enable shuffle",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${w?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(Xn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),b&&S()},disabled:!b,"aria-label":"Previous track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${b?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(xa,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),x?i():e.length>0?f(0):ee&&d(ee)},"aria-label":n&&x?"Pause":"Play",className:"w-10 h-10 mx-2 flex items-center justify-center rounded-full transition-colors text-white bg-[var(--accent-color)] hover:opacity-90",children:n&&x?c.jsx(tl,{className:"w-5 h-5"}):c.jsx(ln,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),De&&a()},disabled:!De,"aria-label":"Next track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${De?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(wa,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),v()},"aria-label":h==="off"?"Enable repeat":h==="all"?"Repeat one":"Disable repeat",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${h!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:h==="one"?c.jsx(ya,{className:"w-5 h-5"}):c.jsx(va,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-4",children:[c.jsx("div",{className:"hidden xl:block",children:!g&&c.jsx("button",{onClick:L=>{L.stopPropagation(),I()},className:"text-gray-400 hover:text-white transition-colors flex items-center justify-center w-10 h-10",title:"Open Queue","aria-label":"Open queue",children:c.jsx(mi,{className:"w-5 h-5"})})}),c.jsx("div",{className:"hidden lg:block",onClick:L=>L.stopPropagation(),children:!_t()&&c.jsx(At,{variant:"horizontal"})}),c.jsx("div",{className:"hidden md:block lg:hidden",children:!_t()&&c.jsx(At,{variant:"compact",onOpenPopover:B,onRef:C,className:"w-10 h-10 flex items-center justify-center text-white hover:text-zinc-300 transition-colors"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 py-3 pr-3 pl-4 md:hidden",children:[!G&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(vo,{src:H.getAlbumArtUrl((x||ee).AlbumId||(x||ee).Id,96),alt:(x||ee).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>oe(!0)},(x==null?void 0:x.Id)||ee.Id)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(x||ee).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((fn=(xt=(x||ee).ArtistItems)==null?void 0:xt[0])==null?void 0:fn.Name)||(x||ee).AlbumArtist||"Unknown Artist"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!_t()&&c.jsx(At,{variant:"compact",onOpenPopover:B,onRef:O,className:"text-white hover:text-zinc-300 transition-colors"}),c.jsx("button",{onClick:L=>{L.stopPropagation(),x?i():e.length>0?f(0):ee&&d(ee)},"aria-label":n&&x?"Pause":"Play",className:"w-10 h-10 flex items-center justify-center text-white hover:bg-zinc-800 rounded-full transition-colors",children:n&&x?c.jsx(tl,{className:"w-5 h-5"}):c.jsx(ln,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"lg:hidden",style:{marginBottom:"-10px"},children:ee&&c.jsx("div",{className:"relative cursor-pointer group flex items-center",style:{height:"24px"},onClick:L=>{if(L.stopPropagation(),!l)return;const ie=L.currentTarget.getBoundingClientRect(),ae=(L.clientX-ie.left)/ie.width;p(Math.max(0,Math.min(1,ae))*l)},onTouchStart:L=>{if(L.stopPropagation(),!l)return;const ie=L.touches[0],ae=L.currentTarget.getBoundingClientRect(),ut=(ie.clientX-ae.left)/ae.width;p(Math.max(0,Math.min(1,ut))*l)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":l||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${Ce}%`}})})})})]}),E&&c.jsx(oy,{onClose:Be,onClosingStart:()=>_(!0),closeRef:W}),de&&D&&!_t()&&c.jsx(At,{variant:"vertical",onClose:()=>z(!1),popoverPosition:D})]}):null}function iy(){const{state:e,message:t,cancelSync:n}=Oo(),{isQueueSidebarOpen:r}=le();if(e==="idle")return null;const l=()=>{switch(e){case"syncing":return"bg-zinc-800";case"success":return"bg-green-800";case"error":return"bg-red-800";default:return"bg-zinc-800"}};return c.jsx("div",{className:`fixed top-0 left-0 right-0 z-[10002] ${l()} transition-colors duration-300 lg:pl-16`,style:{height:"28px",top:"0px",paddingRight:r?"var(--sidebar-width)":"0px"},children:c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center h-full",children:c.jsxs("div",{className:"w-full max-w-[768px] h-full flex items-center justify-between px-4",children:[c.jsx("span",{className:"text-white text-sm font-medium truncate",children:t}),e==="syncing"&&c.jsx("button",{onClick:n,className:"text-white text-sm font-medium hover:text-zinc-300 transition-colors",children:"Cancel"})]})})})}const q={log:(...e)=>{},warn:(...e)=>{},error:(...e)=>{console.error(...e)},debug:(...e)=>{}},gs=new Set;async function ay(e){const t=e.toLowerCase();if(!gs.has(t)){gs.add(t);try{q.log(`[Recommendations] Auto-syncing genre "${e}" for better recommendations...`);const{genres:n,setGenreSongs:r}=xe.getState();let l=n;l.length===0&&(l=await H.getGenres());const o=l.find(i=>i.Name&&e&&i.Name.toLowerCase()===e.toLowerCase());if(!o||!o.Id){q.warn(`[Recommendations] Genre "${e}" not found in server`);return}q.log(`[Recommendations] Fetching songs for genre "${e}"...`);const s=await H.getGenreSongs(o.Id,e);s.length>0?(r(o.Id,s),q.log(`[Recommendations]  Successfully cached ${s.length} songs for genre "${e}"`)):q.warn(`[Recommendations] No songs found for genre "${e}" on server`)}catch(n){q.error(`[Recommendations] Failed to sync genre "${e}":`,n)}finally{setTimeout(()=>{gs.delete(t)},1e4)}}}async function uy({currentTrack:e,queue:t}){var I;if(!e)return{recommendations:[],hasGenreMatches:!1};const{songs:n,genreSongs:r,genres:l}=xe.getState(),o=e.Genres||[];let s=[];if(o.length>0&&l.length>0){const x=l.filter(N=>N.Name&&o.some(E=>E.toLowerCase()===N.Name.toLowerCase())).map(N=>N.Id).filter(N=>r[N]&&r[N].length>0);x.length>0&&(s=x.flatMap(N=>r[N]),q.log(`[Recommendations] Using ${s.length} pre-filtered songs from ${x.length} matching genres`))}if(s.length===0&&n.length>0&&(s=n,q.log(`[Recommendations] Using ${s.length} songs from main cache`)),s.length===0){const x=Object.values(r).flat();x.length>0&&(s=x,q.log(`[Recommendations] Using ${s.length} songs from all genre caches`))}if(s.length===0){const{setRecommendationsQuality:x}=gt.getState();return x("failed"),{recommendations:[],hasGenreMatches:!1}}q.log("[Recommendations] Using",s.length,"available songs"),q.log("[Recommendations] Current track genres:",o,"(count:",o.length+")"),q.log("[Recommendations] Current track year:",e.ProductionYear),q.log("[Recommendations] Queue size:",t.length),q.log("[Recommendations] Sample available songs:",s.slice(0,3).map(x=>{var N;return`${x.Name} (${x.ProductionYear}) [${(N=x.Genres)==null?void 0:N.join(", ")}]`}));let i=[],a=!1;const u=e.ProductionYear,m=u?[{range:3,years:Array.from({length:7},(x,N)=>u-3+N)},{range:6,years:Array.from({length:13},(x,N)=>u-6+N)},{range:10,years:Array.from({length:21},(x,N)=>u-10+N)}]:[],d=x=>{const N=x.Id!==e.Id,E=!t.some(T=>T.Id===x.Id),P=!i.some(T=>T.Id===x.Id);return N&&E&&P},h=x=>{var N;return o.length===0?!0:((N=x.Genres)==null?void 0:N.some(E=>o.some(P=>E.toLowerCase()===P.toLowerCase())))??!1},w=(x,N)=>u?x.ProductionYear!==void 0&&N.includes(x.ProductionYear):!0;let k=0;if(o.length>0&&(k=s.filter(x=>h(x)).length,k===0)){for(const x of o)ay(x).catch(N=>q.error(`[Recommendations] Genre sync failed for ${x}:`,N));return{recommendations:[],hasGenreMatches:!1,triggeredGenreSync:!0}}for(const{range:x,years:N}of m){if(i.length>=12){q.log(`[Recommendations] Have ${i.length} recommendations, stopping at ${x} year range`);break}const E=12-i.length,P=s.filter(T=>!(!d(T)||!h(T)||!w(T,N)));if(q.log(`[Recommendations] Year range ${x}: found ${P.length} candidates, need ${E}`),P.length>0){const _=jl(P).slice(0,E);i.push(..._),q.log(`[Recommendations] Added ${_.length} songs from ${x} year range`)}}if(i.length<12&&!u&&o.length>0){const x=12-i.length,N=s.filter(T=>!(!d(T)||!h(T))),P=jl(N).slice(0,x);i.push(...P),q.log(`[Recommendations] Added ${P.length} genre-only songs (no year on seed track)`)}if(i.length<12&&u&&o.length===0)for(const{range:x,years:N}of m){if(i.length>=12)break;const E=12-i.length,P=s.filter(G=>!(!d(G)||!w(G,N))),_=jl(P).slice(0,E);i.push(..._),q.log(`[Recommendations] Added ${_.length} year-only songs from ${x} range (no genre on seed track)`)}a=o.length>0&&i.some(x=>h(x)),q.log("[Recommendations] Matching results:",{totalRecommendations:i.length,genreMatchSuccess:a,hasGenres:o.length>0,hasYear:!!u});const v=jl(i),S=[],p=[...v];for(;p.length>0&&S.length<12;){let x=-1;if(S.length>0){const P=((I=S[S.length-1].ArtistItems)==null?void 0:I.map(T=>T.Id))||[];x=p.findIndex(T=>{var G;return!(((G=T.ArtistItems)==null?void 0:G.map(oe=>oe.Id))||[]).some(oe=>P.includes(oe))})}x===-1&&(x=0);const N=p.splice(x,1)[0];S.push(N)}const f=S,{setRecommendationsQuality:g}=gt.getState();return q.log("[Recommendations] Quality decision:",{finalRecommendationsCount:f.length,genreMatchSuccess:a,hasGenres:o.length>0,availableSongsCount:s.length}),f.length===0?g("failed"):!a&&o.length>0?g("degraded"):g("good"),q.log(`[Recommendations] Generated ${f.length} recommendations`),f.length>0&&q.log("[Recommendations] Sample:",f.slice(0,3).map(x=>x.Name)),{recommendations:f,hasGenreMatches:a,triggeredGenreSync:!1}}function jl(e){if(e.length<=1)return[...e];const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function cy(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function dy(e){var l;if(e.length<=1)return e;const t=cy(e),n=[],r=[...t];for(;r.length>0;){let o=-1;if(n.length>0){const a=((l=n[n.length-1].ArtistItems)==null?void 0:l.map(u=>u.Id))||[];o=r.findIndex(u=>{var d;return!(((d=u.ArtistItems)==null?void 0:d.map(h=>h.Id))||[]).some(h=>a.includes(h))})}o===-1&&(o=0);const s=r.splice(o,1)[0];n.push(s)}return n}function fy(){const{songs:e,currentIndex:t,addToQueue:n,refreshCurrentTrack:r,isFetchingRecommendations:l,setIsFetchingRecommendations:o}=le(),{showQueueRecommendations:s}=gt(),i=y.useRef([]),a=y.useRef(!1),u=y.useRef(0),m=y.useRef(0),d=y.useRef(0),h=3;y.useEffect(()=>{i.current=e.slice(-20)},[e]),y.useEffect(()=>{u.current=0,m.current=0,d.current=0},[t]),y.useEffect(()=>{u.current=0,m.current=0,d.current=0},[s]),y.useEffect(()=>{const w=e.slice(t+1).filter(f=>f.source==="recommendation").length,k=Date.now()-u.current,v=Date.now()-m.current;if(!!!(s&&!a.current&&!l&&t>=0&&w<12&&k>1e4&&v>5e3))return w>=12,void 0;(async()=>{var g;a.current=!0,o(!0);const f=setTimeout(()=>{a.current=!1,o(!1)},3e4);try{await r();const I=e[t];if(!I)return;const x=[I],N=[t-1,t+1,t+2];for(const R of N)if(R>=0&&R<e.length&&x.length<3){const F=e[R];F&&!x.some(C=>C.Id===F.Id)&&x.push(F)}const E=[];for(const R of x){q.log(`[Recommendations] Generating recommendations for seed: ${R.Name}`);const F=await uy({currentTrack:R,queue:e,recentQueue:i.current,lastPlayedTrack:null});if(q.log(`[Recommendations] Result for seed ${R.Name}:`,{recommendationsCount:((g=F.recommendations)==null?void 0:g.length)||0,hasGenreMatches:F.hasGenreMatches,triggeredGenreSync:F.triggeredGenreSync,resultType:typeof F,isArray:Array.isArray(F)}),F.triggeredGenreSync){if(d.current+=1,d.current>h){q.warn("[Recommendations] Max retries reached, giving up"),u.current=Date.now();const{setRecommendationsQuality:A}=gt.getState();A("failed");return}const C=15e3*Math.pow(2,d.current-1);q.log(`[Recommendations] Genre sync triggered (attempt ${d.current}/${h}), retry in ${C/1e3}s`),setTimeout(()=>{u.current=0},C);return}F.recommendations&&Array.isArray(F.recommendations)?E.push(F):q.warn(`[Recommendations] Invalid result for seed ${R.Name}:`,F)}const P=E.filter(R=>R.hasGenreMatches);if(q.log(`[Recommendations] ${P.length} out of ${x.length} seeds found genre matches`),P.length===0){const{setRecommendationsQuality:R}=gt.getState();R("degraded"),q.log("[Recommendations] No genre matches found - falling back to year/artist only")}const T=e.slice(t+1).filter(R=>R.source==="recommendation").length,_=Math.max(0,12-T);if(_===0){q.log("[Recommendations] Already have 12 upcoming recommendations, skipping");return}q.log(`[Recommendations] Currently have ${T} upcoming, need ${_} more to reach 12`);const G=P.length>0?P:E,oe=Math.ceil(_/G.length),de=[];for(const R of G){const F=R.recommendations.filter(A=>{const O=e.some(W=>W.Id===A.Id),Q=de.some(W=>W.Id===A.Id);return!O&&!Q}),C=F.slice(0,oe);de.push(...C),q.log(`[Recommendations] Added ${C.length} recommendations from seed (${F.length} available, genreMatch: ${R.hasGenreMatches})`)}const z=de.slice(0,_),D=dy(z);q.log(`[Recommendations] Final ${z.length} recommendations (distributed across ${x.length} seeds)`),D.length>0?(q.log(`[Recommendations] Adding ${D.length} recommendations (had ${T}, will have ${T+D.length})`),q.log("[Recommendations] Recommendations to add:",D.map(R=>R.Name)),u.current=0,m.current=Date.now(),d.current=0,n(D,!1,"recommendation"),q.log("[Recommendations] Successfully added recommendations to queue")):(q.log("[Recommendations] No safe recommendations to add - marking as failed attempt"),u.current=Date.now())}catch(I){q.error("[Recommendations Hook] Failed to get recommendations:",I),a.current=!1,o(!1)}finally{clearTimeout(f),a.current=!1,o(!1)}})()},[e,t,n,r,s,l,o])}function hy(){const{isQueueSidebarOpen:e,toggleQueueSidebar:t}=le();return y.useEffect(()=>{const n=r=>{r.key==="Escape"&&e&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t]),e?c.jsxs("div",{className:"fixed top-0 right-0 bottom-0 bg-black border-l border-zinc-800 z-30 flex flex-col hidden xl:flex shadow-xl",style:{width:"var(--sidebar-width)",paddingTop:"var(--header-offset, 0px)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-zinc-800",children:c.jsx(Sa,{className:"w-5 h-5"})})]}),c.jsx(Na,{contentPaddingBottom:"8rem"})]}):null}const Ju={slate:"#64748b",gray:"#6b7280",zinc:"#71717a",neutral:"#737373",stone:"#78716c",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"};function my({children:e}){fy();const{accentColor:t}=gt(),{genres:n,songs:r,genreSongs:l}=xe(),{state:o}=Oo(),{isQueueSidebarOpen:s}=le(),i=a=>{const u=[...a];for(let m=u.length-1;m>0;m--){const d=Math.floor(Math.random()*(m+1));[u[m],u[d]]=[u[d],u[m]]}return u};return y.useEffect(()=>{const a=Ju[t]||Ju.blue;document.documentElement.style.setProperty("--accent-color",a)},[t]),y.useEffect(()=>{const a=o!=="idle"?"28px":"0px";document.documentElement.style.setProperty("--header-offset",a)},[o]),y.useEffect(()=>{n.length===0&&H.getGenres().catch(a=>{console.warn("Background genre preload failed:",a)})},[n.length]),y.useEffect(()=>{const a=xe.getState(),u=r.length+Object.values(l).flat().length;u>0&&a.shufflePool.length===0?a.refreshShufflePool():u===0&&setTimeout(async()=>{try{const d=(await H.getSongs({limit:1})).TotalRecordCount||1e3,h=[];for(let S=0;S<3;S++){const p=Math.floor(Math.random()*d);h.push(p)}const w=h.map(S=>H.getSongs({limit:1,sortBy:["SortName"],sortOrder:"Ascending",startIndex:S})),v=(await Promise.all(w)).flatMap(S=>S.Items||[]);if(v.length>0){const S=v.map(p=>({Id:p.Id,Name:p.Name,AlbumArtist:p.AlbumArtist,ArtistItems:p.ArtistItems,Album:p.Album,AlbumId:p.AlbumId,IndexNumber:p.IndexNumber,ProductionYear:p.ProductionYear,PremiereDate:p.PremiereDate,RunTimeTicks:p.RunTimeTicks,Genres:p.Genres}));xe.setState({songs:S,shufflePool:i(S),lastPoolUpdate:Date.now()})}}catch(m){console.warn("Minimal song preload failed:",m)}},300)},[r.length,l]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed top-0 right-0 bg-black z-50 pointer-events-none left-0 lg:left-8",style:{height:"env(safe-area-inset-top)",top:o!=="idle"?"28px":"0px"}}),c.jsx(iy,{}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-900 z-40 pointer-events-none lg:hidden",style:{height:"calc(4rem + env(safe-area-inset-bottom) - 8px)"}}),c.jsx("div",{className:"fixed top-0 left-0 bottom-0 bg-black z-30 pointer-events-none hidden lg:block",style:{width:"4rem"}}),c.jsxs("div",{className:`main-scrollable h-screen bg-black text-white lg:pl-16 transition-[padding] duration-300 ${s?"sidebar-open-padding":""}`,style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))",paddingTop:o!=="idle"?"28px":"0",overflowY:"auto",overflowX:"hidden",maxWidth:"100vw",width:"100%",scrollbarGutter:"stable"},children:[c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center",children:c.jsx("div",{className:"w-full max-w-[768px]",children:e})}),c.jsx(sy,{}),c.jsx(K0,{})]}),c.jsx(hy,{})]})}function py(){const{pathname:e}=Ut();return y.useEffect(()=>{const t=document.querySelector(".main-scrollable");t&&t.scrollTo({top:0,behavior:"auto"})},[e]),null}const gy=y.memo(function({toast:t}){const{removeToast:n}=po(),r={success:c.jsx(c0,{className:"w-4 h-4"}),error:c.jsx(m0,{className:"w-4 h-4"}),info:c.jsx(k0,{className:"w-4 h-4"})},l={success:"bg-zinc-900 border border-zinc-700",error:"bg-red-900/90 border border-red-700",info:"bg-zinc-900 border border-zinc-700"};return c.jsxs("div",{className:`${l[t.type]} text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[200px] max-w-[320px] animate-slide-up`,role:"alert",children:[c.jsx("span",{className:"flex-shrink-0",children:r[t.type]}),c.jsx("span",{className:"flex-1 text-sm font-medium",children:t.message}),c.jsx("button",{onClick:()=>n(t.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50","aria-label":"Dismiss notification",children:c.jsx(Sa,{className:"w-4 h-4"})})]})});function Zu(){const{toasts:e}=po();return ca.createPortal(c.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[99999] flex flex-col gap-2 items-center pointer-events-none",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:e.map(t=>c.jsx("div",{className:"pointer-events-auto",children:c.jsx(gy,{toast:t})},t.id))}),document.body)}const yy=y.lazy(()=>vt(()=>import("./HomePage-CjIw34b_.js"),__vite__mapDeps([0,1,2,3]))),vy=y.lazy(()=>vt(()=>import("./ArtistsPage-DQbwLxPW.js"),__vite__mapDeps([4,1,5,2,6]))),xy=y.lazy(()=>vt(()=>import("./AlbumsPage-CWiL8gus.js"),__vite__mapDeps([7,1,8,5,2,6,3]))),wy=y.lazy(()=>vt(()=>import("./SongsPage-C_f9djjn.js"),__vite__mapDeps([9,1,8,10,5,2,6,3]))),Sy=y.lazy(()=>vt(()=>import("./GenresPage-DaDk0QUf.js"),[])),ky=y.lazy(()=>vt(()=>import("./PlaylistsPage-B0G-VJNx.js"),__vite__mapDeps([11,1,6]))),Iy=y.lazy(()=>vt(()=>import("./PlaylistDetailPage-CCfAQZL4.js"),__vite__mapDeps([12,13,14]))),Ny=y.lazy(()=>vt(()=>import("./SettingsPage-CKujRuyL.js"),__vite__mapDeps([15,13]))),Ey=y.lazy(()=>vt(()=>import("./ArtistDetailPage-BiVbu4Fi.js"),__vite__mapDeps([16,17,13,14,18,6]))),Cy=y.lazy(()=>vt(()=>import("./AlbumDetailPage-z9AZqrnH.js"),__vite__mapDeps([19,13,14,18]))),Py=y.lazy(()=>vt(()=>import("./GenreSongsPage-EbA9tbDB.js"),__vite__mapDeps([20,17,10,5,13,6])));function jy(){return c.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:c.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-color)] border-t-transparent rounded-full animate-spin"})})}function Ty(){const{isAuthenticated:e,logout:t}=Tf(),{pageVisibility:n}=gt();return y.useEffect(()=>{e&&window.location.search.includes("logout=true")&&(t(),window.location.search="")},[e]),e?c.jsxs(c.Fragment,{children:[c.jsxs(yg,{children:[c.jsx(py,{}),c.jsx(my,{children:c.jsx(y.Suspense,{fallback:c.jsx(jy,{}),children:c.jsxs(ug,{children:[c.jsx(qe,{path:"/",element:c.jsx(yy,{})}),c.jsx(qe,{path:"/settings",element:c.jsx(Ny,{})}),n.artists&&c.jsxs(c.Fragment,{children:[c.jsx(qe,{path:"/artists",element:c.jsx(vy,{})}),c.jsx(qe,{path:"/artist/:id",element:c.jsx(Ey,{})})]}),n.albums&&c.jsxs(c.Fragment,{children:[c.jsx(qe,{path:"/albums",element:c.jsx(xy,{})}),c.jsx(qe,{path:"/album/:id",element:c.jsx(Cy,{})})]}),n.songs&&c.jsx(qe,{path:"/songs",element:c.jsx(wy,{})}),n.genres&&c.jsxs(c.Fragment,{children:[c.jsx(qe,{path:"/genres",element:c.jsx(Sy,{})}),c.jsx(qe,{path:"/genre/:id",element:c.jsx(Py,{})})]}),n.playlists&&c.jsxs(c.Fragment,{children:[c.jsx(qe,{path:"/playlists",element:c.jsx(ky,{})}),c.jsx(qe,{path:"/playlist/:id",element:c.jsx(Iy,{})})]}),c.jsx(qe,{path:"*",element:c.jsx(ig,{to:"/",replace:!0})})]})})})]}),c.jsx(Zu,{})]}):c.jsxs(c.Fragment,{children:[c.jsx(r0,{}),c.jsx(Zu,{})]})}class Ry extends y.Component{constructor(){super(...arguments);wt(this,"state",{hasError:!1,error:null,showCopied:!1});wt(this,"handleCopyError",async()=>{var r,l;const n=`Error: ${(r=this.state.error)==null?void 0:r.message}

Stack: ${((l=this.state.error)==null?void 0:l.stack)||"N/A"}`;try{await navigator.clipboard.writeText(n),this.setState({showCopied:!0}),setTimeout(()=>this.setState({showCopied:!1}),2e3)}catch{console.log("Error details:",n)}});wt(this,"handleReload",()=>{window.location.reload()});wt(this,"handleClearAndReload",()=>{localStorage.clear(),indexedDB.deleteDatabase("tunetuna-storage"),window.location.reload()})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"The app encountered an unexpected error. You can try reloading, or clear data if the issue persists."}),c.jsx("div",{className:"bg-zinc-900 rounded-lg p-3 mb-4 text-left",children:c.jsx("p",{className:"text-red-400 text-sm font-mono break-all",children:((n=this.state.error)==null?void 0:n.message)||"Unknown error"})}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:this.handleReload,className:"w-full bg-[var(--accent-color)] hover:brightness-90 text-white font-semibold py-3 px-4 rounded-lg transition-all",children:"Reload App"}),c.jsx("button",{onClick:this.handleClearAndReload,className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Clear Data & Reload"}),c.jsx("button",{onClick:this.handleCopyError,className:"w-full text-gray-400 hover:text-white py-2 px-4 text-sm transition-colors",children:this.state.showCopied?" Copied to clipboard":"Copy error details"})]})]})}):this.props.children}}ys.createRoot(document.getElementById("root")).render(c.jsx(xi.StrictMode,{children:c.jsx(Ry,{children:c.jsx(Ty,{})})}));const _y=async()=>{try{const e=await navigator.serviceWorker.getRegistration();e&&(e.waiting&&(console.log("New app version available, activating..."),e.waiting.postMessage({type:"SKIP_WAITING"})),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("New app version installed and ready")})}))}catch(e){console.log("Update check failed:",e)}};"serviceWorker"in navigator&&_y();export{J0 as B,Z0 as C,ga as D,Bl as G,vo as I,El as L,ln as P,ps as R,Xn as S,yo as U,Sa as X,le as a,il as b,re as c,ca as d,H as e,ey as f,ka as g,Ku as h,My as i,c as j,Ly as k,tl as l,cr as m,zy as n,Tf as o,bo as p,gt as q,y as r,Oo as s,po as t,xe as u,f0 as v};
