const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-eMRCyqzd.js","assets/search-DdWpX93n.js","assets/FilterBottomSheet-BAJ0GHHl.js","assets/ArtistsPage-Df5m6C8T.js","assets/Pagination-DWVo7RMK.js","assets/arrow-up-down-CbRrluBH.js","assets/AlbumsPage-Dw9KbZAm.js","assets/SongsPage-CXsRZ3ze.js","assets/SongItem-Du9FtxZp.js","assets/GenresPage-DDaa9x8g.js","assets/flame-CVphuGdA.js","assets/PlaylistsPage-C3LUCRPS.js","assets/PlaylistDetailPage-DbasJCQU.js","assets/arrow-left-CAPh7d1h.js","assets/ellipsis-TsJowd2w.js","assets/SettingsPage-0OdnwLFt.js","assets/ArtistDetailPage-CyJESuIy.js","assets/useScrollLazyLoad-B7_59odP.js","assets/chevron-up-I_kFxHVJ.js","assets/AlbumDetailPage-u4UyNwbA.js","assets/GenreSongsPage-DhGRPUVC.js","assets/StatsPage-D9sEWu7V.js"])))=>i.map(i=>d[i]);
var fh=Object.defineProperty;var hh=(e,t,n)=>t in e?fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ct=(e,t,n)=>hh(e,typeof t!="symbol"?t+"":t,n);function mh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nc={exports:{}},zo={},Cc={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),ph=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Ih=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),Va=Symbol.iterator;function Nh(e){return e===null||typeof e!="object"?null:(e=Va&&e[Va]||e["@@iterator"],typeof e=="function"?e:null)}var Pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jc=Object.assign,Tc={};function xr(e,t,n){this.props=e,this.context=t,this.refs=Tc,this.updater=n||Pc}xr.prototype.isReactComponent={};xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rc(){}Rc.prototype=xr.prototype;function bi(e,t,n){this.props=e,this.context=t,this.refs=Tc,this.updater=n||Pc}var Li=bi.prototype=new Rc;Li.constructor=bi;jc(Li,xr.prototype);Li.isPureReactComponent=!0;var Ga=Array.isArray,Ac=Object.prototype.hasOwnProperty,Mi={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Ac.call(t,r)&&!_c.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),u=0;u<i;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:ms,type:e,key:o,ref:l,props:s,_owner:Mi.current}}function Ch(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zi(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function Ph(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qa=/\/+/g;function nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ph(""+e.key):t.toString(36)}function Vs(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ms:case ph:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+nl(l,0):r,Ga(s)?(n="",e!=null&&(n=e.replace(Qa,"$&/")+"/"),Vs(s,t,n,"",function(u){return u})):s!=null&&(zi(s)&&(s=Ch(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Qa,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Ga(e))for(var i=0;i<e.length;i++){o=e[i];var a=r+nl(o,i);l+=Vs(o,t,n,a,s)}else if(a=Nh(e),typeof a=="function")for(e=a.call(e),i=0;!(o=e.next()).done;)o=o.value,a=r+nl(o,i++),l+=Vs(o,t,n,a,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ks(e,t,n){if(e==null)return e;var r=[],s=0;return Vs(e,r,"","",function(o){return t.call(n,o,s++)}),r}function jh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Gs={transition:null},Th={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Mi};function Lc(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ks,forEach:function(e,t,n){ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!zi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=xr;J.Fragment=gh;J.Profiler=vh;J.PureComponent=bi;J.StrictMode=yh;J.Suspense=kh;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Th;J.act=Lc;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jc({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Mi.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)Ac.call(t,a)&&!_c.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var u=0;u<a;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:ms,type:e.type,key:s,ref:o,props:r,_owner:l}};J.createContext=function(e){return e={$$typeof:wh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xh,_context:e},e.Consumer=e};J.createElement=bc;J.createFactory=function(e){var t=bc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Sh,render:e}};J.isValidElement=zi;J.lazy=function(e){return{$$typeof:Eh,_payload:{_status:-1,_result:e},_init:jh}};J.memo=function(e,t){return{$$typeof:Ih,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Gs.transition;Gs.transition={};try{e()}finally{Gs.transition=t}};J.unstable_act=Lc;J.useCallback=function(e,t){return Ve.current.useCallback(e,t)};J.useContext=function(e){return Ve.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};J.useEffect=function(e,t){return Ve.current.useEffect(e,t)};J.useId=function(){return Ve.current.useId()};J.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Ve.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};J.useRef=function(e){return Ve.current.useRef(e)};J.useState=function(e){return Ve.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Ve.current.useTransition()};J.version="18.3.1";Cc.exports=J;var v=Cc.exports;const $i=Ec(v),Rh=mh({__proto__:null,default:$i},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=v,_h=Symbol.for("react.element"),bh=Symbol.for("react.fragment"),Lh=Object.prototype.hasOwnProperty,Mh=Ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zh={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Lh.call(t,r)&&!zh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_h,type:e,key:o,ref:l,props:s,_owner:Mh.current}}zo.Fragment=bh;zo.jsx=Mc;zo.jsxs=Mc;Nc.exports=zo;var c=Nc.exports,Ml={},zc={exports:{}},at={},$c={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var z=C.length;C.push(A);e:for(;0<z;){var H=z-1>>>1,K=C[H];if(0<s(K,A))C[H]=A,C[z]=K,z=H;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var A=C[0],z=C.pop();if(z!==A){C[0]=z;e:for(var H=0,K=C.length,X=K>>>1;H<X;){var le=2*(H+1)-1,U=C[le],V=le+1,ie=C[V];if(0>s(U,z))V<K&&0>s(ie,U)?(C[H]=ie,C[V]=z,H=V):(C[H]=U,C[le]=z,H=le);else if(V<K&&0>s(ie,z))C[H]=ie,C[V]=z,H=V;else break e}}return A}function s(C,A){var z=C.sortIndex-A.sortIndex;return z!==0?z:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var a=[],u=[],f=1,d=null,p=3,k=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=C)r(u),A.sortIndex=A.expirationTime,t(a,A);else break;A=n(u)}}function I(C){if(g=!1,y(C),!x)if(n(a)!==null)x=!0,D(S);else{var A=n(u);A!==null&&R(I,A.startTime-C)}}function S(C,A){x=!1,g&&(g=!1,m(P),P=-1),k=!0;var z=p;try{for(y(A),d=n(a);d!==null&&(!(d.expirationTime>A)||C&&!Q());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var K=H(d.expirationTime<=A);A=e.unstable_now(),typeof K=="function"?d.callback=K:d===n(a)&&r(a),y(A)}else r(a);d=n(a)}if(d!==null)var X=!0;else{var le=n(u);le!==null&&R(I,le.startTime-A),X=!1}return X}finally{d=null,p=z,k=!1}}var E=!1,N=null,P=-1,T=5,_=-1;function Q(){return!(e.unstable_now()-_<T)}function se(){if(N!==null){var C=e.unstable_now();_=C;var A=!0;try{A=N(!0,C)}finally{A?Ce():(E=!1,N=null)}}else E=!1}var Ce;if(typeof h=="function")Ce=function(){h(se)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,he=O.port2;O.port1.onmessage=se,Ce=function(){he.postMessage(null)}}else Ce=function(){w(se,0)};function D(C){N=C,E||(E=!0,Ce())}function R(C,A){P=w(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||k||(x=!0,D(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var z=p;p=A;try{return C()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=p;p=C;try{return A()}finally{p=z}},e.unstable_scheduleCallback=function(C,A,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,C){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=z+K,C={id:f++,callback:A,priorityLevel:C,startTime:z,expirationTime:K,sortIndex:-1},z>H?(C.sortIndex=z,t(u,C),n(a)===null&&C===n(u)&&(g?(m(P),P=-1):g=!0,R(I,z-H))):(C.sortIndex=K,t(a,C),x||k||(x=!0,D(S))),C},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(C){var A=p;return function(){var z=p;p=A;try{return C.apply(this,arguments)}finally{p=z}}}})(Oc);$c.exports=Oc;var $h=$c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=v,it=$h;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dc=new Set,Wr={};function $n(e,t){dr(e,t),dr(e+"Capture",t)}function dr(e,t){for(Wr[e]=t,e=0;e<t.length;e++)Dc.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,Dh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ha={},Wa={};function Uh(e){return zl.call(Wa,e)?!0:zl.call(Ha,e)?!1:Dh.test(e)?Wa[e]=!0:(Ha[e]=!0,!1)}function Fh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bh(e,t,n,r){if(t===null||typeof t>"u"||Fh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oi=/[\-:]([a-z])/g;function Di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oi,Di);Le[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oi,Di);Le[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oi,Di);Le[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ui(e,t,n,r){var s=Le.hasOwnProperty(t)?Le[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bh(t,n,s,r)&&(n=null),r||s===null?Uh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=Oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Is=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),Fi=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),Uc=Symbol.for("react.provider"),Fc=Symbol.for("react.context"),Bi=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),Vi=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Bc=Symbol.for("react.offscreen"),Ya=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=Ya&&e[Ya]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,rl;function Lr(e){if(rl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rl=t&&t[1]||""}return`
`+rl+e}var sl=!1;function ol(e,t){if(!e||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,i=o.length-1;1<=l&&0<=i&&s[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==o[i]){if(l!==1||i!==1)do if(l--,i--,0>i||s[l]!==o[i]){var a=`
`+s[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=i);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function Vh(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=ol(e.type,!1),e;case 11:return e=ol(e.type.render,!1),e;case 1:return e=ol(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Hn:return"Portal";case $l:return"Profiler";case Fi:return"StrictMode";case Ol:return"Suspense";case Dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fc:return(e.displayName||"Context")+".Consumer";case Uc:return(e._context.displayName||"Context")+".Provider";case Bi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vi:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function Gh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===Fi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qh(e){var t=Vc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){e._valueTracker||(e._valueTracker=Qh(e))}function Gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fl(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qc(e,t){t=t.checked,t!=null&&Ui(e,"checked",t,!1)}function Bl(e,t){Qc(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ka(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vl(e,t,n){(t!=="number"||so(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(Mr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function Hc(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ja(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,Yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hh=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){Hh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function qc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function Kc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Wh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(e,t){if(t){if(Wh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function Gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,or=null,lr=null;function Za(e){if(e=ys(e)){if(typeof ql!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Fo(t),ql(e.stateNode,e.type,t))}}function Xc(e){or?lr?lr.push(e):lr=[e]:or=e}function Jc(){if(or){var e=or,t=lr;if(lr=or=null,Za(e),t)for(e=0;e<t.length;e++)Za(t[e])}}function Zc(e,t){return e(t)}function ed(){}var ll=!1;function td(e,t,n){if(ll)return e(t,n);ll=!0;try{return Zc(e,t,n)}finally{ll=!1,(or!==null||lr!==null)&&(ed(),Jc())}}function qr(e,t){var n=e.stateNode;if(n===null)return null;var r=Fo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Kl=!1;if(Bt)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Kl=!1}function Yh(e,t,n,r,s,o,l,i,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Dr=!1,oo=null,lo=!1,Xl=null,qh={onError:function(e){Dr=!0,oo=e}};function Kh(e,t,n,r,s,o,l,i,a){Dr=!1,oo=null,Yh.apply(qh,arguments)}function Xh(e,t,n,r,s,o,l,i,a){if(Kh.apply(this,arguments),Dr){if(Dr){var u=oo;Dr=!1,oo=null}else throw Error(j(198));lo||(lo=!0,Xl=u)}}function On(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eu(e){if(On(e)!==e)throw Error(j(188))}function Jh(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return eu(s),e;if(o===r)return eu(s),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,i=s.child;i;){if(i===n){l=!0,n=s,r=o;break}if(i===r){l=!0,r=s,n=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===n){l=!0,n=o,r=s;break}if(i===r){l=!0,r=o,n=s;break}i=i.sibling}if(!l)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function rd(e){return e=Jh(e),e!==null?sd(e):null}function sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sd(e);if(t!==null)return t;e=e.sibling}return null}var od=it.unstable_scheduleCallback,tu=it.unstable_cancelCallback,Zh=it.unstable_shouldYield,em=it.unstable_requestPaint,ke=it.unstable_now,tm=it.unstable_getCurrentPriorityLevel,Qi=it.unstable_ImmediatePriority,ld=it.unstable_UserBlockingPriority,io=it.unstable_NormalPriority,nm=it.unstable_LowPriority,id=it.unstable_IdlePriority,$o=null,At=null;function rm(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot($o,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:lm,sm=Math.log,om=Math.LN2;function lm(e){return e>>>=0,e===0?32:31-(sm(e)/om|0)|0}var Cs=64,Ps=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ao(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var i=l&~s;i!==0?r=zr(i):(o&=l,o!==0&&(r=zr(o)))}else l=n&~s,l!==0?r=zr(l):o!==0&&(r=zr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),s=1<<n,r|=e[n],t&=~s;return r}function im(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function am(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Et(o),i=1<<l,a=s[l];a===-1?(!(i&n)||i&r)&&(s[l]=im(i,t)):a<=t&&(e.expiredLanes|=i),o&=~i}}function Jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ad(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ps(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function um(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Et(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Hi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function ud(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cd,Wi,dd,fd,hd,Zl=!1,js=[],un=null,cn=null,dn=null,Kr=new Map,Xr=new Map,rn=[],cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(t.pointerId)}}function jr(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ys(t),t!==null&&Wi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dm(e,t,n,r,s){switch(t){case"focusin":return un=jr(un,e,t,n,r,s),!0;case"dragenter":return cn=jr(cn,e,t,n,r,s),!0;case"mouseover":return dn=jr(dn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Kr.set(o,jr(Kr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Xr.set(o,jr(Xr.get(o)||null,e,t,n,r,s)),!0}return!1}function md(e){var t=Pn(e.target);if(t!==null){var n=On(t);if(n!==null){if(t=n.tag,t===13){if(t=nd(n),t!==null){e.blockedOn=t,hd(e.priority,function(){dd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ei(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yl=r,n.target.dispatchEvent(r),Yl=null}else return t=ys(n),t!==null&&Wi(t),e.blockedOn=n,!1;t.shift()}return!0}function ru(e,t,n){Qs(e)&&n.delete(t)}function fm(){Zl=!1,un!==null&&Qs(un)&&(un=null),cn!==null&&Qs(cn)&&(cn=null),dn!==null&&Qs(dn)&&(dn=null),Kr.forEach(ru),Xr.forEach(ru)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,fm)))}function Jr(e){function t(s){return Tr(s,e)}if(0<js.length){Tr(js[0],e);for(var n=1;n<js.length;n++){var r=js[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Tr(un,e),cn!==null&&Tr(cn,e),dn!==null&&Tr(dn,e),Kr.forEach(t),Xr.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)md(n),n.blockedOn===null&&rn.shift()}var ir=Ht.ReactCurrentBatchConfig,uo=!0;function hm(e,t,n,r){var s=oe,o=ir.transition;ir.transition=null;try{oe=1,Yi(e,t,n,r)}finally{oe=s,ir.transition=o}}function mm(e,t,n,r){var s=oe,o=ir.transition;ir.transition=null;try{oe=4,Yi(e,t,n,r)}finally{oe=s,ir.transition=o}}function Yi(e,t,n,r){if(uo){var s=ei(e,t,n,r);if(s===null)yl(e,t,r,co,n),nu(e,r);else if(dm(s,e,t,n,r))r.stopPropagation();else if(nu(e,r),t&4&&-1<cm.indexOf(e)){for(;s!==null;){var o=ys(s);if(o!==null&&cd(o),o=ei(e,t,n,r),o===null&&yl(e,t,r,co,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else yl(e,t,r,null,n)}}var co=null;function ei(e,t,n,r){if(co=null,e=Gi(r),e=Pn(e),e!==null)if(t=On(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return co=e,null}function pd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tm()){case Qi:return 1;case ld:return 4;case io:case nm:return 16;case id:return 536870912;default:return 16}default:return 16}}var on=null,qi=null,Hs=null;function gd(){if(Hs)return Hs;var e,t=qi,n=t.length,r,s="value"in on?on.value:on.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return Hs=s.slice(e,1<r?1-r:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ts(){return!0}function su(){return!1}function ut(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ts:su,this.isPropagationStopped=su,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=ut(wr),gs=ye({},wr,{view:0,detail:0}),pm=ut(gs),al,ul,Rr,Oo=ye({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(al=e.screenX-Rr.screenX,ul=e.screenY-Rr.screenY):ul=al=0,Rr=e),al)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),ou=ut(Oo),gm=ye({},Oo,{dataTransfer:0}),ym=ut(gm),vm=ye({},gs,{relatedTarget:0}),cl=ut(vm),xm=ye({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=ut(xm),Sm=ye({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),km=ut(Sm),Im=ye({},wr,{data:0}),lu=ut(Im),Em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cm[e])?!!t[e]:!1}function Xi(){return Pm}var jm=ye({},gs,{key:function(e){if(e.key){var t=Em[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tm=ut(jm),Rm=ye({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=ut(Rm),Am=ye({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),_m=ut(Am),bm=ye({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lm=ut(bm),Mm=ye({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zm=ut(Mm),$m=[9,13,27,32],Ji=Bt&&"CompositionEvent"in window,Ur=null;Bt&&"documentMode"in document&&(Ur=document.documentMode);var Om=Bt&&"TextEvent"in window&&!Ur,yd=Bt&&(!Ji||Ur&&8<Ur&&11>=Ur),au=" ",uu=!1;function vd(e,t){switch(e){case"keyup":return $m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function Dm(e,t){switch(e){case"compositionend":return xd(t);case"keypress":return t.which!==32?null:(uu=!0,au);case"textInput":return e=t.data,e===au&&uu?null:e;default:return null}}function Um(e,t){if(Yn)return e==="compositionend"||!Ji&&vd(e,t)?(e=gd(),Hs=qi=on=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var Fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fm[e.type]:t==="textarea"}function wd(e,t,n,r){Xc(r),t=fo(t,"onChange"),0<t.length&&(n=new Ki("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fr=null,Zr=null;function Bm(e){Ad(e,0)}function Do(e){var t=Xn(e);if(Gc(t))return e}function Vm(e,t){if(e==="change")return t}var Sd=!1;if(Bt){var dl;if(Bt){var fl="oninput"in document;if(!fl){var du=document.createElement("div");du.setAttribute("oninput","return;"),fl=typeof du.oninput=="function"}dl=fl}else dl=!1;Sd=dl&&(!document.documentMode||9<document.documentMode)}function fu(){Fr&&(Fr.detachEvent("onpropertychange",kd),Zr=Fr=null)}function kd(e){if(e.propertyName==="value"&&Do(Zr)){var t=[];wd(t,Zr,e,Gi(e)),td(Bm,t)}}function Gm(e,t,n){e==="focusin"?(fu(),Fr=t,Zr=n,Fr.attachEvent("onpropertychange",kd)):e==="focusout"&&fu()}function Qm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(Zr)}function Hm(e,t){if(e==="click")return Do(t)}function Wm(e,t){if(e==="input"||e==="change")return Do(t)}function Ym(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Ym;function es(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zl.call(t,s)||!Ct(e[s],t[s]))return!1}return!0}function hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,t){var n=hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hu(n)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=so(e.document)}return t}function Zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qm(e){var t=Ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Id(n.ownerDocument.documentElement,n)){if(r!==null&&Zi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=mu(n,o);var l=mu(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Km=Bt&&"documentMode"in document&&11>=document.documentMode,qn=null,ti=null,Br=null,ni=!1;function pu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ni||qn==null||qn!==so(r)||(r=qn,"selectionStart"in r&&Zi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&es(Br,r)||(Br=r,r=fo(ti,"onSelect"),0<r.length&&(t=new Ki("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qn)))}function Rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kn={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},hl={},Nd={};Bt&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Uo(e){if(hl[e])return hl[e];if(!Kn[e])return e;var t=Kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nd)return hl[e]=t[n];return e}var Cd=Uo("animationend"),Pd=Uo("animationiteration"),jd=Uo("animationstart"),Td=Uo("transitionend"),Rd=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Rd.set(e,t),$n(t,[e])}for(var ml=0;ml<gu.length;ml++){var pl=gu[ml],Xm=pl.toLowerCase(),Jm=pl[0].toUpperCase()+pl.slice(1);Sn(Xm,"on"+Jm)}Sn(Cd,"onAnimationEnd");Sn(Pd,"onAnimationIteration");Sn(jd,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Td,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function yu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xh(r,t,void 0,e),e.currentTarget=null}function Ad(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],a=i.instance,u=i.currentTarget;if(i=i.listener,a!==o&&s.isPropagationStopped())break e;yu(s,i,u),o=a}else for(l=0;l<r.length;l++){if(i=r[l],a=i.instance,u=i.currentTarget,i=i.listener,a!==o&&s.isPropagationStopped())break e;yu(s,i,u),o=a}}}if(lo)throw e=Xl,lo=!1,Xl=null,e}function de(e,t){var n=t[ii];n===void 0&&(n=t[ii]=new Set);var r=e+"__bubble";n.has(r)||(_d(t,e,2,!1),n.add(r))}function gl(e,t,n){var r=0;t&&(r|=4),_d(n,e,r,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[As]){e[As]=!0,Dc.forEach(function(n){n!=="selectionchange"&&(Zm.has(n)||gl(n,!1,e),gl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,gl("selectionchange",!1,t))}}function _d(e,t,n,r){switch(pd(t)){case 1:var s=hm;break;case 4:s=mm;break;default:s=Yi}n=s.bind(null,t,n,e),s=void 0,!Kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yl(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;i!==null;){if(l=Pn(i),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}i=i.parentNode}}r=r.return}td(function(){var u=o,f=Gi(n),d=[];e:{var p=Rd.get(e);if(p!==void 0){var k=Ki,x=e;switch(e){case"keypress":if(Ws(n)===0)break e;case"keydown":case"keyup":k=Tm;break;case"focusin":x="focus",k=cl;break;case"focusout":x="blur",k=cl;break;case"beforeblur":case"afterblur":k=cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=_m;break;case Cd:case Pd:case jd:k=wm;break;case Td:k=Lm;break;case"scroll":k=pm;break;case"wheel":k=zm;break;case"copy":case"cut":case"paste":k=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=iu}var g=(t&4)!==0,w=!g&&e==="scroll",m=g?p!==null?p+"Capture":null:p;g=[];for(var h=u,y;h!==null;){y=h;var I=y.stateNode;if(y.tag===5&&I!==null&&(y=I,m!==null&&(I=qr(h,m),I!=null&&g.push(ns(h,I,y)))),w)break;h=h.return}0<g.length&&(p=new k(p,x,null,n,f),d.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",p&&n!==Yl&&(x=n.relatedTarget||n.fromElement)&&(Pn(x)||x[Vt]))break e;if((k||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,k?(x=n.relatedTarget||n.toElement,k=u,x=x?Pn(x):null,x!==null&&(w=On(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(k=null,x=u),k!==x)){if(g=ou,I="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=iu,I="onPointerLeave",m="onPointerEnter",h="pointer"),w=k==null?p:Xn(k),y=x==null?p:Xn(x),p=new g(I,h+"leave",k,n,f),p.target=w,p.relatedTarget=y,I=null,Pn(f)===u&&(g=new g(m,h+"enter",x,n,f),g.target=y,g.relatedTarget=w,I=g),w=I,k&&x)t:{for(g=k,m=x,h=0,y=g;y;y=Fn(y))h++;for(y=0,I=m;I;I=Fn(I))y++;for(;0<h-y;)g=Fn(g),h--;for(;0<y-h;)m=Fn(m),y--;for(;h--;){if(g===m||m!==null&&g===m.alternate)break t;g=Fn(g),m=Fn(m)}g=null}else g=null;k!==null&&vu(d,p,k,g,!1),x!==null&&w!==null&&vu(d,w,x,g,!0)}}e:{if(p=u?Xn(u):window,k=p.nodeName&&p.nodeName.toLowerCase(),k==="select"||k==="input"&&p.type==="file")var S=Vm;else if(cu(p))if(Sd)S=Wm;else{S=Qm;var E=Gm}else(k=p.nodeName)&&k.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Hm);if(S&&(S=S(e,u))){wd(d,S,n,f);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Vl(p,"number",p.value)}switch(E=u?Xn(u):window,e){case"focusin":(cu(E)||E.contentEditable==="true")&&(qn=E,ti=u,Br=null);break;case"focusout":Br=ti=qn=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":ni=!1,pu(d,n,f);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":pu(d,n,f)}var N;if(Ji)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Yn?vd(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(yd&&n.locale!=="ko"&&(Yn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Yn&&(N=gd()):(on=f,qi="value"in on?on.value:on.textContent,Yn=!0)),E=fo(u,P),0<E.length&&(P=new lu(P,e,null,n,f),d.push({event:P,listeners:E}),N?P.data=N:(N=xd(n),N!==null&&(P.data=N)))),(N=Om?Dm(e,n):Um(e,n))&&(u=fo(u,"onBeforeInput"),0<u.length&&(f=new lu("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=N))}Ad(d,t)})}function ns(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=qr(e,n),o!=null&&r.unshift(ns(e,o,s)),o=qr(e,t),o!=null&&r.push(ns(e,o,s))),e=e.return}return r}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var i=n,a=i.alternate,u=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&u!==null&&(i=u,s?(a=qr(n,o),a!=null&&l.unshift(ns(n,a,i))):s||(a=qr(n,o),a!=null&&l.push(ns(n,a,i)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ep=/\r\n?/g,tp=/\u0000|\uFFFD/g;function xu(e){return(typeof e=="string"?e:""+e).replace(ep,`
`).replace(tp,"")}function _s(e,t,n){if(t=xu(t),xu(e)!==t&&n)throw Error(j(425))}function ho(){}var ri=null,si=null;function oi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var li=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(sp)}:li;function sp(e){setTimeout(function(){throw e})}function vl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jr(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Sr,rs="__reactProps$"+Sr,Vt="__reactContainer$"+Sr,ii="__reactEvents$"+Sr,op="__reactListeners$"+Sr,lp="__reactHandles$"+Sr;function Pn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Su(e);e!==null;){if(n=e[Rt])return n;e=Su(e)}return t}e=n,n=e.parentNode}return null}function ys(e){return e=e[Rt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Fo(e){return e[rs]||null}var ai=[],Jn=-1;function kn(e){return{current:e}}function fe(e){0>Jn||(e.current=ai[Jn],ai[Jn]=null,Jn--)}function ce(e,t){Jn++,ai[Jn]=e.current,e.current=t}var wn={},De=kn(wn),Xe=kn(!1),_n=wn;function fr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function mo(){fe(Xe),fe(De)}function ku(e,t,n){if(De.current!==wn)throw Error(j(168));ce(De,t),ce(Xe,n)}function bd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,Gh(e)||"Unknown",s));return ye({},n,r)}function po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,_n=De.current,ce(De,e),ce(Xe,Xe.current),!0}function Iu(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=bd(e,t,_n),r.__reactInternalMemoizedMergedChildContext=e,fe(Xe),fe(De),ce(De,e)):fe(Xe),ce(Xe,n)}var zt=null,Bo=!1,xl=!1;function Ld(e){zt===null?zt=[e]:zt.push(e)}function ip(e){Bo=!0,Ld(e)}function In(){if(!xl&&zt!==null){xl=!0;var e=0,t=oe;try{var n=zt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Bo=!1}catch(s){throw zt!==null&&(zt=zt.slice(e+1)),od(Qi,In),s}finally{oe=t,xl=!1}}return null}var Zn=[],er=0,go=null,yo=0,ft=[],ht=0,bn=null,$t=1,Ot="";function Nn(e,t){Zn[er++]=yo,Zn[er++]=go,go=e,yo=t}function Md(e,t,n){ft[ht++]=$t,ft[ht++]=Ot,ft[ht++]=bn,bn=e;var r=$t;e=Ot;var s=32-Et(r)-1;r&=~(1<<s),n+=1;var o=32-Et(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,$t=1<<32-Et(t)+s|n<<s|r,Ot=o+e}else $t=1<<o|n<<s|r,Ot=e}function ea(e){e.return!==null&&(Nn(e,1),Md(e,1,0))}function ta(e){for(;e===go;)go=Zn[--er],Zn[er]=null,yo=Zn[--er],Zn[er]=null;for(;e===bn;)bn=ft[--ht],ft[ht]=null,Ot=ft[--ht],ft[ht]=null,$t=ft[--ht],ft[ht]=null}var lt=null,st=null,me=!1,It=null;function zd(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Eu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:$t,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function ui(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ci(e){if(me){var t=st;if(t){var n=t;if(!Eu(e,t)){if(ui(e))throw Error(j(418));t=fn(n.nextSibling);var r=lt;t&&Eu(e,t)?zd(r,n):(e.flags=e.flags&-4097|2,me=!1,lt=e)}}else{if(ui(e))throw Error(j(418));e.flags=e.flags&-4097|2,me=!1,lt=e}}}function Nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function bs(e){if(e!==lt)return!1;if(!me)return Nu(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oi(e.type,e.memoizedProps)),t&&(t=st)){if(ui(e))throw $d(),Error(j(418));for(;t;)zd(e,t),t=fn(t.nextSibling)}if(Nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?fn(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=st;e;)e=fn(e.nextSibling)}function hr(){st=lt=null,me=!1}function na(e){It===null?It=[e]:It.push(e)}var ap=Ht.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var i=s.refs;l===null?delete i[o]:i[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cu(e){var t=e._init;return t(e._payload)}function Od(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function s(m,h){return m=gn(m,h),m.index=0,m.sibling=null,m}function o(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=2,h):y):(m.flags|=2,h)):(m.flags|=1048576,h)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function i(m,h,y,I){return h===null||h.tag!==6?(h=Cl(y,m.mode,I),h.return=m,h):(h=s(h,y),h.return=m,h)}function a(m,h,y,I){var S=y.type;return S===Wn?f(m,h,y.props.children,I,y.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tn&&Cu(S)===h.type)?(I=s(h,y.props),I.ref=Ar(m,h,y),I.return=m,I):(I=eo(y.type,y.key,y.props,null,m.mode,I),I.ref=Ar(m,h,y),I.return=m,I)}function u(m,h,y,I){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Pl(y,m.mode,I),h.return=m,h):(h=s(h,y.children||[]),h.return=m,h)}function f(m,h,y,I,S){return h===null||h.tag!==7?(h=An(y,m.mode,I,S),h.return=m,h):(h=s(h,y),h.return=m,h)}function d(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Cl(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Is:return y=eo(h.type,h.key,h.props,null,m.mode,y),y.ref=Ar(m,null,h),y.return=m,y;case Hn:return h=Pl(h,m.mode,y),h.return=m,h;case tn:var I=h._init;return d(m,I(h._payload),y)}if(Mr(h)||Cr(h))return h=An(h,m.mode,y,null),h.return=m,h;Ls(m,h)}return null}function p(m,h,y,I){var S=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:i(m,h,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Is:return y.key===S?a(m,h,y,I):null;case Hn:return y.key===S?u(m,h,y,I):null;case tn:return S=y._init,p(m,h,S(y._payload),I)}if(Mr(y)||Cr(y))return S!==null?null:f(m,h,y,I,null);Ls(m,y)}return null}function k(m,h,y,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return m=m.get(y)||null,i(h,m,""+I,S);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Is:return m=m.get(I.key===null?y:I.key)||null,a(h,m,I,S);case Hn:return m=m.get(I.key===null?y:I.key)||null,u(h,m,I,S);case tn:var E=I._init;return k(m,h,y,E(I._payload),S)}if(Mr(I)||Cr(I))return m=m.get(y)||null,f(h,m,I,S,null);Ls(h,I)}return null}function x(m,h,y,I){for(var S=null,E=null,N=h,P=h=0,T=null;N!==null&&P<y.length;P++){N.index>P?(T=N,N=null):T=N.sibling;var _=p(m,N,y[P],I);if(_===null){N===null&&(N=T);break}e&&N&&_.alternate===null&&t(m,N),h=o(_,h,P),E===null?S=_:E.sibling=_,E=_,N=T}if(P===y.length)return n(m,N),me&&Nn(m,P),S;if(N===null){for(;P<y.length;P++)N=d(m,y[P],I),N!==null&&(h=o(N,h,P),E===null?S=N:E.sibling=N,E=N);return me&&Nn(m,P),S}for(N=r(m,N);P<y.length;P++)T=k(N,m,P,y[P],I),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?P:T.key),h=o(T,h,P),E===null?S=T:E.sibling=T,E=T);return e&&N.forEach(function(Q){return t(m,Q)}),me&&Nn(m,P),S}function g(m,h,y,I){var S=Cr(y);if(typeof S!="function")throw Error(j(150));if(y=S.call(y),y==null)throw Error(j(151));for(var E=S=null,N=h,P=h=0,T=null,_=y.next();N!==null&&!_.done;P++,_=y.next()){N.index>P?(T=N,N=null):T=N.sibling;var Q=p(m,N,_.value,I);if(Q===null){N===null&&(N=T);break}e&&N&&Q.alternate===null&&t(m,N),h=o(Q,h,P),E===null?S=Q:E.sibling=Q,E=Q,N=T}if(_.done)return n(m,N),me&&Nn(m,P),S;if(N===null){for(;!_.done;P++,_=y.next())_=d(m,_.value,I),_!==null&&(h=o(_,h,P),E===null?S=_:E.sibling=_,E=_);return me&&Nn(m,P),S}for(N=r(m,N);!_.done;P++,_=y.next())_=k(N,m,P,_.value,I),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?P:_.key),h=o(_,h,P),E===null?S=_:E.sibling=_,E=_);return e&&N.forEach(function(se){return t(m,se)}),me&&Nn(m,P),S}function w(m,h,y,I){if(typeof y=="object"&&y!==null&&y.type===Wn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Is:e:{for(var S=y.key,E=h;E!==null;){if(E.key===S){if(S=y.type,S===Wn){if(E.tag===7){n(m,E.sibling),h=s(E,y.props.children),h.return=m,m=h;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tn&&Cu(S)===E.type){n(m,E.sibling),h=s(E,y.props),h.ref=Ar(m,E,y),h.return=m,m=h;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===Wn?(h=An(y.props.children,m.mode,I,y.key),h.return=m,m=h):(I=eo(y.type,y.key,y.props,null,m.mode,I),I.ref=Ar(m,h,y),I.return=m,m=I)}return l(m);case Hn:e:{for(E=y.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(m,h.sibling),h=s(h,y.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Pl(y,m.mode,I),h.return=m,m=h}return l(m);case tn:return E=y._init,w(m,h,E(y._payload),I)}if(Mr(y))return x(m,h,y,I);if(Cr(y))return g(m,h,y,I);Ls(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(m,h.sibling),h=s(h,y),h.return=m,m=h):(n(m,h),h=Cl(y,m.mode,I),h.return=m,m=h),l(m)):n(m,h)}return w}var mr=Od(!0),Dd=Od(!1),vo=kn(null),xo=null,tr=null,ra=null;function sa(){ra=tr=xo=null}function oa(e){var t=vo.current;fe(vo),e._currentValue=t}function di(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ar(e,t){xo=e,ra=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(ra!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(xo===null)throw Error(j(308));tr=e,xo.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var jn=null;function la(e){jn===null?jn=[e]:jn.push(e)}function Ud(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,la(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Gt(e,n)}return s=r.interleaved,s===null?(t.next=t,la(r)):(t.next=s.next,s.next=t),r.interleaved=t,Gt(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hi(e,n)}}function Pu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wo(e,t,n,r){var s=e.updateQueue;nn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var a=i,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==l&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=a))}if(o!==null){var d=s.baseState;l=0,f=u=a=null,i=o;do{var p=i.lane,k=i.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:k,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,g=i;switch(p=t,k=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){d=x.call(k,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,p=typeof x=="function"?x.call(k,d,p):x,p==null)break e;d=ye({},d,p);break e;case 2:nn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[i]:p.push(i))}else k={eventTime:k,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=k,a=d):f=f.next=k,l|=p;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;p=i,i=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Mn|=l,e.lanes=l,e.memoizedState=d}}function ju(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var vs={},_t=kn(vs),ss=kn(vs),os=kn(vs);function Tn(e){if(e===vs)throw Error(j(174));return e}function aa(e,t){switch(ce(os,t),ce(ss,e),ce(_t,vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ql(t,e)}fe(_t),ce(_t,t)}function pr(){fe(_t),fe(ss),fe(os)}function Bd(e){Tn(os.current);var t=Tn(_t.current),n=Ql(t,e.type);t!==n&&(ce(ss,e),ce(_t,n))}function ua(e){ss.current===e&&(fe(_t),fe(ss))}var pe=kn(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=[];function ca(){for(var e=0;e<wl.length;e++)wl[e]._workInProgressVersionPrimary=null;wl.length=0}var qs=Ht.ReactCurrentDispatcher,Sl=Ht.ReactCurrentBatchConfig,Ln=0,ge=null,Pe=null,Re=null,ko=!1,Vr=!1,ls=0,up=0;function ze(){throw Error(j(321))}function da(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function fa(e,t,n,r,s,o){if(Ln=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?hp:mp,e=n(r,s),Vr){o=0;do{if(Vr=!1,ls=0,25<=o)throw Error(j(301));o+=1,Re=Pe=null,t.updateQueue=null,qs.current=pp,e=n(r,s)}while(Vr)}if(qs.current=Io,t=Pe!==null&&Pe.next!==null,Ln=0,Re=Pe=ge=null,ko=!1,t)throw Error(j(300));return e}function ha(){var e=ls!==0;return ls=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=e:Re=Re.next=e,Re}function yt(){if(Pe===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?ge.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(j(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?ge.memoizedState=Re=e:Re=Re.next=e}return Re}function is(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=yt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=l=null,a=null,u=o;do{var f=u.lane;if((Ln&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(i=a=d,l=r):a=a.next=d,ge.lanes|=f,Mn|=f}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=i,Ct(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ge.lanes|=o,Mn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Il(e){var t=yt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Ct(o,t.memoizedState)||(Ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vd(){}function Gd(e,t){var n=ge,r=yt(),s=t(),o=!Ct(r.memoizedState,s);if(o&&(r.memoizedState=s,Ke=!0),r=r.queue,ma(Wd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,as(9,Hd.bind(null,n,r,s,t),void 0,null),Ae===null)throw Error(j(349));Ln&30||Qd(n,t,s)}return s}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hd(e,t,n,r){t.value=n,t.getSnapshot=r,Yd(t)&&qd(e)}function Wd(e,t,n){return n(function(){Yd(t)&&qd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function qd(e){var t=Gt(e,1);t!==null&&Nt(t,e,1,-1)}function Tu(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=fp.bind(null,ge,e),[t.memoizedState,e]}function as(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kd(){return yt().memoizedState}function Ks(e,t,n,r){var s=Tt();ge.flags|=e,s.memoizedState=as(1|t,n,void 0,r===void 0?null:r)}function Vo(e,t,n,r){var s=yt();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var l=Pe.memoizedState;if(o=l.destroy,r!==null&&da(r,l.deps)){s.memoizedState=as(t,n,o,r);return}}ge.flags|=e,s.memoizedState=as(1|t,n,o,r)}function Ru(e,t){return Ks(8390656,8,e,t)}function ma(e,t){return Vo(2048,8,e,t)}function Xd(e,t){return Vo(4,2,e,t)}function Jd(e,t){return Vo(4,4,e,t)}function Zd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ef(e,t,n){return n=n!=null?n.concat([e]):null,Vo(4,4,Zd.bind(null,t,e),n)}function pa(){}function tf(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&da(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nf(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&da(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rf(e,t,n){return Ln&21?(Ct(n,t)||(n=ad(),ge.lanes|=n,Mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function cp(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Sl.transition;Sl.transition={};try{e(!1),t()}finally{oe=n,Sl.transition=r}}function sf(){return yt().memoizedState}function dp(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},of(e))lf(t,n);else if(n=Ud(e,t,n,r),n!==null){var s=Be();Nt(n,e,r,s),af(n,t,r)}}function fp(e,t,n){var r=pn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(of(e))lf(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,i=o(l,n);if(s.hasEagerState=!0,s.eagerState=i,Ct(i,l)){var a=t.interleaved;a===null?(s.next=s,la(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Ud(e,t,s,r),n!==null&&(s=Be(),Nt(n,e,r,s),af(n,t,r))}}function of(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function lf(e,t){Vr=ko=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function af(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hi(e,n)}}var Io={readContext:gt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},hp={readContext:gt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Ru,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4194308,4,Zd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dp.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Tu,useDebugValue:pa,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Tu(!1),t=e[0];return e=cp.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Tt();if(me){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Ae===null)throw Error(j(349));Ln&30||Qd(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Ru(Wd.bind(null,r,o,e),[e]),r.flags|=2048,as(9,Hd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Ae.identifierPrefix;if(me){var n=Ot,r=$t;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ls++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=up++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mp={readContext:gt,useCallback:tf,useContext:gt,useEffect:ma,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:kl,useRef:Kd,useState:function(){return kl(is)},useDebugValue:pa,useDeferredValue:function(e){var t=yt();return rf(t,Pe.memoizedState,e)},useTransition:function(){var e=kl(is)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Gd,useId:sf,unstable_isNewReconciler:!1},pp={readContext:gt,useCallback:tf,useContext:gt,useEffect:ma,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:Il,useRef:Kd,useState:function(){return Il(is)},useDebugValue:pa,useDeferredValue:function(e){var t=yt();return Pe===null?t.memoizedState=e:rf(t,Pe.memoizedState,e)},useTransition:function(){var e=Il(is)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Gd,useId:sf,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),s=pn(e),o=Ft(r,s);o.payload=t,n!=null&&(o.callback=n),t=hn(e,o,s),t!==null&&(Nt(t,e,s,r),Ys(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),s=pn(e),o=Ft(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=hn(e,o,s),t!==null&&(Nt(t,e,s,r),Ys(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=pn(e),s=Ft(n,r);s.tag=2,t!=null&&(s.callback=t),t=hn(e,s,r),t!==null&&(Nt(t,e,r,n),Ys(t,e,r))}};function Au(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!es(n,r)||!es(s,o):!0}function uf(e,t,n){var r=!1,s=wn,o=t.contextType;return typeof o=="object"&&o!==null?o=gt(o):(s=Je(t)?_n:De.current,r=t.contextTypes,o=(r=r!=null)?fr(e,s):wn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function _u(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function hi(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ia(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gt(o):(o=Je(t)?_n:De.current,s.context=fr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fi(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Go.enqueueReplaceState(s,s.state,null),wo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var n="",r=t;do n+=Vh(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function El(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gp=typeof WeakMap=="function"?WeakMap:Map;function cf(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){No||(No=!0,Ei=r),mi(e,t)},n}function df(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mi(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){mi(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function bu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Rp.bind(null,e,t,n),t.then(e,e))}function Lu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var yp=Ht.ReactCurrentOwner,Ke=!1;function Fe(e,t,n,r){t.child=e===null?Dd(t,null,n,r):mr(t,e.child,n,r)}function zu(e,t,n,r,s){n=n.render;var o=t.ref;return ar(t,s),r=fa(e,t,n,r,o,s),n=ha(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(me&&n&&ea(t),t.flags|=1,Fe(e,t,r,s),t.child)}function $u(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ia(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ff(e,t,o,r,s)):(e=eo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:es,n(l,r)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=gn(o,r),e.ref=t.ref,e.return=t,t.child=e}function ff(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(es(o,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return pi(e,t,n,r,s)}function hf(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(rr,nt),nt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(rr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ce(rr,nt),nt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ce(rr,nt),nt|=r;return Fe(e,t,s,n),t.child}function mf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pi(e,t,n,r,s){var o=Je(n)?_n:De.current;return o=fr(t,o),ar(t,s),n=fa(e,t,n,r,o,s),r=ha(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(me&&r&&ea(t),t.flags|=1,Fe(e,t,n,s),t.child)}function Ou(e,t,n,r,s){if(Je(n)){var o=!0;po(t)}else o=!1;if(ar(t,s),t.stateNode===null)Xs(e,t),uf(t,n,r),hi(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=Je(n)?_n:De.current,u=fr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||a!==u)&&_u(t,l,r,u),nn=!1;var p=t.memoizedState;l.state=p,wo(t,r,l,s),a=t.memoizedState,i!==r||p!==a||Xe.current||nn?(typeof f=="function"&&(fi(t,n,f,r),a=t.memoizedState),(i=nn||Au(t,n,i,r,p,a,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Fd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:St(t.type,i),l.props=u,d=t.pendingProps,p=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=gt(a):(a=Je(n)?_n:De.current,a=fr(t,a));var k=n.getDerivedStateFromProps;(f=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==d||p!==a)&&_u(t,l,r,a),nn=!1,p=t.memoizedState,l.state=p,wo(t,r,l,s);var x=t.memoizedState;i!==d||p!==x||Xe.current||nn?(typeof k=="function"&&(fi(t,n,k,r),x=t.memoizedState),(u=nn||Au(t,n,u,r,p,x,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return gi(e,t,n,r,o,s)}function gi(e,t,n,r,s,o){mf(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Iu(t,n,!1),Qt(e,t,o);r=t.stateNode,yp.current=t;var i=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=mr(t,e.child,null,o),t.child=mr(t,null,i,o)):Fe(e,t,i,o),t.memoizedState=r.state,s&&Iu(t,n,!0),t.child}function pf(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),aa(e,t.containerInfo)}function Du(e,t,n,r,s){return hr(),na(s),t.flags|=256,Fe(e,t,n,r),t.child}var yi={dehydrated:null,treeContext:null,retryLane:0};function vi(e){return{baseLanes:e,cachePool:null,transitions:null}}function gf(e,t,n){var r=t.pendingProps,s=pe.current,o=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(pe,s&1),e===null)return ci(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Wo(l,r,0,null),e=An(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vi(n),t.memoizedState=yi,e):ga(t,l));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return vp(e,t,l,r,i,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,i=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=gn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=gn(i,o):(o=An(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?vi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=yi,r}return o=e.child,e=o.sibling,r=gn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ga(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,n,r){return r!==null&&na(r),mr(t,e.child,null,n),e=ga(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vp(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=El(Error(j(422))),Ms(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Wo({mode:"visible",children:r.children},s,0,null),o=An(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&mr(t,e.child,null,l),t.child.memoizedState=vi(l),t.memoizedState=yi,o);if(!(t.mode&1))return Ms(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(j(419)),r=El(o,r,void 0),Ms(e,t,l,r)}if(i=(l&e.childLanes)!==0,Ke||i){if(r=Ae,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Gt(e,s),Nt(r,e,s,-1))}return ka(),r=El(Error(j(421))),Ms(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ap.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,st=fn(s.nextSibling),lt=t,me=!0,It=null,e!==null&&(ft[ht++]=$t,ft[ht++]=Ot,ft[ht++]=bn,$t=e.id,Ot=e.overflow,bn=t),t=ga(t,r.children),t.flags|=4096,t)}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),di(e.return,t,n)}function Nl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function yf(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Fe(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uu(e,n,t);else if(e.tag===19)Uu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(pe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&So(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nl(t,!0,n,null,o);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xp(e,t,n){switch(t.tag){case 3:pf(t),hr();break;case 5:Bd(t);break;case 1:Je(t.type)&&po(t);break;case 4:aa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(vo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?gf(e,t,n):(ce(pe,pe.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);ce(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,hf(e,t,n)}return Qt(e,t,n)}var vf,xi,xf,wf;vf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xi=function(){};xf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Tn(_t.current);var o=null;switch(n){case"input":s=Fl(e,s),r=Fl(e,r),o=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),o=[];break;case"textarea":s=Gl(e,s),r=Gl(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ho)}Hl(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(l in i)i.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==i&&(a!=null||i!=null))if(u==="style")if(i){for(l in i)!i.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&i[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&de("scroll",e),o||i===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};wf=function(e,t,n,r){n!==r&&(t.flags|=4)};function _r(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wp(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Je(t.type)&&mo(),$e(t),null;case 3:return r=t.stateNode,pr(),fe(Xe),fe(De),ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Pi(It),It=null))),xi(e,t),$e(t),null;case 5:ua(t);var s=Tn(os.current);if(n=t.type,e!==null&&t.stateNode!=null)xf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return $e(t),null}if(e=Tn(_t.current),bs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Rt]=t,r[rs]=o,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<$r.length;s++)de($r[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":qa(r,o),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},de("invalid",r);break;case"textarea":Xa(r,o),de("invalid",r)}Hl(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var i=o[l];l==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&_s(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&_s(r.textContent,i,e),s=["children",""+i]):Wr.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&de("scroll",r)}switch(n){case"input":Es(r),Ka(r,o,!0);break;case"textarea":Es(r),Ja(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ho)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Rt]=t,e[rs]=r,vf(e,t,!1,!1),t.stateNode=e;e:{switch(l=Wl(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<$r.length;s++)de($r[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":qa(e,r),s=Fl(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":Xa(e,r),s=Gl(e,r),de("invalid",e);break;default:s=r}Hl(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="style"?Kc(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Yc(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Yr(e,a):typeof a=="number"&&Yr(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&de("scroll",e):a!=null&&Ui(e,o,a,l))}switch(n){case"input":Es(e),Ka(e,r,!1);break;case"textarea":Es(e),Ja(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?sr(e,!!r.multiple,o,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)wf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Tn(os.current),Tn(_t.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(o=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return $e(t),null;case 13:if(fe(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&st!==null&&t.mode&1&&!(t.flags&128))$d(),hr(),t.flags|=98560,o=!1;else if(o=bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(j(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[Rt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else It!==null&&(Pi(It),It=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?je===0&&(je=3):ka())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return pr(),xi(e,t),e===null&&ts(t.stateNode.containerInfo),$e(t),null;case 10:return oa(t.type._context),$e(t),null;case 17:return Je(t.type)&&mo(),$e(t),null;case 19:if(fe(pe),o=t.memoizedState,o===null)return $e(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)_r(o,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=So(e),l!==null){for(t.flags|=128,_r(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ke()>yr&&(t.flags|=128,r=!0,_r(o,!1),t.lanes=4194304)}else{if(!r)if(e=So(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_r(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!me)return $e(t),null}else 2*ke()-o.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,r=!0,_r(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ke(),t.sibling=null,n=pe.current,ce(pe,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Sp(e,t){switch(ta(t),t.tag){case 1:return Je(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),fe(Xe),fe(De),ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ua(t),null;case 13:if(fe(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(pe),null;case 4:return pr(),null;case 10:return oa(t.type._context),null;case 22:case 23:return Sa(),null;case 24:return null;default:return null}}var zs=!1,Oe=!1,kp=typeof WeakSet=="function"?WeakSet:Set,$=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function wi(e,t,n){try{n()}catch(r){ve(e,t,r)}}var Fu=!1;function Ip(e,t){if(ri=uo,e=Ed(),Zi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,i=-1,a=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var k;d!==n||s!==0&&d.nodeType!==3||(i=l+s),d!==o||r!==0&&d.nodeType!==3||(a=l+r),d.nodeType===3&&(l+=d.nodeValue.length),(k=d.firstChild)!==null;)p=d,d=k;for(;;){if(d===e)break t;if(p===n&&++u===s&&(i=l),p===o&&++f===r&&(a=l),(k=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=k}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(si={focusedElem:e,selectionRange:n},uo=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:St(t.type,g),w);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(I){ve(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return x=Fu,Fu=!1,x}function Gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&wi(t,n,o)}s=s.next}while(s!==r)}}function Qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Si(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sf(e){var t=e.alternate;t!==null&&(e.alternate=null,Sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[rs],delete t[ii],delete t[op],delete t[lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kf(e){return e.tag===5||e.tag===3||e.tag===4}function Bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ki(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ho));else if(r!==4&&(e=e.child,e!==null))for(ki(e,t,n),e=e.sibling;e!==null;)ki(e,t,n),e=e.sibling}function Ii(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ii(e,t,n),e=e.sibling;e!==null;)Ii(e,t,n),e=e.sibling}var _e=null,kt=!1;function en(e,t,n){for(n=n.child;n!==null;)If(e,t,n),n=n.sibling}function If(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount($o,n)}catch{}switch(n.tag){case 5:Oe||nr(n,t);case 6:var r=_e,s=kt;_e=null,en(e,t,n),_e=r,kt=s,_e!==null&&(kt?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(kt?(e=_e,n=n.stateNode,e.nodeType===8?vl(e.parentNode,n):e.nodeType===1&&vl(e,n),Jr(e)):vl(_e,n.stateNode));break;case 4:r=_e,s=kt,_e=n.stateNode.containerInfo,kt=!0,en(e,t,n),_e=r,kt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&wi(n,t,l),s=s.next}while(s!==r)}en(e,t,n);break;case 1:if(!Oe&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ve(n,t,i)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,en(e,t,n),Oe=r):en(e,t,n);break;default:en(e,t,n)}}function Vu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kp),t.forEach(function(r){var s=_p.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:_e=i.stateNode,kt=!1;break e;case 3:_e=i.stateNode.containerInfo,kt=!0;break e;case 4:_e=i.stateNode.containerInfo,kt=!0;break e}i=i.return}if(_e===null)throw Error(j(160));If(o,l,s),_e=null,kt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ef(t,e),t=t.sibling}function Ef(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Pt(e),r&4){try{Gr(3,e,e.return),Qo(3,e)}catch(g){ve(e,e.return,g)}try{Gr(5,e,e.return)}catch(g){ve(e,e.return,g)}}break;case 1:wt(t,e),Pt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(wt(t,e),Pt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var s=e.stateNode;try{Yr(s,"")}catch(g){ve(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,i=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Qc(s,o),Wl(i,l);var u=Wl(i,o);for(l=0;l<a.length;l+=2){var f=a[l],d=a[l+1];f==="style"?Kc(s,d):f==="dangerouslySetInnerHTML"?Yc(s,d):f==="children"?Yr(s,d):Ui(s,f,d,u)}switch(i){case"input":Bl(s,o);break;case"textarea":Hc(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?sr(s,!!o.multiple,k,!1):p!==!!o.multiple&&(o.defaultValue!=null?sr(s,!!o.multiple,o.defaultValue,!0):sr(s,!!o.multiple,o.multiple?[]:"",!1))}s[rs]=o}catch(g){ve(e,e.return,g)}}break;case 6:if(wt(t,e),Pt(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){ve(e,e.return,g)}}break;case 3:if(wt(t,e),Pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(g){ve(e,e.return,g)}break;case 4:wt(t,e),Pt(e);break;case 13:wt(t,e),Pt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(xa=ke())),r&4&&Vu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||f,wt(t,e),Oe=u):wt(t,e),Pt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for($=e,f=e.child;f!==null;){for(d=$=f;$!==null;){switch(p=$,k=p.child,p.tag){case 0:case 11:case 14:case 15:Gr(4,p,p.return);break;case 1:nr(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ve(r,n,g)}}break;case 5:nr(p,p.return);break;case 22:if(p.memoizedState!==null){Qu(d);continue}}k!==null?(k.return=p,$=k):Qu(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=qc("display",l))}catch(g){ve(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){ve(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wt(t,e),Pt(e),r&4&&Vu(e);break;case 21:break;default:wt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kf(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yr(s,""),r.flags&=-33);var o=Bu(e);Ii(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,i=Bu(e);ki(e,i,l);break;default:throw Error(j(161))}}catch(a){ve(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ep(e,t,n){$=e,Nf(e)}function Nf(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||zs;if(!l){var i=s.alternate,a=i!==null&&i.memoizedState!==null||Oe;i=zs;var u=Oe;if(zs=l,(Oe=a)&&!u)for($=s;$!==null;)l=$,a=l.child,l.tag===22&&l.memoizedState!==null?Hu(s):a!==null?(a.return=l,$=a):Hu(s);for(;o!==null;)$=o,Nf(o),o=o.sibling;$=s,zs=i,Oe=u}Gu(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):Gu(e)}}function Gu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Qo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ju(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ju(t,l,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Jr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Oe||t.flags&512&&Si(t)}catch(p){ve(t,t.return,p)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Qu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Hu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qo(4,t)}catch(a){ve(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){ve(t,s,a)}}var o=t.return;try{Si(t)}catch(a){ve(t,o,a)}break;case 5:var l=t.return;try{Si(t)}catch(a){ve(t,l,a)}}}catch(a){ve(t,t.return,a)}if(t===e){$=null;break}var i=t.sibling;if(i!==null){i.return=t.return,$=i;break}$=t.return}}var Np=Math.ceil,Eo=Ht.ReactCurrentDispatcher,ya=Ht.ReactCurrentOwner,pt=Ht.ReactCurrentBatchConfig,te=0,Ae=null,Ne=null,be=0,nt=0,rr=kn(0),je=0,us=null,Mn=0,Ho=0,va=0,Qr=null,qe=null,xa=0,yr=1/0,Mt=null,No=!1,Ei=null,mn=null,$s=!1,ln=null,Co=0,Hr=0,Ni=null,Js=-1,Zs=0;function Be(){return te&6?ke():Js!==-1?Js:Js=ke()}function pn(e){return e.mode&1?te&2&&be!==0?be&-be:ap.transition!==null?(Zs===0&&(Zs=ad()),Zs):(e=oe,e!==0||(e=window.event,e=e===void 0?16:pd(e.type)),e):1}function Nt(e,t,n,r){if(50<Hr)throw Hr=0,Ni=null,Error(j(185));ps(e,n,r),(!(te&2)||e!==Ae)&&(e===Ae&&(!(te&2)&&(Ho|=n),je===4&&sn(e,be)),Ze(e,r),n===1&&te===0&&!(t.mode&1)&&(yr=ke()+500,Bo&&In()))}function Ze(e,t){var n=e.callbackNode;am(e,t);var r=ao(e,e===Ae?be:0);if(r===0)n!==null&&tu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tu(n),t===1)e.tag===0?ip(Wu.bind(null,e)):Ld(Wu.bind(null,e)),rp(function(){!(te&6)&&In()}),n=null;else{switch(ud(r)){case 1:n=Qi;break;case 4:n=ld;break;case 16:n=io;break;case 536870912:n=id;break;default:n=io}n=bf(n,Cf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cf(e,t){if(Js=-1,Zs=0,te&6)throw Error(j(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var r=ao(e,e===Ae?be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Po(e,r);else{t=r;var s=te;te|=2;var o=jf();(Ae!==e||be!==t)&&(Mt=null,yr=ke()+500,Rn(e,t));do try{jp();break}catch(i){Pf(e,i)}while(!0);sa(),Eo.current=o,te=s,Ne!==null?t=0:(Ae=null,be=0,t=je)}if(t!==0){if(t===2&&(s=Jl(e),s!==0&&(r=s,t=Ci(e,s))),t===1)throw n=us,Rn(e,0),sn(e,r),Ze(e,ke()),n;if(t===6)sn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Cp(s)&&(t=Po(e,r),t===2&&(o=Jl(e),o!==0&&(r=o,t=Ci(e,o))),t===1))throw n=us,Rn(e,0),sn(e,r),Ze(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:Cn(e,qe,Mt);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=xa+500-ke(),10<t)){if(ao(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=li(Cn.bind(null,e,qe,Mt),t);break}Cn(e,qe,Mt);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Et(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Np(r/1960))-r,10<r){e.timeoutHandle=li(Cn.bind(null,e,qe,Mt),r);break}Cn(e,qe,Mt);break;case 5:Cn(e,qe,Mt);break;default:throw Error(j(329))}}}return Ze(e,ke()),e.callbackNode===n?Cf.bind(null,e):null}function Ci(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(Rn(e,t).flags|=256),e=Po(e,t),e!==2&&(t=qe,qe=n,t!==null&&Pi(t)),e}function Pi(e){qe===null?qe=e:qe.push.apply(qe,e)}function Cp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ct(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~va,t&=~Ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function Wu(e){if(te&6)throw Error(j(327));ur();var t=ao(e,0);if(!(t&1))return Ze(e,ke()),null;var n=Po(e,t);if(e.tag!==0&&n===2){var r=Jl(e);r!==0&&(t=r,n=Ci(e,r))}if(n===1)throw n=us,Rn(e,0),sn(e,t),Ze(e,ke()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,qe,Mt),Ze(e,ke()),null}function wa(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(yr=ke()+500,Bo&&In())}}function zn(e){ln!==null&&ln.tag===0&&!(te&6)&&ur();var t=te;te|=1;var n=pt.transition,r=oe;try{if(pt.transition=null,oe=1,e)return e()}finally{oe=r,pt.transition=n,te=t,!(te&6)&&In()}}function Sa(){nt=rr.current,fe(rr)}function Rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,np(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(ta(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mo();break;case 3:pr(),fe(Xe),fe(De),ca();break;case 5:ua(r);break;case 4:pr();break;case 13:fe(pe);break;case 19:fe(pe);break;case 10:oa(r.type._context);break;case 22:case 23:Sa()}n=n.return}if(Ae=e,Ne=e=gn(e.current,null),be=nt=t,je=0,us=null,va=Ho=Mn=0,qe=Qr=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}jn=null}return e}function Pf(e,t){do{var n=Ne;try{if(sa(),qs.current=Io,ko){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ko=!1}if(Ln=0,Re=Pe=ge=null,Vr=!1,ls=0,ya.current=null,n===null||n.return===null){je=1,us=t,Ne=null;break}e:{var o=e,l=n.return,i=n,a=t;if(t=be,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=i,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var k=Lu(l);if(k!==null){k.flags&=-257,Mu(k,l,i,o,t),k.mode&1&&bu(o,u,t),t=k,a=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(a),t.updateQueue=g}else x.add(a);break e}else{if(!(t&1)){bu(o,u,t),ka();break e}a=Error(j(426))}}else if(me&&i.mode&1){var w=Lu(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Mu(w,l,i,o,t),na(gr(a,i));break e}}o=a=gr(a,i),je!==4&&(je=2),Qr===null?Qr=[o]:Qr.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=cf(o,a,t);Pu(o,m);break e;case 1:i=a;var h=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=df(o,i,t);Pu(o,I);break e}}o=o.return}while(o!==null)}Rf(n)}catch(S){t=S,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function jf(){var e=Eo.current;return Eo.current=Io,e===null?Io:e}function ka(){(je===0||je===3||je===2)&&(je=4),Ae===null||!(Mn&268435455)&&!(Ho&268435455)||sn(Ae,be)}function Po(e,t){var n=te;te|=2;var r=jf();(Ae!==e||be!==t)&&(Mt=null,Rn(e,t));do try{Pp();break}catch(s){Pf(e,s)}while(!0);if(sa(),te=n,Eo.current=r,Ne!==null)throw Error(j(261));return Ae=null,be=0,je}function Pp(){for(;Ne!==null;)Tf(Ne)}function jp(){for(;Ne!==null&&!Zh();)Tf(Ne)}function Tf(e){var t=_f(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Rf(e):Ne=t,ya.current=null}function Rf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sp(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Ne=null;return}}else if(n=wp(n,t,nt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);je===0&&(je=5)}function Cn(e,t,n){var r=oe,s=pt.transition;try{pt.transition=null,oe=1,Tp(e,t,n,r)}finally{pt.transition=s,oe=r}return null}function Tp(e,t,n,r){do ur();while(ln!==null);if(te&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(um(e,o),e===Ae&&(Ne=Ae=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$s||($s=!0,bf(io,function(){return ur(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pt.transition,pt.transition=null;var l=oe;oe=1;var i=te;te|=4,ya.current=null,Ip(e,n),Ef(n,e),qm(si),uo=!!ri,si=ri=null,e.current=n,Ep(n),em(),te=i,oe=l,pt.transition=o}else e.current=n;if($s&&($s=!1,ln=e,Co=s),o=e.pendingLanes,o===0&&(mn=null),rm(n.stateNode),Ze(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(No)throw No=!1,e=Ei,Ei=null,e;return Co&1&&e.tag!==0&&ur(),o=e.pendingLanes,o&1?e===Ni?Hr++:(Hr=0,Ni=e):Hr=0,In(),null}function ur(){if(ln!==null){var e=ud(Co),t=pt.transition,n=oe;try{if(pt.transition=null,oe=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,Co=0,te&6)throw Error(j(331));var s=te;for(te|=4,$=e.current;$!==null;){var o=$,l=o.child;if($.flags&16){var i=o.deletions;if(i!==null){for(var a=0;a<i.length;a++){var u=i[a];for($=u;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:Gr(8,f,o)}var d=f.child;if(d!==null)d.return=f,$=d;else for(;$!==null;){f=$;var p=f.sibling,k=f.return;if(Sf(f),f===u){$=null;break}if(p!==null){p.return=k,$=p;break}$=k}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}$=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,$=l;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gr(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,$=m;break e}$=o.return}}var h=e.current;for($=h;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=h;$!==null;){if(i=$,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Qo(9,i)}}catch(S){ve(i,i.return,S)}if(i===l){$=null;break e}var I=i.sibling;if(I!==null){I.return=i.return,$=I;break e}$=i.return}}if(te=s,In(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot($o,e)}catch{}r=!0}return r}finally{oe=n,pt.transition=t}}return!1}function Yu(e,t,n){t=gr(n,t),t=cf(e,t,1),e=hn(e,t,1),t=Be(),e!==null&&(ps(e,1,t),Ze(e,t))}function ve(e,t,n){if(e.tag===3)Yu(e,e,n);else for(;t!==null;){if(t.tag===3){Yu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=gr(n,e),e=df(t,e,1),t=hn(t,e,1),e=Be(),t!==null&&(ps(t,1,e),Ze(t,e));break}}t=t.return}}function Rp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(be&n)===n&&(je===4||je===3&&(be&130023424)===be&&500>ke()-xa?Rn(e,0):va|=n),Ze(e,t)}function Af(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var n=Be();e=Gt(e,t),e!==null&&(ps(e,t,n),Ze(e,n))}function Ap(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Af(e,n)}function _p(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),Af(e,n)}var _f;_f=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,xp(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,me&&t.flags&1048576&&Md(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var s=fr(t,De.current);ar(t,n),s=fa(null,t,r,e,s,n);var o=ha();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(o=!0,po(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ia(t),s.updater=Go,t.stateNode=s,s._reactInternals=t,hi(t,r,e,n),t=gi(null,t,r,!0,o,n)):(t.tag=0,me&&o&&ea(t),Fe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Lp(r),e=St(r,e),s){case 0:t=pi(null,t,r,e,n);break e;case 1:t=Ou(null,t,r,e,n);break e;case 11:t=zu(null,t,r,e,n);break e;case 14:t=$u(null,t,r,St(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),pi(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Ou(e,t,r,s,n);case 3:e:{if(pf(t),e===null)throw Error(j(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Fd(e,t),wo(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=gr(Error(j(423)),t),t=Du(e,t,r,n,s);break e}else if(r!==s){s=gr(Error(j(424)),t),t=Du(e,t,r,n,s);break e}else for(st=fn(t.stateNode.containerInfo.firstChild),lt=t,me=!0,It=null,n=Dd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),r===s){t=Qt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return Bd(t),e===null&&ci(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,oi(r,s)?l=null:o!==null&&oi(r,o)&&(t.flags|=32),mf(e,t),Fe(e,t,l,n),t.child;case 6:return e===null&&ci(t),null;case 13:return gf(e,t,n);case 4:return aa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),zu(e,t,r,s,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,ce(vo,r._currentValue),r._currentValue=l,o!==null)if(Ct(o.value,l)){if(o.children===s.children&&!Xe.current){t=Qt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){l=o.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Ft(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),di(o.return,n,t),i.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(j(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),di(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Fe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ar(t,n),s=gt(s),r=r(s),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),$u(e,t,r,s,n);case 15:return ff(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Xs(e,t),t.tag=1,Je(r)?(e=!0,po(t)):e=!1,ar(t,n),uf(t,r,s),hi(t,r,s,n),gi(null,t,r,!0,e,n);case 19:return yf(e,t,n);case 22:return hf(e,t,n)}throw Error(j(156,t.tag))};function bf(e,t){return od(e,t)}function bp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new bp(e,t,n,r)}function Ia(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lp(e){if(typeof e=="function")return Ia(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bi)return 11;if(e===Vi)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")Ia(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Wn:return An(n.children,s,o,t);case Fi:l=8,s|=8;break;case $l:return e=mt(12,n,t,s|2),e.elementType=$l,e.lanes=o,e;case Ol:return e=mt(13,n,t,s),e.elementType=Ol,e.lanes=o,e;case Dl:return e=mt(19,n,t,s),e.elementType=Dl,e.lanes=o,e;case Bc:return Wo(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uc:l=10;break e;case Fc:l=9;break e;case Bi:l=11;break e;case Vi:l=14;break e;case tn:l=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=mt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function An(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Wo(e,t,n,r){return e=mt(22,e,r,t),e.elementType=Bc,e.lanes=n,e.stateNode={isHidden:!1},e}function Cl(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Pl(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ea(e,t,n,r,s,o,l,i,a){return e=new Mp(e,t,n,i,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(o),e}function zp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lf(e){if(!e)return wn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Je(n))return bd(e,n,t)}return t}function Mf(e,t,n,r,s,o,l,i,a){return e=Ea(n,r,!0,e,s,o,l,i,a),e.context=Lf(null),n=e.current,r=Be(),s=pn(n),o=Ft(r,s),o.callback=t??null,hn(n,o,s),e.current.lanes=s,ps(e,s,r),Ze(e,r),e}function Yo(e,t,n,r){var s=t.current,o=Be(),l=pn(s);return n=Lf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(s,t,l),e!==null&&(Nt(e,s,l,o),Ys(e,s,l)),l}function jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Na(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function $p(){return null}var zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ca(e){this._internalRoot=e}qo.prototype.render=Ca.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Yo(e,t,null,null)};qo.prototype.unmount=Ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){Yo(null,e,null,null)}),t[Vt]=null}};function qo(e){this._internalRoot=e}qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=fd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&md(e)}};function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function Op(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=jo(l);o.call(u)}}var l=Mf(t,r,e,0,null,!1,!1,"",Ku);return e._reactRootContainer=l,e[Vt]=l.current,ts(e.nodeType===8?e.parentNode:e),zn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=jo(a);i.call(u)}}var a=Ea(e,0,!1,null,null,!1,!1,"",Ku);return e._reactRootContainer=a,e[Vt]=a.current,ts(e.nodeType===8?e.parentNode:e),zn(function(){Yo(t,a,n,r)}),a}function Xo(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var i=s;s=function(){var a=jo(l);i.call(a)}}Yo(t,l,e,s)}else l=Op(n,t,e,s,r);return jo(l)}cd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(Hi(t,n|1),Ze(t,ke()),!(te&6)&&(yr=ke()+500,In()))}break;case 13:zn(function(){var r=Gt(e,1);if(r!==null){var s=Be();Nt(r,e,1,s)}}),Na(e,1)}};Wi=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Be();Nt(t,e,134217728,n)}Na(e,134217728)}};dd=function(e){if(e.tag===13){var t=pn(e),n=Gt(e,t);if(n!==null){var r=Be();Nt(n,e,t,r)}Na(e,t)}};fd=function(){return oe};hd=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};ql=function(e,t,n){switch(t){case"input":if(Bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fo(r);if(!s)throw Error(j(90));Gc(r),Bl(r,s)}}}break;case"textarea":Hc(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};Zc=wa;ed=zn;var Dp={usingClientEntryPoint:!1,Events:[ys,Xn,Fo,Xc,Jc,wa]},br={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Up={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rd(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||$p,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{$o=Os.inject(Up),At=Os}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dp;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(t))throw Error(j(200));return zp(e,t,null,n)};at.createRoot=function(e,t){if(!Pa(e))throw Error(j(299));var n=!1,r="",s=zf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ea(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,ts(e.nodeType===8?e.parentNode:e),new Ca(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=rd(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return zn(e)};at.hydrate=function(e,t,n){if(!Ko(t))throw Error(j(200));return Xo(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!Pa(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=zf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Mf(t,null,e,1,n??null,s,!1,o,l),e[Vt]=t.current,ts(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new qo(t)};at.render=function(e,t,n){if(!Ko(t))throw Error(j(200));return Xo(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Ko(e))throw Error(j(40));return e._reactRootContainer?(zn(function(){Xo(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};at.unstable_batchedUpdates=wa;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ko(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Xo(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function $f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($f)}catch(e){console.error(e)}}$f(),zc.exports=at;var ja=zc.exports,Xu=ja;Ml.createRoot=Xu.createRoot,Ml.hydrateRoot=Xu.hydrateRoot;const Fp="modulepreload",Bp=function(e){return"/"+e},Ju={},vt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Bp(a),a in Ju)return;Ju[a]=!0;const u=a.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Fp,u||(d.as="script"),d.crossOrigin="",d.href=a,i&&d.setAttribute("nonce",i),document.head.appendChild(d),u)return new Promise((p,k)=>{d.addEventListener("load",p),d.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return s.then(l=>{for(const i of l||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Zu="popstate";function Vp(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:l,hash:i}=r.location;return ji("",{pathname:o,search:l,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:To(s)}return Qp(t,n,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ta(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gp(){return Math.random().toString(36).substr(2,8)}function ec(e,t){return{usr:e.state,key:e.key,idx:t}}function ji(e,t,n,r){return n===void 0&&(n=null),cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kr(t):t,{state:n,key:t&&t.key||r||Gp()})}function To(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Qp(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,i=an.Pop,a=null,u=f();u==null&&(u=0,l.replaceState(cs({},l.state,{idx:u}),""));function f(){return(l.state||{idx:null}).idx}function d(){i=an.Pop;let w=f(),m=w==null?null:w-u;u=w,a&&a({action:i,location:g.location,delta:m})}function p(w,m){i=an.Push;let h=ji(g.location,w,m);u=f()+1;let y=ec(h,u),I=g.createHref(h);try{l.pushState(y,"",I)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(I)}o&&a&&a({action:i,location:g.location,delta:1})}function k(w,m){i=an.Replace;let h=ji(g.location,w,m);u=f();let y=ec(h,u),I=g.createHref(h);l.replaceState(y,"",I),o&&a&&a({action:i,location:g.location,delta:0})}function x(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof w=="string"?w:To(w);return h=h.replace(/ $/,"%20"),Ie(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let g={get action(){return i},get location(){return e(s,l)},listen(w){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Zu,d),a=w,()=>{s.removeEventListener(Zu,d),a=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let m=x(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:k,go(w){return l.go(w)}};return g}var tc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tc||(tc={}));function Hp(e,t,n){return n===void 0&&(n="/"),Wp(e,t,n)}function Wp(e,t,n,r){let s=typeof t=="string"?kr(t):t,o=Ra(s.pathname||"/",n);if(o==null)return null;let l=Of(e);Yp(l);let i=null;for(let a=0;i==null&&a<l.length;++a){let u=lg(o);i=rg(l[a],u)}return i}function Of(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,i)=>{let a={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};a.relativePath.startsWith("/")&&(Ie(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=yn([r,a.relativePath]),f=n.concat(a);o.children&&o.children.length>0&&(Ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Of(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:tg(u,o.index),routesMeta:f})};return e.forEach((o,l)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))s(o,l);else for(let a of Df(o.path))s(o,l,a)}),t}function Df(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=Df(r.join("/")),i=[];return i.push(...l.map(a=>a===""?o:[o,a].join("/"))),s&&i.push(...l),i.map(a=>e.startsWith("/")&&a===""?"/":a)}function Yp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ng(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qp=/^:[\w-]+$/,Kp=3,Xp=2,Jp=1,Zp=10,eg=-2,nc=e=>e==="*";function tg(e,t){let n=e.split("/"),r=n.length;return n.some(nc)&&(r+=eg),t&&(r+=Xp),n.filter(s=>!nc(s)).reduce((s,o)=>s+(qp.test(o)?Kp:o===""?Jp:Zp),r)}function ng(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function rg(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let i=0;i<r.length;++i){let a=r[i],u=i===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=sg({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f),p=a.route;if(!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:yn([o,d.pathname]),pathnameBase:dg(yn([o,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(o=yn([o,d.pathnameBase]))}return l}function sg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=og(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:p,isOptional:k}=f;if(p==="*"){let g=i[d]||"";l=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=i[d];return k&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:e}}function og(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ta(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,a)=>(r.push({paramName:i,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ta(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ag=e=>ig.test(e);function ug(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?kr(e):e,o;if(n)if(ag(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ta(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?o=rc(n.substring(1),"/"):o=rc(n,t)}else o=t;return{pathname:o,search:fg(r),hash:hg(s)}}function rc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Aa(e,t){let n=cg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _a(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=kr(e):(s=cs({},e),Ie(!s.pathname||!s.pathname.includes("?"),jl("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),jl("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),jl("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,i;if(l==null)i=n;else{let d=t.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}i=d>=0?t[d]:"/"}let a=ug(s,i),u=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||f)&&(a.pathname+="/"),a}const yn=e=>e.join("/").replace(/\/\/+/g,"/"),dg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Uf=["post","put","patch","delete"];new Set(Uf);const pg=["get",...Uf];new Set(pg);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ds.apply(this,arguments)}const ba=v.createContext(null),gg=v.createContext(null),En=v.createContext(null),Jo=v.createContext(null),Wt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Ff=v.createContext(null);function yg(e,t){let{relative:n}=t===void 0?{}:t;Ir()||Ie(!1);let{basename:r,navigator:s}=v.useContext(En),{hash:o,pathname:l,search:i}=Vf(e,{relative:n}),a=l;return r!=="/"&&(a=l==="/"?r:yn([r,l])),s.createHref({pathname:a,search:i,hash:o})}function Ir(){return v.useContext(Jo)!=null}function Yt(){return Ir()||Ie(!1),v.useContext(Jo).location}function Bf(e){v.useContext(En).static||v.useLayoutEffect(e)}function xs(){let{isDataRoute:e}=v.useContext(Wt);return e?Rg():vg()}function vg(){Ir()||Ie(!1);let e=v.useContext(ba),{basename:t,future:n,navigator:r}=v.useContext(En),{matches:s}=v.useContext(Wt),{pathname:o}=Yt(),l=JSON.stringify(Aa(s,n.v7_relativeSplatPath)),i=v.useRef(!1);return Bf(()=>{i.current=!0}),v.useCallback(function(u,f){if(f===void 0&&(f={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let d=_a(u,JSON.parse(l),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,l,o,e])}function Cv(){let{matches:e}=v.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function Vf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(En),{matches:s}=v.useContext(Wt),{pathname:o}=Yt(),l=JSON.stringify(Aa(s,r.v7_relativeSplatPath));return v.useMemo(()=>_a(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function xg(e,t){return wg(e,t)}function wg(e,t,n,r){Ir()||Ie(!1);let{navigator:s}=v.useContext(En),{matches:o}=v.useContext(Wt),l=o[o.length-1],i=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let u=Yt(),f;if(t){var d;let w=typeof t=="string"?kr(t):t;a==="/"||(d=w.pathname)!=null&&d.startsWith(a)||Ie(!1),f=w}else f=u;let p=f.pathname||"/",k=p;if(a!=="/"){let w=a.replace(/^\//,"").split("/");k="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=Hp(e,{pathname:k}),g=Ng(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},i,w.params),pathname:yn([a,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:yn([a,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&g?v.createElement(Jo.Provider,{value:{location:ds({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:an.Pop}},g):g}function Sg(){let e=Tg(),t=mg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const kg=v.createElement(Sg,null);class Ig extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Wt.Provider,{value:this.props.routeContext},v.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Eg(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(ba);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Wt.Provider,{value:t},r)}function Ng(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let f=l.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);f>=0||Ie(!1),l=l.slice(0,Math.min(l.length,f+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let d=l[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:k}=n,x=d.route.loader&&p[d.route.id]===void 0&&(!k||k[d.route.id]===void 0);if(d.route.lazy||x){a=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((f,d,p)=>{let k,x=!1,g=null,w=null;n&&(k=i&&d.route.id?i[d.route.id]:void 0,g=d.route.errorElement||kg,a&&(u<0&&p===0?(Ag("route-fallback"),x=!0,w=null):u===p&&(x=!0,w=d.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,p+1)),h=()=>{let y;return k?y=g:x?y=w:d.route.Component?y=v.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=f,v.createElement(Eg,{match:d,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?v.createElement(Ig,{location:n.location,revalidation:n.revalidation,component:g,error:k,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Gf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gf||{}),Qf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qf||{});function Cg(e){let t=v.useContext(ba);return t||Ie(!1),t}function Pg(e){let t=v.useContext(gg);return t||Ie(!1),t}function jg(e){let t=v.useContext(Wt);return t||Ie(!1),t}function Hf(e){let t=jg(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function Tg(){var e;let t=v.useContext(Ff),n=Pg(),r=Hf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Rg(){let{router:e}=Cg(Gf.UseNavigateStable),t=Hf(Qf.UseNavigateStable),n=v.useRef(!1);return Bf(()=>{n.current=!0}),v.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ds({fromRouteId:t},o)))},[e,t])}const sc={};function Ag(e,t,n){sc[e]||(sc[e]=!0)}function _g(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bg(e){let{to:t,replace:n,state:r,relative:s}=e;Ir()||Ie(!1);let{future:o,static:l}=v.useContext(En),{matches:i}=v.useContext(Wt),{pathname:a}=Yt(),u=xs(),f=_a(t,Aa(i,o.v7_relativeSplatPath),a,s==="path"),d=JSON.stringify(f);return v.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function We(e){Ie(!1)}function Lg(e){let{basename:t="/",children:n=null,location:r,navigationType:s=an.Pop,navigator:o,static:l=!1,future:i}=e;Ir()&&Ie(!1);let a=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:a,navigator:o,static:l,future:ds({v7_relativeSplatPath:!1},i)}),[a,i,o,l]);typeof r=="string"&&(r=kr(r));let{pathname:f="/",search:d="",hash:p="",state:k=null,key:x="default"}=r,g=v.useMemo(()=>{let w=Ra(f,a);return w==null?null:{location:{pathname:w,search:d,hash:p,state:k,key:x},navigationType:s}},[a,f,d,p,k,x,s]);return g==null?null:v.createElement(En.Provider,{value:u},v.createElement(Jo.Provider,{children:n,value:g}))}function Mg(e){let{children:t,location:n}=e;return xg(Ti(t),n)}new Promise(()=>{});function Ti(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let o=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Ti(r.props.children,o));return}r.type!==We&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ti(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(this,arguments)}function zg(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $g(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Og(e,t){return e.button===0&&(!t||t==="_self")&&!$g(e)}function Ai(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Dg(e,t){let n=Ai(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const Ug=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fg="6";try{window.__reactRouterVersion=Fg}catch{}const Bg="startTransition",oc=Rh[Bg];function Vg(e){let{basename:t,children:n,future:r,window:s}=e,o=v.useRef();o.current==null&&(o.current=Vp({window:s,v5Compat:!0}));let l=o.current,[i,a]=v.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},f=v.useCallback(d=>{u&&oc?oc(()=>a(d)):a(d)},[a,u]);return v.useLayoutEffect(()=>l.listen(f),[l,f]),v.useEffect(()=>_g(r),[r]),v.createElement(Lg,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:l,future:r})}const Gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:i,target:a,to:u,preventScrollReset:f,viewTransition:d}=t,p=zg(t,Ug),{basename:k}=v.useContext(En),x,g=!1;if(typeof u=="string"&&Qg.test(u)&&(x=u,Gg))try{let y=new URL(window.location.href),I=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=Ra(I.pathname,k);I.origin===y.origin&&S!=null?u=S+I.search+I.hash:g=!0}catch{}let w=yg(u,{relative:s}),m=Hg(u,{replace:l,state:i,target:a,preventScrollReset:f,relative:s,viewTransition:d});function h(y){r&&r(y),y.defaultPrevented||m(y)}return v.createElement("a",Ri({},p,{href:x||w,onClick:g||o?r:h,ref:n,target:a}))});var ic;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ic||(ic={}));var ac;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ac||(ac={}));function Hg(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:i}=t===void 0?{}:t,a=xs(),u=Yt(),f=Vf(e,{relative:l});return v.useCallback(d=>{if(Og(d,n)){d.preventDefault();let p=r!==void 0?r:To(u)===To(f);a(e,{replace:p,state:s,preventScrollReset:o,relative:l,viewTransition:i})}},[u,a,f,r,s,n,e,o,l,i])}function Pv(e){let t=v.useRef(Ai(e)),n=v.useRef(!1),r=Yt(),s=v.useMemo(()=>Dg(r.search,n.current?null:t.current),[r.search]),o=xs(),l=v.useCallback((i,a)=>{const u=Ai(typeof i=="function"?i(s):i);n.current=!0,o("?"+u,a)},[o,s]);return[s,l]}const Wg={},uc=e=>{let t;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const k=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,k))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Wg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,a);return a},Yg=e=>e?uc(e):uc;var Wf={exports:{}},Yf={},qf={exports:{}},Kf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=v;function qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kg=typeof Object.is=="function"?Object.is:qg,Xg=vr.useState,Jg=vr.useEffect,Zg=vr.useLayoutEffect,e0=vr.useDebugValue;function t0(e,t){var n=t(),r=Xg({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return Zg(function(){s.value=n,s.getSnapshot=t,Tl(s)&&o({inst:s})},[e,n,t]),Jg(function(){return Tl(s)&&o({inst:s}),e(function(){Tl(s)&&o({inst:s})})},[e]),e0(n),n}function Tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kg(e,n)}catch{return!0}}function n0(e,t){return t()}var r0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n0:t0;Kf.useSyncExternalStore=vr.useSyncExternalStore!==void 0?vr.useSyncExternalStore:r0;qf.exports=Kf;var s0=qf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=v,o0=s0;function l0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i0=typeof Object.is=="function"?Object.is:l0,a0=o0.useSyncExternalStore,u0=Zo.useRef,c0=Zo.useEffect,d0=Zo.useMemo,f0=Zo.useDebugValue;Yf.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=u0(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=d0(function(){function a(k){if(!u){if(u=!0,f=k,k=r(k),s!==void 0&&l.hasValue){var x=l.value;if(s(x,k))return d=x}return d=k}if(x=d,i0(f,k))return x;var g=r(k);return s!==void 0&&s(x,g)?(f=k,x):(f=k,d=g)}var u=!1,f,d,p=n===void 0?null:n;return[function(){return a(t())},p===null?void 0:function(){return a(p())}]},[t,n,r,s]);var i=a0(e,o[0],o[1]);return c0(function(){l.hasValue=!0,l.value=i},[i]),f0(i),i};Wf.exports=Yf;var h0=Wf.exports;const m0=Ec(h0),Xf={},{useDebugValue:p0}=$i,{useSyncExternalStoreWithSelector:g0}=m0;let cc=!1;const y0=e=>e;function v0(e,t=y0,n){(Xf?"production":void 0)!=="production"&&n&&!cc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cc=!0);const r=g0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return p0(r),r}const dc=e=>{(Xf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Yg(e):e,n=(r,s)=>v0(t,r,s);return Object.assign(n,t),n},Dn=e=>e?dc(e):dc,x0={};function w0(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const l=a=>a===null?null:JSON.parse(a,void 0),i=(o=n.getItem(s))!=null?o:null;return i instanceof Promise?i.then(l):l(i)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const fs=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return fs(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return fs(r)(n)}}}},S0=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},l=!1;const i=new Set,a=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...w)},r,s);const f=fs(o.serialize),d=()=>{const w=o.partialize({...r()});let m;const h=f({state:w,version:o.version}).then(y=>u.setItem(o.name,y)).catch(y=>{m=y});if(m)throw m;return h},p=s.setState;s.setState=(w,m)=>{p(w,m),d()};const k=e((...w)=>{n(...w),d()},r,s);let x;const g=()=>{var w;if(!u)return;l=!1,i.forEach(h=>h(r()));const m=((w=o.onRehydrateStorage)==null?void 0:w.call(o,r()))||void 0;return fs(u.getItem.bind(u))(o.name).then(h=>{if(h)return o.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==o.version){if(o.migrate)return o.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var y;return x=o.merge(h,(y=r())!=null?y:k),n(x,!0),d()}).then(()=>{m==null||m(x,void 0),l=!0,a.forEach(h=>h(x))}).catch(h=>{m==null||m(void 0,h)})};return s.persist={setOptions:w=>{o={...o,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:w=>(i.add(w),()=>{i.delete(w)}),onFinishHydration:w=>(a.add(w),()=>{a.delete(w)})},g(),x||k},k0=(e,t)=>(n,r,s)=>{let o={storage:w0(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...t},l=!1;const i=new Set,a=new Set;let u=o.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,s);const f=()=>{const g=o.partialize({...r()});return u.setItem(o.name,{state:g,version:o.version})},d=s.setState;s.setState=(g,w)=>{d(g,w),f()};const p=e((...g)=>{n(...g),f()},r,s);s.getInitialState=()=>p;let k;const x=()=>{var g,w;if(!u)return;l=!1,i.forEach(h=>{var y;return h((y=r())!=null?y:p)});const m=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(g=r())!=null?g:p))||void 0;return fs(u.getItem.bind(u))(o.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==o.version){if(o.migrate)return[!0,o.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var y;const[I,S]=h;if(k=o.merge(S,(y=r())!=null?y:p),n(k,!0),I)return f()}).then(()=>{m==null||m(k,void 0),k=r(),l=!0,a.forEach(h=>h(k))}).catch(h=>{m==null||m(void 0,h)})};return s.persist={setOptions:g=>{o={...o,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:g=>(i.add(g),()=>{i.delete(g)}),onFinishHydration:g=>(a.add(g),()=>{a.delete(g)})},o.skipHydration||x(),k||p},I0=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((x0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),S0(e,t)):k0(e,t),ws=I0,L={log:(...e)=>{},warn:(...e)=>{},error:(...e)=>{console.error(...e)},debug:(...e)=>{}},Ro={get(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}},set(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){L.error("Failed to save to localStorage:",n)}},remove(e){try{localStorage.removeItem(e)}catch(t){L.error("Failed to remove from localStorage:",t)}},clear(){try{localStorage.clear()}catch(e){L.error("Failed to clear localStorage:",e)}}};function E0(){if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("");return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}let Bn=null,Vn=null;function Rl(){return Bn?Promise.resolve(Bn):Vn||(Vn=new Promise((e,t)=>{const n=indexedDB.open("tunetuna-storage",1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("zustand")||r.createObjectStore("zustand")},n.onsuccess=()=>{Bn=n.result,Bn.onclose=()=>{Bn=null,Vn=null},e(Bn)},n.onerror=()=>{Vn=null,t(n.error)}}),Vn)}const N0={getItem:async e=>{try{const t=await Rl();return new Promise(n=>{const o=t.transaction(["zustand"],"readonly").objectStore("zustand").get(e);o.onsuccess=()=>{const l=o.result;n(l?JSON.parse(l):null)},o.onerror=()=>{n(null)}})}catch{return null}},setItem:async(e,t)=>{const n=await Rl();return new Promise((r,s)=>{const i=n.transaction(["zustand"],"readwrite").objectStore("zustand").put(JSON.stringify(t),e);i.onsuccess=()=>{r()},i.onerror=()=>{s(i.error)}})},removeItem:async e=>{try{const t=await Rl();return new Promise(n=>{const o=t.transaction(["zustand"],"readwrite").objectStore("zustand").delete(e);o.onsuccess=()=>{n()},o.onerror=()=>{n()}})}catch{}}},xe=Dn()(ws(e=>({artists:[],albums:[],songs:[],genres:[],genresLastUpdated:null,genresLastChecked:null,genreSongs:{},years:[],yearsLastUpdated:null,yearsLastChecked:null,lastSyncCompleted:null,recentlyAdded:[],recentlyPlayed:[],shufflePool:[],lastPoolUpdate:null,loading:{artists:!1,albums:!1,songs:!1,genres:!1,recentlyAdded:!1,recentlyPlayed:!1},sortPreferences:{artists:"RecentlyAdded",albums:"RecentlyAdded",songs:"RecentlyAdded",playlists:"RecentlyAdded"},setArtists:t=>e({artists:t}),setAlbums:t=>e({albums:t}),setGenres:t=>e({genres:t}),setGenreSongs:(t,n)=>e(r=>({genreSongs:{...r.genreSongs,[t]:n}})),clearGenreSongs:()=>e({genreSongs:{}}),clearGenreSongsForGenre:t=>e(n=>{const r={...n.genreSongs};return delete r[t],{genreSongs:r}}),setYears:t=>e({years:t}),setRecentlyAdded:t=>e({recentlyAdded:t}),setRecentlyPlayed:t=>e({recentlyPlayed:t}),addToRecentlyPlayed:t=>e(n=>{const r=n.recentlyPlayed.filter(o=>o.Id!==t.Id);return{recentlyPlayed:[t,...r].slice(0,10)}}),setLoading:(t,n)=>e(r=>({loading:{...r.loading,[t]:n}})),setSortPreference:(t,n)=>e(r=>({sortPreferences:{...r.sortPreferences,[t]:n}})),setSongs:t=>e({songs:t}),setLastSyncCompleted:t=>e({lastSyncCompleted:t}),refreshShufflePool:()=>e(t=>{let r=t.songs;const s=Object.values(t.genreSongs).flat().length;if(t.songs.length===0&&s>0&&(r=Object.values(t.genreSongs).flat()),r.length===0)return{shufflePool:[]};const o=new Set(t.recentlyPlayed.slice(0,10).map(u=>u.Id));r=r.filter(u=>!o.has(u.Id));let l=r;if(l.length<30){const u=t.recentlyPlayed.slice(0,30-l.length);l=[...l,...u.map(f=>t.songs.find(d=>d.Id===f.Id)).filter(Boolean)]}const i=[...l];for(let u=i.length-1;u>0;u--){const f=Math.floor(Math.random()*(u+1));[i[u],i[f]]=[i[f],i[u]]}return{shufflePool:i.slice(0,30),lastPoolUpdate:Date.now()}})}),{name:"music-storage",storage:N0,partialize:e=>({genres:e.genres,genresLastUpdated:e.genresLastUpdated,genresLastChecked:e.genresLastChecked,genreSongs:e.genreSongs,songs:e.songs,shufflePool:e.shufflePool,lastPoolUpdate:e.lastPoolUpdate,years:e.years,yearsLastUpdated:e.yearsLastUpdated,yearsLastChecked:e.yearsLastChecked,lastSyncCompleted:e.lastSyncCompleted,recentlyPlayed:e.recentlyPlayed})}));function jv(e){const t=Math.floor(e/1e7),n=Math.floor(t/60),r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}function to(e){return e&&e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2032\u2033]/g,"'")}function Tv(e){return e&&to(e).replace(/'/g,"")}function Dt(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}const fc=3e4,C0=15e3,hc=2,P0=1e3,mc=12*60*60*1e3,Te=200,pc=1e3,gc=5e4,j0=/^https?:\/\/100\.\d+\.\d+\.\d+/,T0="Tunetuna",R0="Web",A0="1.0.0",ot=Dn()(ws(e=>({serverUrl:"",setServerUrl:t=>e({serverUrl:t}),pageVisibility:{artists:!0,albums:!0,songs:!0,genres:!0,playlists:!1,stats:!0},setPageVisibility:t=>e(n=>({pageVisibility:{...n.pageVisibility,...t}})),accentColor:"blue",setAccentColor:t=>e({accentColor:t}),showQueueRecommendations:!0,setShowQueueRecommendations:t=>e({showQueueRecommendations:t}),recommendationsQuality:"good",setRecommendationsQuality:t=>e({recommendationsQuality:t}),statsTrackingEnabled:!0,setStatsTrackingEnabled:t=>e({statsTrackingEnabled:t})}),{name:"settings-storage"})),Ao=Dn(e=>({toasts:[],addToast:(t,n="success",r=3e3)=>{const s=`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,o={id:s,message:t,type:n,duration:r};e(l=>({toasts:[...l.toasts,o]})),r>0&&setTimeout(()=>{e(l=>({toasts:l.toasts.filter(i=>i.id!==s)}))},r)},removeToast:t=>{e(n=>({toasts:n.toasts.filter(r=>r.id!==t)}))}})),jt="/api/stats";let Gn=null,Qn=null;function Al(){return Gn?Promise.resolve(Gn):Qn||(Qn=new Promise((e,t)=>{const n=indexedDB.open("tunetuna-stats-storage",1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("zustand")||r.createObjectStore("zustand")},n.onsuccess=()=>{Gn=n.result,Gn.onclose=()=>{Gn=null,Qn=null},e(Gn)},n.onerror=()=>{Qn=null,t(n.error)}}),Qn)}const _0={getItem:async e=>{try{const t=await Al();return new Promise(n=>{const o=t.transaction(["zustand"],"readonly").objectStore("zustand").get(e);o.onsuccess=()=>{const l=o.result;n(l?JSON.parse(l):null)},o.onerror=()=>{n(null)}})}catch{return null}},setItem:async(e,t)=>{const n=await Al();return new Promise((r,s)=>{const i=n.transaction(["zustand"],"readwrite").objectStore("zustand").put(JSON.stringify(t),e);i.onsuccess=()=>{r()},i.onerror=()=>{s(i.error)}})},removeItem:async e=>{try{const t=await Al();return new Promise(n=>{const o=t.transaction(["zustand"],"readwrite").objectStore("zustand").delete(e);o.onsuccess=()=>{n()},o.onerror=()=>{n()}})}catch{}}};async function b0(e,t){const n=`${e}::${t}`,r=new TextEncoder,s=await crypto.subtle.digest("SHA-256",r.encode(n));return Array.from(new Uint8Array(s)).map(l=>l.toString(16).padStart(2,"0")).join("")}function L0(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function M0(e,t){var n,r;return{ts:Date.now(),songId:e.Id,songName:e.Name||"Unknown",artistIds:((n=e.ArtistItems)==null?void 0:n.map(s=>s.Id))||[],artistNames:((r=e.ArtistItems)==null?void 0:r.map(s=>s.Name||"Unknown"))||[e.AlbumArtist||"Unknown"],albumId:e.AlbumId||"",albumName:e.Album||"Unknown",genres:e.Genres||[],year:e.ProductionYear||null,durationMs:t,fullDurationMs:e.RunTimeTicks?e.RunTimeTicks/1e4:0}}let _l=!1;const rt=Dn()(ws((e,t)=>({pendingEvents:[],lastSyncedAt:null,cachedEvents:[],cacheRange:null,currentPlay:null,cachedStatsKey:null,cachedStatsToken:null,metadataVersion:0,oldestEventTs:null,startPlay:n=>{e({currentPlay:{track:n,startedAt:Date.now()}})},recordPlay:(n,r)=>{if(!ot.getState().statsTrackingEnabled)return;const{pendingEvents:s}=t(),o=n.RunTimeTicks?n.RunTimeTicks/1e4:0,l=o>0&&o<6e4;if(!(r>=6e4||l&&r>=o*.8))return;const a=M0(n,r),u=[...s,a];e({pendingEvents:u,currentPlay:null}),u.length>=5&&t().syncToServer()},syncToServer:async()=>{if(!_l){_l=!0;try{const{pendingEvents:n}=t();if(n.length===0)return;const{serverUrl:r,userId:s}=tt.getState();if(!r||!s)return;await t().updateStatsKey();const{cachedStatsKey:o,cachedStatsToken:l}=t();if(!o||!l)return;const i=[...n];try{(await fetch(`${jt}/${o}/events`,{method:"POST",headers:{"Content-Type":"application/json","X-Stats-Token":l},body:JSON.stringify(i)})).ok&&e(u=>({pendingEvents:u.pendingEvents.filter(f=>!i.some(d=>d.ts===f.ts&&d.songId===f.songId)),lastSyncedAt:Date.now(),cacheRange:null}))}catch{}}finally{_l=!1}}},updateStatsKey:async()=>{const{serverUrl:n,userId:r}=tt.getState();if(!n||!r){e({cachedStatsKey:null,cachedStatsToken:null});return}const{cachedStatsToken:s}=t(),o=s||L0(),l=await b0(n,r);e({cachedStatsKey:l,cachedStatsToken:o})},fetchEvents:async(n,r)=>{const{cacheRange:s,cachedEvents:o,pendingEvents:l}=t(),{serverUrl:i,userId:a}=tt.getState();if(!i||!a)return[];if(s&&s.from<=n&&s.to>=r){const d=o.filter(k=>k.ts>=n&&k.ts<=r),p=l.filter(k=>k.ts>=n&&k.ts<=r);return[...d,...p].sort((k,x)=>k.ts-x.ts)}await t().updateStatsKey();const{cachedStatsKey:u,cachedStatsToken:f}=t();if(!u||!f)return[];try{const d=await fetch(`${jt}/${u}/events?from=${n}&to=${r}`,{headers:{"X-Stats-Token":f}});if(!d.ok)return[];const k=(await d.json()).events||[];e({cachedEvents:k,cacheRange:{from:n,to:r}});const x=l.filter(g=>g.ts>=n&&g.ts<=r);return[...k,...x].sort((g,w)=>g.ts-w.ts)}catch{return[]}},clearCache:()=>{e({cachedEvents:[],cacheRange:null})},updateEventMetadata:(n,r,s)=>{const{cachedEvents:o,pendingEvents:l}=t(),i=a=>{let u=!1;return(n==="song"&&a.songId===r||n==="album"&&a.albumId===r||n==="artist"&&a.artistIds.includes(r))&&(u=!0),u?{...a,...s.songName!==void 0&&{songName:s.songName},...s.artistNames!==void 0&&{artistNames:s.artistNames},...s.albumName!==void 0&&{albumName:s.albumName},...s.genres!==void 0&&{genres:s.genres},...s.year!==void 0&&{year:s.year}}:a};e(a=>({cachedEvents:o.map(i),pendingEvents:l.map(i),metadataVersion:a.metadataVersion+1})),(async()=>{const{serverUrl:a,userId:u}=tt.getState();if(!a||!u)return;await t().updateStatsKey();const{cachedStatsKey:f,cachedStatsToken:d}=t();if(!(!f||!d))try{await fetch(`${jt}/${f}/events/metadata`,{method:"PATCH",headers:{"Content-Type":"application/json","X-Stats-Token":d},body:JSON.stringify({itemType:n,itemId:r,metadata:s})})}catch{}})()},exportStats:async()=>{const{pendingEvents:n}=t(),{serverUrl:r,userId:s}=tt.getState();let o=[...n];if(r&&s){await t().updateStatsKey();const{cachedStatsKey:u,cachedStatsToken:f}=t();if(u&&f)try{const d=await fetch(`${jt}/${u}/events?from=0&to=${Date.now()}`,{headers:{"X-Stats-Token":f}});if(d.ok){const k=(await d.json()).events||[],x=new Set(o.map(g=>`${g.ts}-${g.songId}`));for(const g of k){const w=`${g.ts}-${g.songId}`;x.has(w)||o.push(g)}}}catch{}}o.sort((u,f)=>u.ts-f.ts);const l=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),i=URL.createObjectURL(l),a=document.createElement("a");a.href=i,a.download=`tunetuna-stats-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)},clearLocalStats:()=>{e({pendingEvents:[],cachedEvents:[],cacheRange:null,lastSyncedAt:null})},clearAllStats:async()=>{const{serverUrl:n,userId:r}=tt.getState();if(e({pendingEvents:[],cachedEvents:[],cacheRange:null,lastSyncedAt:null}),n&&r){await t().updateStatsKey();const{cachedStatsKey:s,cachedStatsToken:o}=t();if(s&&o)try{return(await fetch(`${jt}/${s}/events`,{method:"DELETE",headers:{"X-Stats-Token":o}})).ok}catch{return!1}}return!0},importStats:async n=>{const{serverUrl:r,userId:s}=tt.getState();if(!r||!s)throw new Error("Not authenticated");const o=await n.text();let l;try{l=JSON.parse(o)}catch{throw new Error("Invalid JSON file")}if(!Array.isArray(l))throw new Error("File must contain an array of events");const i=l.filter(x=>typeof x.ts=="number"&&typeof x.songId=="string"&&typeof x.songName=="string"&&Array.isArray(x.artistIds)&&Array.isArray(x.artistNames)&&typeof x.albumId=="string"&&typeof x.albumName=="string"&&Array.isArray(x.genres)&&typeof x.durationMs=="number"&&typeof x.fullDurationMs=="number");if(i.length===0)throw new Error("No valid events found in file");await t().updateStatsKey();const{cachedStatsKey:a,cachedStatsToken:u}=t();if(!a||!u)throw new Error("Failed to initialize stats authentication");let f=new Set;try{const x=await fetch(`${jt}/${a}/events?from=0&to=${Date.now()}`,{headers:{"X-Stats-Token":u}});if(x.ok){const w=(await x.json()).events||[];f=new Set(w.map(m=>`${m.ts}-${m.songId}`))}}catch{}const{pendingEvents:d}=t();for(const x of d)f.add(`${x.ts}-${x.songId}`);const p=i.filter(x=>!f.has(`${x.ts}-${x.songId}`));if(p.length===0)return{imported:0,skipped:i.length};if(!(await fetch(`${jt}/${a}/events`,{method:"POST",headers:{"Content-Type":"application/json","X-Stats-Token":u},body:JSON.stringify(p)})).ok)throw new Error("Failed to upload events");return e({cacheRange:null}),{imported:p.length,skipped:i.length-p.length}},hasStats:async()=>{var i;const{pendingEvents:n}=t();if(n.length>0)return!0;const{serverUrl:r,userId:s}=tt.getState();if(!r||!s)return!1;await t().updateStatsKey();const{cachedStatsKey:o,cachedStatsToken:l}=t();if(!o||!l)return!1;try{const a=await fetch(`${jt}/${o}/events?from=0&to=${Date.now()}`,{headers:{"X-Stats-Token":l}});if(a.ok)return(((i=(await a.json()).events)==null?void 0:i.length)||0)>0}catch{}return!1},initializeOldestTs:async()=>{const{serverUrl:n,userId:r}=tt.getState();if(!n||!r)return;await t().updateStatsKey();const{cachedStatsKey:s,cachedStatsToken:o,pendingEvents:l}=t();if(!(!s||!o))try{const i=await fetch(`${jt}/${s}/events?from=0&to=${Date.now()}`,{headers:{"X-Stats-Token":o}});if(i.ok){const u=(await i.json()).events||[];u.length===0&&l.length>0&&await t().syncToServer();const f=[...u,...l];if(f.length>0){const d=Math.min(...f.map(p=>p.ts));e({oldestEventTs:d})}}}catch{}}}),{name:"stats-storage",storage:_0,partialize:e=>({pendingEvents:e.pendingEvents,lastSyncedAt:e.lastSyncedAt,cachedStatsToken:e.cachedStatsToken,oldestEventTs:e.oldestEventTs})}));let yc=!1,bl=null;function vc(){const{pendingEvents:e,cachedStatsKey:t,cachedStatsToken:n}=rt.getState();if(e.length>0&&t&&n){const r={_token:n,events:e},s=new Blob([JSON.stringify(r)],{type:"application/json"});return navigator.sendBeacon(`${jt}/${t}/events`,s),!0}return!1}function z0(){yc||typeof document>"u"||(yc=!0,document.addEventListener("visibilitychange",()=>{const{pendingEvents:e}=rt.getState();document.visibilityState==="hidden"?e.length>0&&vc():document.visibilityState==="visible"&&e.length>0&&rt.getState().syncToServer()}),window.addEventListener("beforeunload",()=>{vc()}),setTimeout(()=>{bl&&bl(),bl=tt.subscribe((n,r)=>{(n.serverUrl!==r.serverUrl||n.userId!==r.userId)&&(rt.getState().updateStatsKey(),rt.getState().initializeOldestTs())});const{serverUrl:e,userId:t}=tt.getState();e&&t&&(rt.getState().updateStatsKey(),rt.getState().initializeOldestTs())},0))}z0();const Jf=new Set,_o=new Map,bo=new Set;let Ye=null;function Zf(){Jf.clear();for(const e of _o.values())clearTimeout(e);_o.clear();for(const e of bo)clearTimeout(e);bo.clear(),Ye&&(clearTimeout(Ye),Ye=null)}function $0(e,t,n=5e3){const r=setTimeout(async()=>{const s=t();if((s==null?void 0:s.Id)===e)try{await W.markItemAsPlayed(e),Jf.add(e);const o=setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:e}})),bo.delete(o)},4e3);bo.add(o)}catch{}_o.delete(e)},n);_o.set(e,r)}function Lt(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}const ee=Dn()(ws((e,t)=>({songs:[],currentIndex:-1,previousIndex:-1,standardOrder:[],shuffleOrder:[],isPlaying:!1,currentTime:0,duration:0,volume:1,shuffle:!1,repeat:"off",audioElement:null,isFetchingRecommendations:!1,isLoadingMoreSongs:!1,shuffleHasMoreSongs:!1,lastPlayedTrack:null,isShuffleAllActive:!1,isShuffleGenreActive:!1,manuallyCleared:!1,hasRecordedCurrentTrackStats:!1,isQueueSidebarOpen:!1,setAudioElement:n=>{e({audioElement:n}),n&&(n.volume=t().volume)},setIsFetchingRecommendations:n=>{e({isFetchingRecommendations:n})},setIsLoadingMoreSongs:n=>{e({isLoadingMoreSongs:n})},setCurrentTime:n=>{const{currentIndex:r,songs:s,hasRecordedCurrentTrackStats:o}=t();if(e({currentTime:n}),n>=60&&!o&&r>=0&&r<s.length){const l=s[r];rt.getState().recordPlay(l,n*1e3),e({hasRecordedCurrentTrackStats:!0})}},setDuration:n=>{e({duration:n})},setVolume:n=>{e({volume:n});const r=t().audioElement;r&&(r.volume=n)},clearQueue:()=>{Ye&&(clearTimeout(Ye),Ye=null),e(n=>{const r=n.currentIndex>=0?[n.songs[n.currentIndex]]:[];return{songs:r,currentIndex:r.length>0?0:-1,previousIndex:-1,standardOrder:r.map(s=>s.Id),shuffleOrder:r.map(s=>s.Id),manuallyCleared:!0}})},addToQueue:(n,r=!1,s="user")=>{e(o=>{const l=o.currentIndex>=0?o.songs[o.currentIndex]:null,i=n.map(x=>({...x,source:s}));let a;const u=i;if(r){const x=o.shuffle?Lt([...i]):i,g=o.currentIndex+1,w=o.songs.slice(0,g),m=o.songs.slice(g);a=[...w,...x,...m]}else if(s==="recommendation")a=[...o.songs,...u];else{const x=o.songs.findIndex((g,w)=>w>o.currentIndex&&g.source==="recommendation");x!==-1?a=[...o.songs.slice(0,x),...u,...o.songs.slice(x)]:a=[...o.songs,...u]}let f=o.currentIndex;if(o.currentIndex>=0&&l){const x=a.findIndex(g=>g.Id===l.Id);x!==-1?f=x:L.error("[addToQueue] CRITICAL: Could not find current song in new queue!")}let d=a;if(a.length>1e3){const x=a.slice(0,f),g=a.slice(f+1),w=x.slice(-5),m=g,h=1e3-w.length-(l?1:0)-m.length,y=x.slice(-Math.max(0,h));d=[...y,...l?[l]:[],...m],f=l?y.length:-1}const k=d.filter(x=>x.source==="user").map(x=>x.Id);return{songs:d,currentIndex:f,standardOrder:k,shuffleOrder:k,manuallyCleared:!1}})},addToQueueWithToast:n=>{t().addToQueue(n,!1,"user");const r=n.length,s=r===1?"Added to queue":`${r} songs added to queue`;Ao.getState().addToast(s,"success",2e3)},removeFromQueue:n=>{e(r=>{if(n<0||n>=r.songs.length)return r;const s=r.songs[n],o=r.songs.filter((f,d)=>d!==n);let l=r.standardOrder.filter(f=>f!==s.Id),i=r.shuffleOrder.filter(f=>f!==s.Id),a=r.currentIndex,u=r.previousIndex;return n<r.currentIndex?a=r.currentIndex-1:n===r.currentIndex&&(a=-1),n<r.previousIndex?u=r.previousIndex-1:n===r.previousIndex&&(u=-1),{songs:o,currentIndex:a,previousIndex:u,standardOrder:l,shuffleOrder:i}})},reorderQueue:(n,r)=>{e(s=>{if(n<0||r<0||n>=s.songs.length||r>=s.songs.length||n===r)return s;const o=s.songs[n],l=s.songs[r];if(o.source!==l.source)return s;const i=[...s.songs],[a]=i.splice(n,1);if(i.splice(r,0,a),o.source==="user"){const f=s.shuffle?"shuffleOrder":"standardOrder",d=s[f],p=d.indexOf(o.Id);if(p>=0){const k=[...d];k.splice(p,1);const g=i.slice(0,r+1).filter(m=>m.source==="user").length-1;k.splice(g,0,o.Id);const w=r===s.currentIndex||n===s.currentIndex?r:s.currentIndex;return{songs:i,[f]:k,currentIndex:w,previousIndex:r===s.previousIndex||n===s.previousIndex?r:s.previousIndex}}}const u=r===s.currentIndex||n===s.currentIndex?r:s.currentIndex;return{songs:i,currentIndex:u,previousIndex:r===s.previousIndex||n===s.previousIndex?r:s.previousIndex}})},play:()=>{const{audioElement:n,currentIndex:r,songs:s,currentTime:o}=t();if(n&&r>=0&&r<s.length){const l=s[r],i=W.serverBaseUrl,a=i?`${i}/Audio/${l.Id}/stream?static=true`:"";n.src!==a?(n.src=a,n.load()):o===0&&n.currentTime>.5&&(n.currentTime=0,n.duration&&!isNaN(n.duration)&&e({duration:n.duration})),n.play().then(()=>{e({isPlaying:!0,hasRecordedCurrentTrackStats:!1}),$0(l.Id,()=>t().songs[t().currentIndex]||null),xe.getState().addToRecentlyPlayed(l),rt.getState().startPlay(l)}).catch(u=>{L.error("Playback error:",u),e({isPlaying:!1})})}},pause:()=>{const n=t().audioElement;n&&(n.pause(),e({isPlaying:!1}))},togglePlayPause:()=>{const{isPlaying:n,play:r,pause:s}=t();n?s():r()},next:()=>{const n=t();if(n.songs.length===0)return;if(!n.hasRecordedCurrentTrackStats&&n.currentIndex>=0&&n.currentIndex<n.songs.length){const o=n.songs[n.currentIndex],l=n.currentTime*1e3;rt.getState().recordPlay(o,l)}if(n.repeat==="one"&&n.currentIndex>=0){t().seek(0),t().play();return}let r=n.currentIndex+1;if(r>=n.songs.length)if(n.repeat==="all")r=0;else{t().pause();return}const s=n.currentIndex>=0?n.songs[n.currentIndex]:null;e({previousIndex:n.currentIndex,currentIndex:r,lastPlayedTrack:s}),t().play()},previous:()=>{e(n=>{if(n.songs.length===0)return n;let r=n.currentIndex,s=n.currentIndex;if(n.currentIndex>0)r=n.currentIndex-1;else if(n.repeat==="all")r=n.songs.length-1;else return n;return{currentIndex:r,previousIndex:s}}),t().play()},seek:n=>{const r=t().audioElement;r&&(r.currentTime=n,e({currentTime:n}))},toggleShuffle:()=>{e(n=>{const r=!n.shuffle;if(r){const s=n.songs.slice(0,n.currentIndex),o=n.currentIndex>=0?n.songs[n.currentIndex]:null,l=n.songs.slice(n.currentIndex+1).filter(p=>p.source==="user"),i=n.songs.filter(p=>p.source==="recommendation"),a=Lt(l.map(p=>p.Id)),u=a.map(p=>l.find(k=>k.Id===p)).filter(Boolean),f=[...s,...o?[o]:[],...u,...i],d=[...n.standardOrder.slice(0,n.currentIndex+1),...a];return{shuffle:r,shuffleOrder:d,songs:f}}else{const s=n.songs.slice(0,n.currentIndex),o=n.currentIndex>=0?n.songs[n.currentIndex]:null,i=n.standardOrder.slice(n.currentIndex+1).map(f=>n.songs.find(d=>d.Id===f&&d.source==="user")).filter(Boolean),a=n.songs.filter(f=>f.source==="recommendation"),u=[...s,...o?[o]:[],...i,...a];return{shuffle:r,songs:u}}})},toggleRepeat:()=>{e(n=>({repeat:n.repeat==="off"?"all":n.repeat==="all"?"one":"off"}))},playTrack:(n,r)=>{let s,o;r?(s=r,o=r.findIndex(i=>i.Id===n.Id),o===-1&&(s=[n,...r.filter(i=>i.Id!==n.Id)],o=0)):(s=[n],o=0);const l=s.map(i=>({...i,source:"user"}));e({songs:l,standardOrder:l.map(i=>i.Id),shuffleOrder:l.map(i=>i.Id),currentIndex:o,previousIndex:o>0?o-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playAlbum:(n,r=0)=>{const s=n.map(o=>({...o,source:"user"}));e({songs:s,standardOrder:s.map(o=>o.Id),shuffleOrder:s.map(o=>o.Id),currentIndex:r,previousIndex:r>0?r-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playNext:n=>{t().addToQueue(n,!0);const r=n.length,s=r===1?"Playing next":`${r} songs playing next`;Ao.getState().addToast(s,"success",2e3)},shuffleArtist:n=>{const s=Lt(n).map(o=>({...o,source:"user"}));e({songs:s,standardOrder:s.map(o=>o.Id),shuffleOrder:s.map(o=>o.Id),currentIndex:0,previousIndex:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},shuffleAllSongs:async()=>{t().clearQueue();const{setShowQueueRecommendations:n}=ot.getState();n(!1);const s=typeof window<"u"&&window.innerWidth<768?400:800,o=xe.getState();let l=[];if(o.shufflePool.length>=1){const d=Math.min(5,o.shufflePool.length);l=o.shufflePool.slice(0,d);const p=o.shufflePool.slice(d),k=o.songs,x=new Set(o.recentlyPlayed.slice(0,10).map(h=>h.Id)),g=k.filter(h=>!x.has(h.Id)),w=Lt(g).slice(0,d),m=[...p,...w];xe.setState({shufflePool:m,lastPoolUpdate:Date.now()})}else{let d=o.songs;if(!d||d.length===0)try{d=(await W.getSongs({limit:Math.max(50,s),sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]}catch(p){L.error("Failed to fetch songs for shuffle all:",p);return}l=Lt(d).slice(0,5),d.filter(p=>!l.some(k=>k.Id===p.Id)),xe.setState({songs:d,shufflePool:Lt(d).slice(0,30),lastPoolUpdate:Date.now()})}const i=l.map(d=>({...d,source:"user"})),a=l.length,f=o.songs.length+Object.values(o.genreSongs).flat().length>l.length;e({songs:i,standardOrder:i.map(d=>d.Id),shuffleOrder:i.map(d=>d.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:f,manuallyCleared:!0}),t().play(),Ye&&clearTimeout(Ye),Ye=setTimeout(async()=>{Ye=null;try{const d=t();if(!d.shuffle||d.songs.length!==a)return;let p=o.songs;(!p||p.length===0)&&(p=(await W.getSongs({limit:s,sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]);const k=Object.values(o.genreSongs).flat(),x=[...p,...k],g=new Map;x.forEach(y=>g.set(y.Id,y));const w=Array.from(g.values()),m=new Set(i.map(y=>y.Id)),h=w.filter(y=>!m.has(y.Id));if(h.length>0){const y=Math.min(s-a,h.length),S=Lt(h).slice(0,y).map(E=>({...E,source:"user"}));e(E=>{const N=new Set(i.map(Q=>Q.Id)),P=E.songs.filter(Q=>!N.has(Q.Id)&&Q.source==="user"),T=[...i,...P,...S];let _=E.currentIndex;if(P.length>0&&E.currentIndex>=i.length){const Q=E.songs[E.currentIndex];Q&&(_=T.findIndex(se=>se.Id===Q.Id))}return{songs:T,currentIndex:_>=0?_:E.currentIndex,standardOrder:T.map(Q=>Q.Id),shuffleOrder:T.map(Q=>Q.Id),shuffleHasMoreSongs:h.length>y,manuallyCleared:!1}}),xe.getState().refreshShufflePool()}}catch(d){L.error("Failed to expand shuffle queue:",d)}},100)},shuffleGenreSongs:async(n,r)=>{t().clearQueue();const{setShowQueueRecommendations:s}=ot.getState();s(!1);const l=typeof window<"u"&&window.innerWidth<768?400:800,i=xe.getState().genreSongs[n];if(!i||i.length===0)return;const a=Lt(i).slice(0,5),u=i.filter(p=>!a.some(k=>k.Id===p.Id)),f=a.map(p=>({...p,source:"user"})),d=i.length>5;e({songs:f,standardOrder:f.map(p=>p.Id),shuffleOrder:f.map(p=>p.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:d,manuallyCleared:!0}),t().play(),Ye&&clearTimeout(Ye),Ye=setTimeout(async()=>{Ye=null;try{const p=t();if(!p.shuffle||p.songs.length!==5)return;if(u.length>0){const k=Math.min(l-5,u.length),g=Lt(u).slice(0,k).map(w=>({...w,source:"user"}));e(w=>{const m=new Set(f.map(S=>S.Id)),h=w.songs.filter(S=>!m.has(S.Id)&&S.source==="user"),y=[...f,...h,...g];let I=w.currentIndex;if(h.length>0&&w.currentIndex>=f.length){const S=w.songs[w.currentIndex];S&&(I=y.findIndex(E=>E.Id===S.Id))}return{songs:y,currentIndex:I>=0?I:w.currentIndex,standardOrder:y.map(S=>S.Id),shuffleOrder:y.map(S=>S.Id),shuffleHasMoreSongs:u.length>k,manuallyCleared:!1}})}}catch(p){L.error("Failed to expand genre shuffle queue:",p)}},100)},skipToTrack:n=>{const{songs:r,currentIndex:s}=t();if(n<0||n>=r.length)return;const o=s>=0?r[s]:null;e({previousIndex:s>=0?s:-1,currentIndex:n,lastPlayedTrack:o,currentTime:0}),t().play()},refreshCurrentTrack:async()=>{const{currentIndex:n,songs:r}=t();if(n<0||n>=r.length)return;const s=r[n];try{const o=await W.getSongById(s.Id);o&&e(l=>{const i=[...l.songs];return i[l.currentIndex]={...i[l.currentIndex],...o},{songs:i}})}catch(o){L.error("Failed to refresh current track:",o)}},toggleQueueSidebar:()=>{e(n=>({isQueueSidebarOpen:!n.isQueueSidebarOpen}))}}),{name:"player-storage",partialize:e=>({songs:e.songs,currentIndex:e.currentIndex,previousIndex:e.previousIndex,standardOrder:e.standardOrder,shuffleOrder:e.shuffleOrder,volume:e.volume,shuffle:e.shuffle,repeat:e.repeat,lastPlayedTrack:e.lastPlayedTrack,isShuffleAllActive:e.isShuffleAllActive,isShuffleGenreActive:e.isShuffleGenreActive,manuallyCleared:e.manuallyCleared,isQueueSidebarOpen:e.isQueueSidebarOpen}),onRehydrateStorage:e=>{e&&(e.isPlaying=!1,e.currentTime=0,e.duration=0,e.audioElement=null,e.isFetchingRecommendations=!1,e.isShuffleAllActive=!1,e.isShuffleGenreActive=!1)}}));class O0{constructor(){ct(this,"baseUrl","");ct(this,"accessToken","");ct(this,"userId","");ct(this,"genresCache",null);ct(this,"isPreloading",!1);ct(this,"pendingRequests",new Map)}get serverBaseUrl(){return this.baseUrl}setCredentials(t,n,r){this.baseUrl=t.replace(/\/$/,""),this.accessToken=n,this.userId=r,this.genresCache=null}clearGenresCache(){this.genresCache=null}getDeviceId(){let t=Ro.get("deviceId");return t||(t=E0(),Ro.set("deviceId",t)),t}getEmbyAuthHeader(){return`MediaBrowser Client="${T0}", Device="${R0}", DeviceId="${this.getDeviceId()}", Version="${A0}"`}getVpnWarning(t){return j0.test(t)?`
  VPN/Tailscale IP detected (100.x.x.x). Your phone may not be on the same VPN network.
   Try using your local network IP instead (e.g., http://192.168.1.x:8096)
`:""}getHeaders(){return{Authorization:`MediaBrowser Token="${this.accessToken}"`,"Content-Type":"application/json","X-Emby-Authorization":this.getEmbyAuthHeader()}}async request(t,n={}){const r=`${this.baseUrl}${t}`,o=(n.method||"GET")==="GET",l=o?r:"";if(o&&this.pendingRequests.has(l))return this.pendingRequests.get(l);const i=this.executeRequest(r,n);return o&&(this.pendingRequests.set(l,i),i.finally(()=>{this.pendingRequests.delete(l)})),i}async executeRequest(t,n={}){let r=null;for(let s=0;s<=hc;s++){const o=new AbortController,l=setTimeout(()=>o.abort(),C0);try{const i=await fetch(t,{...n,signal:o.signal,headers:{...this.getHeaders(),...n.headers}});if(clearTimeout(l),!i.ok)throw i.status===401?(Zf(),new Error("Unauthorized - please login again")):new Error(`API request failed: ${i.statusText}`);return i.json()}catch(i){if(clearTimeout(l),r=i instanceof Error?i:new Error(String(i)),r.message.includes("Unauthorized")||r.name==="AbortError")break;s<hc&&await new Promise(a=>setTimeout(a,P0*(s+1)))}}throw r||new Error("Request failed")}async authenticate(t,n,r){const s=t.replace(/\/$/,"")+"/Users/authenticatebyname",o=new AbortController,l=setTimeout(()=>{o.abort()},fc);let i;try{i=await fetch(s,{method:"POST",signal:o.signal,headers:{"Content-Type":"application/json","X-Emby-Authorization":this.getEmbyAuthHeader()},body:JSON.stringify({Username:n,Pw:r})}),clearTimeout(l)}catch(u){if(clearTimeout(l),u instanceof Error&&u.name==="AbortError"){const f=this.getVpnWarning(t);throw new Error(`Request timeout - server did not respond within ${fc/1e3} seconds.

Possible issues:
- Server URL may be incorrect: ${s}
- Server may be down or unreachable${f}- CORS may be blocking the request (check browser console/Network tab)
- Network connectivity issues

If this was working earlier, check:
- Is the Jellyfin server still running?
- Are there any CORS errors in the browser console?
- Try accessing ${s} directly in your browser
- If using VPN/Tailscale IP, ensure your phone is on the same network`)}if(u instanceof TypeError){const f=u.message.toLowerCase();if(f.includes("failed to fetch")||f.includes("networkerror")){const d=this.getVpnWarning(t);throw new Error(`Network error - unable to reach server at ${s}

Possible issues:
- CORS is blocking the request (check Jellyfin server CORS settings)${d}- Server is not accessible from this network
- Invalid server URL

Check browser console for detailed error information.`)}throw new Error(`Network error: ${u.message}`)}throw u}if(!i.ok){const u=await i.text().catch(()=>"");throw new Error(u||`Authentication failed (${i.status})`)}const a=await i.json();return this.setCredentials(t,a.AccessToken,a.User.Id),a}getImageUrl(t,n="Primary",r){if(!this.baseUrl||!t)return"";const s=r??300,i=[`quality=${s<=128?75:90}`,`fillHeight=${s}`,`fillWidth=${s}`];return r&&i.push(`maxWidth=${r}`),`${this.baseUrl}/Items/${t}/Images/${n}?${i.join("&")}`}getArtistImageUrl(t,n){return this.getImageUrl(t,"Primary",n)}getArtistBackdropUrl(t,n){return this.getImageUrl(t,"Backdrop",n)}getAlbumArtUrl(t,n){return this.getImageUrl(t,"Primary",n)}buildQueryString(t,n=!1){const r=new URLSearchParams;return t.sortBy&&t.sortBy.forEach(s=>r.append("SortBy",s)),t.sortOrder&&(Array.isArray(t.sortOrder)?t.sortOrder.forEach(s=>r.append("SortOrder",s)):r.append("SortOrder",t.sortOrder)),t.limit&&r.append("Limit",t.limit.toString()),t.startIndex&&r.append("StartIndex",t.startIndex.toString()),t.includeItemTypes&&t.includeItemTypes.forEach(s=>r.append("IncludeItemTypes",s)),t.recursive!==void 0&&r.append("Recursive",t.recursive.toString()),t.parentId&&r.append("ParentId",t.parentId),t.searchTerm&&t.searchTerm.trim().length>0&&r.append("SearchTerm",t.searchTerm.trim()),t.genreIds&&t.genreIds.forEach(s=>r.append("GenreIds",s)),t.artistIds&&t.artistIds.forEach(s=>r.append("ArtistIds",s)),t.albumIds&&t.albumIds.forEach(s=>r.append("AlbumIds",s)),t.years&&t.years.forEach(s=>r.append("Years",s.toString())),t.minDateLastSaved&&r.append("MinDateLastSaved",t.minDateLastSaved.toISOString()),r.append("UserId",this.userId),r.append("Fields","PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,ProductionYear,DateCreated,DateModified,DateLastSaved"),n&&r.append("_t",Date.now().toString()),r.toString()}async getArtistById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return L.error("Failed to get artist by ID:",r),null}}async getArtists(t={}){var s;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({...t,includeItemTypes:["MusicArtist"],recursive:!0});let r=await this.request(`/Artists?${n}`);return(((s=r.Items)==null?void 0:s.length)||0)===0&&(r.TotalRecordCount||0)===0&&(r=await this.request(`/Items?${n}`)),{Items:r.Items||[],TotalRecordCount:r.TotalRecordCount||0,StartIndex:r.StartIndex||0}}async getAlbumById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return L.error("Failed to get album by ID:",r),null}}async getSongById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return L.error("Failed to get song by ID:",r),null}}async getAlbums(t={}){const n=this.buildQueryString({...t,includeItemTypes:["MusicAlbum"],recursive:!0});return this.request(`/Items?${n}`)}async getSongs(t={},n=!1){const r=this.buildQueryString({...t,includeItemTypes:["Audio"],recursive:!0},n);return this.request(`/Items?${r}`)}async getGenres(t=!1){if(this.genresCache&&!t)return this.genresCache;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=xe.getState();if(!t&&n.genres.length>0&&n.genresLastUpdated){const r=Date.now(),s=n.genresLastChecked||0;if(!(r-s>=mc))return this.genresCache=n.genres,n.genres;try{const l=await this.getRecentlyAdded(50),i=await this.getSongs({limit:50,sortBy:["DateLastSaved"],sortOrder:"Descending"}),a=[...l.Items||[],...i.Items||[]];let u=0;for(const f of a){if(f.DateCreated){const d=new Date(f.DateCreated).getTime();d>u&&(u=d)}if(f.DateLastSaved){const d=new Date(f.DateLastSaved).getTime();d>u&&(u=d)}}if(xe.setState({genresLastChecked:r}),u<=n.genresLastUpdated)return this.genresCache=n.genres,n.genres}catch{return this.genresCache=n.genres,n.genres}}try{const r=new Map;let s=0,o=!0;for(;o;){const g=(await this.getAlbums({limit:Te,startIndex:s})).Items||[];if(g.forEach(w=>{w.Genres&&w.Genres.forEach(m=>{const h=m.toLowerCase();r.has(h)||r.set(h,m)})}),o=g.length===Te,s+=Te,s>1e4)break}const l=new Set;let i=0,a=!0;for(;a;){const g=(await this.getSongs({limit:Te,startIndex:i})).Items||[];if(g.forEach(w=>{w.Genres&&w.Genres.forEach(m=>{l.add(m.toLowerCase())})}),a=g.length===Te,i+=Te,i>1e4)break}const u=new Map,f=new Map;try{const x=new URLSearchParams({UserId:this.userId,Recursive:"true"}),g=await this.request(`/Genres?${x}`);let w=[];Array.isArray(g)?w=g:g&&typeof g=="object"&&"Items"in g&&(w=g.Items||[]),w.forEach(m=>{if(m.Name){const h=m.Name.toLowerCase();r.has(h)&&(u.set(h,m.Id),f.set(m.Id,m))}})}catch(x){L.warn("[getGenres] Failed to get genre IDs from API, will use synthetic IDs:",x)}const d=[],p=new Set;for(const[x,g]of r){if(p.has(x)||!l.has(x))continue;const w=u.get(x);if(w){const m=f.get(w);m&&(d.push(m),p.add(x))}else d.push({Id:`synthetic-${x.replace(/\s+/g,"-")}`,Name:g,Type:"Genre"}),p.add(x)}const k=Date.now();return xe.getState().setGenres(d),xe.setState({genresLastUpdated:k,genresLastChecked:k}),this.genresCache=d,d}catch(r){return L.error("[getGenres] Failed to build music genres:",r),n.genres.length>0?(this.genresCache=n.genres,n.genres):(this.genresCache=[],[])}}async getYears(t=!1){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=xe.getState();if(!t&&n.years.length>0&&n.yearsLastUpdated){const r=Date.now(),s=n.yearsLastChecked||0;if(!(r-s>=mc))return n.years;try{const i=(await this.getRecentlyAdded(50)).Items||[];let a=0;for(const u of i)if(u.DateCreated){const f=new Date(u.DateCreated).getTime();f>a&&(a=f)}if(xe.setState({yearsLastChecked:r}),a<=n.yearsLastUpdated)return n.years}catch{return n.years}}try{const r=new Set;let s=0,o=!0;for(;o;){const u=(await this.getSongs({limit:Te,startIndex:s})).Items||[];if(u.forEach(f=>{f.ProductionYear&&f.ProductionYear>0&&r.add(f.ProductionYear)}),o=u.length===Te,s+=Te,s>1e4)break}const l=Array.from(r).sort((a,u)=>a-u),i=Date.now();return xe.getState().setYears(l),xe.setState({yearsLastUpdated:i,yearsLastChecked:i}),l}catch(r){return L.error("[getYears] Failed to extract years:",r),n.years.length>0?n.years:[]}}async getGenreSongs(t,n,r=!1){let s=[];if(t.startsWith("synthetic-")||r){let i=0,a=!0;for(;a;){const f=(await this.getSongs({limit:Te,startIndex:i},!0)).Items||[];if(s.push(...f),a=f.length===Te,i+=Te,i>gc)break}}else{let i=0,a=!0;for(;a;){const f=(await this.getSongs({genreIds:[t],limit:Te,startIndex:i})).Items||[];if(s.push(...f),a=f.length===Te,i+=Te,i>gc)break}}return s.filter(i=>{var u;return(u=i.Genres)==null?void 0:u.some(f=>f.toLowerCase()===n.toLowerCase())}).map(i=>({Id:i.Id,Name:i.Name,AlbumArtist:i.AlbumArtist,ArtistItems:i.ArtistItems,Album:i.Album,AlbumId:i.AlbumId,IndexNumber:i.IndexNumber,ProductionYear:i.ProductionYear,PremiereDate:i.PremiereDate,RunTimeTicks:i.RunTimeTicks,Genres:i.Genres}))}async syncLibrary(t={scope:"incremental"}){const n=xe.getState();if(t.scope==="incremental"){const o=n.lastSyncCompleted,l=await this.getGenres(!1);let i=[];if(o){let g=0,w=!0;for(;w;){const h=(await this.getSongs({minDateLastSaved:new Date(o),limit:Te,startIndex:g},!0)).Items||[];if(i.push(...h),w=h.length===Te,g+=Te,g>1e4)break}}else i=(await this.getSongs({limit:pc,sortBy:["DateLastSaved"],sortOrder:"Descending"})).Items||[];const a=i.map(g=>({Id:g.Id,Name:g.Name,AlbumArtist:g.AlbumArtist,ArtistItems:g.ArtistItems,Album:g.Album,AlbumId:g.AlbumId,IndexNumber:g.IndexNumber,ProductionYear:g.ProductionYear,PremiereDate:g.PremiereDate,RunTimeTicks:g.RunTimeTicks,Genres:g.Genres})),u=n.songs,f=new Set(u.map(g=>g.Id)),d=a.filter(g=>!f.has(g.Id)),p=[...u,...d];try{n.setSongs(p)}catch(g){throw g instanceof DOMException&&g.name==="QuotaExceededError"?new Error("Storage quota exceeded. Please clear some data or use a smaller sync scope."):g}const k=new Set;d.forEach(g=>{var w;(w=g.Genres)==null||w.forEach(m=>{l.forEach(h=>{var y;((y=h.Name)==null?void 0:y.toLowerCase())===m.toLowerCase()&&k.add(h.Id)})})});const x=Array.from(k).map(async g=>{const w=l.find(I=>I.Id===g);if(!(w!=null&&w.Name))return;const m=n.genreSongs[g]||[];new Set(m.map(I=>I.Id));const h=d.filter(I=>{var S;return(S=I.Genres)==null?void 0:S.some(E=>E.toLowerCase()===w.Name.toLowerCase())}),y=[...m,...h];n.setGenreSongs(g,y)});await Promise.all(x);return}this.clearGenresCache(),n.clearGenreSongs();const s=(await this.getGenres(!0)).map(async o=>{if(!(!o.Name||!o.Id))try{const l=await this.getGenreSongs(o.Id,o.Name);n.setGenreSongs(o.Id,l)}catch(l){L.warn(`[syncLibrary] Failed to load songs for genre ${o.Name}:`,l)}});await Promise.all(s)}async search(t,n=20){const r=t?to(t.trim()):"",s=r.length>0,o=r.length,l=s&&o<3,i={limit:n,includeItemTypes:["MusicAlbum","Playlist","Audio"],recursive:!0};s&&(i.searchTerm=r,o>=3&&(i.includeItemTypes=["MusicArtist","MusicAlbum","Playlist","Audio"]));const a=this.buildQueryString(i),u=await this.request(`/Items?${a}`);let f=[];const d=[],p=[],k=[],x=new Set;if(u.Items.forEach(g=>{g.Type==="MusicArtist"?f.push(g):g.Type==="MusicAlbum"?d.push(g):g.Type==="Playlist"?p.push(g):g.Type==="Audio"&&(k.push(g),x.add(g.Id))}),l)try{const g=await this.getArtists({limit:pc}),w=r.toLowerCase();f=(g.Items||[]).filter(m=>to(m.Name||"").toLowerCase().includes(w))}catch(g){L.error("Failed to fetch all artists for short query:",g)}if(s&&f.length>0){const g=r.toLowerCase(),w=f.filter(m=>to(m.Name||"").toLowerCase().includes(g));if(w.length>0)try{const m=w.map(I=>I.Id),h=this.buildQueryString({artistIds:m,includeItemTypes:["Audio"],recursive:!0});(await this.request(`/Items?${h}`)).Items.forEach(I=>{x.has(I.Id)||(k.push(I),x.add(I.Id))})}catch(m){L.error("Failed to fetch songs for matching artists:",m)}}return{Artists:{Items:f,TotalRecordCount:f.length,StartIndex:0},Albums:{Items:d,TotalRecordCount:d.length,StartIndex:0},Playlists:{Items:p,TotalRecordCount:p.length,StartIndex:0},Songs:{Items:k,TotalRecordCount:k.length,StartIndex:0}}}async getRecentlyAdded(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({limit:t,includeItemTypes:["MusicAlbum"],recursive:!0,sortBy:["DateCreated"],sortOrder:"Descending"});return await this.request(`/Items?${n}`)}async getRecentlyPlayed(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({Limit:t.toString(),IncludeItemTypes:"Audio",Recursive:"true",SortBy:"DatePlayed",SortOrder:"Descending",Filters:"IsPlayed",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return await this.request(`/Items?${n}`)}async getAlbumTracks(t){const n=new URLSearchParams({ParentId:t,IncludeItemTypes:"Audio",SortBy:"IndexNumber",SortOrder:"Ascending",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return(await this.request(`/Items?${n}`)).Items}async getArtistItems(t){const n=new URLSearchParams({ArtistIds:t,IncludeItemTypes:"MusicAlbum,Audio",Recursive:"true",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"}),r=await this.request(`/Items?${n}`),s=[],o=[];return r.Items.forEach(l=>{l.Type==="MusicAlbum"?s.push(l):l.Type==="Audio"&&o.push(l)}),{albums:s,songs:o}}async getGenreItems(t,n=50){const r=this.buildQueryString({genreIds:[t],includeItemTypes:["MusicAlbum"],recursive:!0,limit:n,sortBy:["DateCreated"],sortOrder:"Descending"});return this.request(`/Items?${r}`)}async getPlaylists(t={}){const n=this.buildQueryString({...t,includeItemTypes:["Playlist"],recursive:!0});return this.request(`/Items?${n}`)}async markItemAsPlayed(t){if(!this.userId||!this.baseUrl||!t)throw new Error("Not authenticated or invalid item ID");try{await this.request(`/Users/${this.userId}/PlayedItems/${t}`,{method:"POST"})}catch{}}async getLyrics(t){if(!this.userId||!this.baseUrl||!t)return null;try{const n=[`/Items/${t}/Lyrics`,`/Items/${t}/RemoteLyrics`,`/Audio/${t}/Lyrics`];let r=null;for(const s of n){const o=new URLSearchParams({UserId:this.userId}),l=`${this.baseUrl}${s}?${o}`;try{const i=await fetch(l,{headers:this.getHeaders()});if(i.ok){const a=await i.json();if(a.Lyrics&&Array.isArray(a.Lyrics)&&a.Lyrics.length>0)return a.Lyrics.map(f=>f.Text||"").join(`
`);if(typeof a=="string")return a;if(a.Text)return a.Text}else if(i.status===404){r=`404 for ${s}`;continue}else{const a=await i.text().catch(()=>"");r=`${i.status}: ${a}`;continue}}catch(i){r=i instanceof Error?i.message:String(i);continue}}return null}catch{return null}}}const W=new O0,tt=Dn()(ws(e=>({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1,login:async(t,n,r)=>{try{const s=await W.authenticate(t,n,r);e({serverUrl:t,username:n,accessToken:s.AccessToken,userId:s.User.Id,isAuthenticated:!0}),W.setCredentials(t,s.AccessToken,s.User.Id)}catch(s){throw s}},logout:()=>{Zf(),e({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1}),localStorage.removeItem("auth-storage")},setCredentials:(t,n,r)=>{e({serverUrl:t,accessToken:n,userId:r,isAuthenticated:!0}),W.setCredentials(t,n,r)}}),{name:"auth-storage",onRehydrateStorage:()=>e=>{e!=null&&e.isAuthenticated&&e.serverUrl&&e.accessToken&&e.userId&&W.setCredentials(e.serverUrl,e.accessToken,e.userId)}}));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),xc=e=>{const t=U0(e);return t.charAt(0).toUpperCase()+t.slice(1)},eh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),F0=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...i},a)=>v.createElement("svg",{ref:a,...B0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eh("lucide",s),...!o&&!F0(i)&&{"aria-hidden":"true"},...i},[...l.map(([u,f])=>v.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=v.forwardRef(({className:r,...s},o)=>v.createElement(V0,{ref:o,iconNode:t,className:eh(`lucide-${D0(xc(e))}`,`lucide-${e}`,r),...s}));return n.displayName=xc(e),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q0=ne("chart-column",G0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],W0=ne("check",H0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q0=ne("chevron-down",Y0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],th=ne("circle-alert",K0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],La=ne("disc",X0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Z0=ne("eye-off",J0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ty=ne("eye",ey);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],ry=ne("grip-horizontal",ny);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.23 9.85A3 3 0 0 1 11 8a5 5 0 0 1 5 5 3 3 0 0 1-1.85 2.77l-.92.38A2 2 0 0 0 12 18a4 4 0 0 1-4 4 6 6 0 0 1-6-6 4 4 0 0 1 4-4 2 2 0 0 0 1.85-1.23z",key:"1de1vg"}]],no=ne("guitar",sy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ly=ne("house",oy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ay=ne("info",iy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M9 19H3",key:"s61nz1"}],["path",{d:"m16 16-3 3 3 3",key:"117b85"}],["path",{d:"M21 5v12a2 2 0 0 1-2 2h-6",key:"hey24a"}]],Ds=ne("list-end",uy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],dy=ne("list-music",cy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M3 5h6",key:"1ltk0q"}],["path",{d:"M3 12h13",key:"ppymz1"}],["path",{d:"M3 19h13",key:"bpdczq"}],["path",{d:"m16 8-3-3 3-3",key:"1pjpp6"}],["path",{d:"M21 19V7a2 2 0 0 0-2-2h-6",key:"4zzq67"}]],Us=ne("list-start",fy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 19H3",key:"108z41"}],["path",{d:"M15 12.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"ms4nik"}]],_i=ne("list-video",hy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],py=ne("mic-vocal",my);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],yy=ne("music",gy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],hs=ne("pause",vy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vn=ne("play",xy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ro=ne("refresh-cw",wy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]],Ma=ne("repeat-1",Sy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],za=ne("repeat",ky);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ey=ne("shield-alert",Iy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],cr=ne("shuffle",Ny);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],$a=ne("skip-back",Cy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Oa=ne("skip-forward",Py);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],Ty=ne("square-play",jy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lo=ne("user",Ry);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],_y=ne("volume-1",Ay);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ly=ne("volume-2",by);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]],zy=ne("volume",My);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Da=ne("x",$y);function nh(){return window.__TUNETUNA_CONFIG__||{lockedServerUrl:""}}function rh(){const e=nh();return!!(e.lockedServerUrl&&e.lockedServerUrl!=="__JELLYFIN_SERVER_URL__"&&e.lockedServerUrl.trim()!=="")}function Oy(){return rh()?nh().lockedServerUrl:null}const wc="last-server-url",Dy=/^http:\/\/(localhost|127\.0\.0\.1|10\.\d+\.\d+\.\d+|172\.(1[6-9]|2\d|3[01])\.\d+\.\d+|192\.168\.\d+\.\d+)(:\d+)?/i;function Uy(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,o]=v.useState(""),[l,i]=v.useState(!1),[a,u]=v.useState(""),[f,d]=v.useState(!1),p=tt(m=>m.login),k=v.useMemo(()=>e.trim().toLowerCase().startsWith("http://")?!Dy.test(e.trim()):!1,[e]),x=rh(),g=Oy();v.useEffect(()=>{if(x&&g)t(g);else{const m=Ro.get(wc);m&&t(m)}},[x,g]);const w=async m=>{m.preventDefault(),u(""),d(!0);const h=x&&g?g:e;!x&&h.trim()&&Ro.set(wc,h.trim());try{await p(h,n,s)}catch(y){u(y instanceof Error?y.message:"Login failed. Please check your credentials.")}finally{d(!1)}};return c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tunetuna"}),c.jsx("p",{className:"text-gray-400",children:"Sign in to your Jellyfin server"})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!x&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"serverUrl",className:"block text-sm font-medium text-gray-300 mb-2",children:"Server URL"}),c.jsx("input",{id:"serverUrl",type:"url",value:e,onChange:m=>t(m.target.value),placeholder:"https://your-server.com",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"}),k&&c.jsxs("div",{className:"mt-2 flex items-start gap-2 text-amber-400 text-sm",children:[c.jsx(Ey,{size:16,className:"mt-0.5 flex-shrink-0"}),c.jsx("span",{children:"Insecure connection. Your password will be sent unencrypted. Use HTTPS or a local network address."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),c.jsx("input",{id:"username",type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"Your username",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",type:l?"text":"password",value:s,onChange:m=>o(m.target.value),placeholder:"Your password",required:!0,className:"w-full px-4 py-3 pr-12 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"}),c.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:l?c.jsx(Z0,{size:20}):c.jsx(ty,{size:20})})]})]}),a&&c.jsx("div",{className:"bg-red-900/30 border border-red-800 text-red-200 px-4 py-3 rounded-lg text-sm whitespace-pre-wrap",children:a}),c.jsx("button",{type:"submit",disabled:f,className:"w-full bg-[var(--accent-color)] hover:brightness-90 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:f?"Signing in...":"Sign In"})]})]})})}const el=Dn((e,t)=>({state:"idle",source:null,message:null,abortController:null,startSync:(n,r="Syncing...")=>{const s=new AbortController;e({state:"syncing",source:n,message:r,abortController:s})},completeSync:(n,r)=>{e({state:n?"success":"error",message:r||(n?"Sync complete":"Sync failed"),abortController:null}),setTimeout(()=>{t().reset()},3e3)},cancelSync:()=>{const{abortController:n}=t();n&&n.abort(),e({state:"idle",source:null,message:null,abortController:null})},reset:()=>{e({state:"idle",source:null,message:null,abortController:null})}}));function Ut({variant:e="horizontal",onClose:t,onOpenPopover:n,popoverPosition:r,popoverDirection:s="up",className:o,onRef:l}){const{volume:i,setVolume:a}=ee(),[u,f]=v.useState(!1),[d,p]=v.useState(1),k=v.useRef(null),x=O=>{l&&e==="compact"&&l(O)},g=O=>{l&&e==="horizontal"&&l(O)};v.useEffect(()=>{const O=localStorage.getItem("lastNonZeroVolume");O?p(Math.max(.01,Math.min(1,parseFloat(O)))):i>0&&p(i)},[]),v.useEffect(()=>{i>0&&(p(i),localStorage.setItem("lastNonZeroVolume",i.toString()))},[i]);const w=()=>i===0?zy:i<=.5?_y:Ly,m=v.useCallback(O=>{if(!k.current)return;const he=k.current.getBoundingClientRect();let D,R;if(O instanceof TouchEvent||"touches"in O?(D=O.touches[0].clientX,R=O.touches[0].clientY):(D=O.clientX,R=O.clientY),e==="horizontal"){const C=D-he.left,A=Math.max(0,Math.min(1,C/he.width));a(A)}else{const C=he.bottom-R,A=Math.max(0,Math.min(1,C/he.height));a(A)}},[a,e]),h=O=>{O.preventDefault(),O.stopPropagation(),f(!0),m(O)},y=O=>{O.stopPropagation(),h(O)},I=O=>{O.stopPropagation(),N(O)},S=v.useCallback(O=>{u&&(O.preventDefault(),O.stopPropagation(),m(O))},[u,m]),E=v.useCallback(()=>{f(!1)},[]),N=O=>{O.preventDefault(),O.stopPropagation(),f(!0),m(O)},P=v.useCallback(O=>{u&&(O.preventDefault(),O.stopPropagation(),m(O))},[u,m]),T=v.useCallback(()=>{f(!1)},[]),_=O=>{O.stopPropagation(),ee.getState().volume>0?a(0):a(d)},Q=O=>{O.stopPropagation()};v.useEffect(()=>{if(u)return document.addEventListener("mousemove",S),document.addEventListener("mouseup",E),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",T),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",T)}},[u,S,E,P,T]);const se=w();if(e==="compact")return c.jsx("button",{ref:x,onClick:O=>{O.stopPropagation(),n&&n()},className:o||"text-white/70 hover:text-zinc-300 transition-colors",children:c.jsx(se,{className:"w-6 h-6"})});if(e==="horizontal")return c.jsxs("div",{ref:g,className:"flex items-center gap-2 px-2 select-none",style:{width:"120px"},onClick:Q,children:[c.jsx("button",{onClick:_,className:"text-white/70 hover:text-white hover:bg-zinc-800 rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 transition-colors",children:c.jsx(se,{className:"w-5 h-5"})}),c.jsx("div",{ref:k,className:"flex-1 relative cursor-pointer",style:{height:"24px"},onMouseDown:y,onTouchStart:I,children:c.jsx("div",{className:"absolute top-1/2 left-0 right-0 -translate-y-1/2 h-1 bg-zinc-800/35 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gray-400 rounded-full transition-all duration-100",style:{width:`${i*100}%`}})})})]});const Ce=r?{position:"fixed",top:`${r.top}px`,left:`${r.left}px`,transform:s==="down"?"translate(-50%, 8px)":"translate(-50%, calc(-100% - 8px))"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return c.jsxs("div",{className:"fixed inset-0 z-50",children:[c.jsx("div",{className:"fixed inset-0",onClick:t,onTouchStart:O=>O.preventDefault(),onTouchMove:O=>O.preventDefault()}),c.jsx("div",{className:"relative z-10 bg-zinc-900 rounded-lg py-4 px-0 shadow-xl border border-zinc-700",style:Ce,children:c.jsxs("div",{className:"h-[200px] w-[38px] cursor-pointer group relative touch-none mx-auto",children:[c.jsx("div",{ref:k,onMouseDown:h,onTouchStart:N,className:"absolute inset-0"}),c.jsxs("div",{className:"h-full w-1 bg-zinc-800/35 rounded-full relative flex flex-col justify-end mx-auto",children:[c.jsx("div",{className:"w-full bg-gray-400 rounded-full transition-all",style:{height:`${i*100}%`}}),c.jsx("div",{className:"absolute left-1/2 w-4 h-4 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",style:{bottom:`${i*100}%`,transform:"translate(-50%, 50%)"}})]})]})})]})}const Fy=[{path:"/",label:"Home",icon:ly,key:"home"},{path:"/artists",label:"Artists",icon:Lo,key:"artists"},{path:"/albums",label:"Albums",icon:La,key:"albums"},{path:"/songs",label:"Songs",icon:yy,key:"songs"},{path:"/genres",label:"Genres",icon:no,key:"genres"},{path:"/playlists",label:"Playlists",icon:dy,key:"playlists"},{path:"/stats",label:"Stats",icon:Q0,key:"stats"}];function By(){const e=Yt(),{pageVisibility:t}=ot(),{state:n}=el(),[r,s]=v.useState(!1),o=Fy.filter(a=>a.key==="home"?!0:t[a.key]),l=(a,u)=>{window.dispatchEvent(new CustomEvent("closePlayerModal")),e.pathname===u&&a.preventDefault()},i=e.pathname.startsWith("/artists/")&&e.pathname!=="/artists";return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 lg:hidden",style:{bottom:"calc(env(safe-area-inset-bottom) - 8px)"},children:[c.jsxs("div",{className:"relative h-16",children:[c.jsx("div",{className:"max-w-[600px] mx-auto h-full",children:c.jsx("div",{className:"flex justify-around items-center h-full",children:o.map(a=>{const u=e.pathname===a.path,f=a.icon;return c.jsxs(lc,{to:a.path,onClick:d=>l(d,a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${u?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:[c.jsx(f,{className:"w-5 h-5 mb-1"}),c.jsx("span",{className:"text-xs font-medium",children:a.label})]},a.path)})})}),c.jsx("div",{className:"absolute right-4 top-3.5 hidden lg:block",children:!Dt()&&c.jsx(Ut,{variant:"horizontal"})})]}),r&&!Dt()&&c.jsx(Ut,{variant:"vertical",onClose:()=>s(!1)})]}),c.jsx("nav",{className:"fixed left-0 top-0 bottom-16 bg-black z-30 hidden lg:flex flex-col",style:{width:"4rem",top:n!=="idle"?"28px":"0px"},children:c.jsx("div",{className:`absolute inset-0 flex flex-col items-center justify-center ${i?"border-r border-zinc-800":""}`,children:o.map((a,u)=>{const f=e.pathname===a.path,d=a.icon;return c.jsxs(lc,{to:a.path,onClick:p=>l(p,a.path),className:`flex flex-col items-center justify-center py-5 transition-colors ${f?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"} ${u<o.length-1?"mb-0":""}`,style:{marginBottom:u<o.length-1?"0px":"0"},children:[c.jsx(d,{className:"w-6 h-6 mb-2"}),c.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:a.label})]},a.path)})})})]})}function Ua(){return ee(e=>{const{songs:t,currentIndex:n}=e;return n>=0&&t[n]?t[n]:null})}function Fa(){return ee(e=>e.lastPlayedTrack)}function Mo({src:e,alt:t,className:n="",fallback:r,style:s,showOutline:o,rounded:l="rounded",onError:i}){const[a,u]=v.useState(e),[f,d]=v.useState(!1),[p,k]=v.useState(!1);v.useEffect(()=>{u(e),d(!1),k(!1)},[e]);const x=()=>{!f&&r?(u(r),d(!0)):i?(i(),k(!0)):u('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23333" width="300" height="300"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="20" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3ENo Image%3C/text%3E%3C/svg%3E')};return p?null:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:a,alt:t,className:`block ${n}`,onError:x,loading:"lazy",style:s}),o&&c.jsx("div",{className:`absolute inset-0 pointer-events-none border ${l}`,style:{borderColor:"rgba(24, 24, 27, 0.6)",borderWidth:"1px"}})]})}function Sc(){return c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-zinc-800 border-t-[var(--accent-color)]"})}function Vy({isOpen:e,onClose:t,children:n,zIndex:r=110}){const[s,o]=v.useState(!1),[l,i]=v.useState(!1);if(v.useEffect(()=>{if(e)o(!1),i(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(!0)})}),document.body.style.overflow="hidden";else{o(!1);const u=setTimeout(()=>{i(!1),document.body.style.overflow=""},300);return()=>{clearTimeout(u),document.body.style.overflow=""}}},[e]),!l)return null;const a=c.jsxs("div",{className:"fixed inset-0",style:{zIndex:r},children:[c.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onClick:t}),c.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-zinc-900 rounded-t-2xl shadow-2xl transform transition-transform duration-300 ease-out ${s?"translate-y-0":"translate-y-full"}`,onClick:u=>u.stopPropagation(),children:c.jsx("div",{className:"pb-safe pt-4",children:c.jsx("div",{className:"max-w-[768px] mx-auto w-full",children:n})})})]});return ja.createPortal(a,document.body)}function Gy({item:e,itemType:t,isOpen:n,onClose:r,zIndex:s,onNavigate:o,mode:l="mobile",position:i}){const a=xs(),[u,f]=v.useState(!1),[d,p]=v.useState(null),[k,x]=v.useState(null),{playTrack:g,playAlbum:w,addToQueueWithToast:m,playNext:h,shuffleArtist:y,toggleShuffle:I}=ee(),{startSync:S,completeSync:E}=el(),{genres:N}=xe(),{updateEventMetadata:P}=rt(),T=v.useRef(e),_=v.useRef(t);v.useEffect(()=>{T.current=e,_.current=t},[e,t]),v.useEffect(()=>{if(!n||!e){x(null);return}(async()=>{var R,C;try{if(t==="album"){const A=await W.getAlbumTracks(e.Id);A.length>0&&((R=A[0].Genres)!=null&&R[0])&&x(A[0].Genres[0])}else if(t==="artist"){const{songs:A}=await W.getArtistItems(e.Id);A.length>0&&((C=A[0].Genres)!=null&&C[0])&&x(A[0].Genres[0])}}catch(A){L.error("Failed to fetch genre:",A)}})()},[n,e==null?void 0:e.Id,t]);const Q=D=>{if(!D)return null;const R=N.find(C=>{var A;return((A=C.Name)==null?void 0:A.toLowerCase())===D.toLowerCase()});return(R==null?void 0:R.Id)||null},se=v.useCallback(async D=>{var A,z,H,K,X,le;const R=T.current,C=_.current;if(R){if(D.startsWith("goTo")){if(r(),o&&o(),D==="goToArtist"){const U=((z=(A=R.ArtistItems)==null?void 0:A[0])==null?void 0:z.Id)||("AlbumArtists"in R?(K=(H=R.AlbumArtists)==null?void 0:H[0])==null?void 0:K.Id:void 0);U&&a(`/artist/${U}`)}else if(D==="goToAlbum")R.AlbumId&&a(`/album/${R.AlbumId}`);else if(D==="goToGenre"){const U=C==="album"||C==="artist"?k:(X=R.Genres)==null?void 0:X[0];if(U){const V=Q(U);if(V)a(`/genre/${V}`);else{const we=(await W.getGenres()).find(Ue=>{var Ee;return((Ee=Ue.Name)==null?void 0:Ee.toLowerCase())===U.toLowerCase()});we!=null&&we.Id&&a(`/genre/${we.Id}`)}}}return}f(!0),p(D);try{switch(C){case"album":{if(D==="play"){const U=await W.getAlbumTracks(R.Id),{shuffle:V}=ee.getState();V&&I(),w(U)}else if(D==="shuffle"){const U=await W.getAlbumTracks(R.Id),{shuffle:V}=ee.getState();V&&I(),w(U),requestAnimationFrame(()=>{const{shuffle:ie}=ee.getState();ie||I()})}else if(D==="playNext"){const U=await W.getAlbumTracks(R.Id);h(U)}else if(D==="addToQueue"){const U=await W.getAlbumTracks(R.Id);m(U)}else if(D==="sync"){S("context-menu",`Syncing ${R.Name}...`);try{(await W.getAlbumTracks(R.Id)).forEach(V=>{var ie;P("song",V.Id,{songName:V.Name||"Unknown",artistNames:(ie=V.ArtistItems)!=null&&ie.length?V.ArtistItems.map(we=>we.Name||"Unknown"):[V.AlbumArtist||"Unknown"],albumName:V.Album||"Unknown",genres:V.Genres||[],year:V.ProductionYear||null})}),E(!0,`${R.Name} synced`)}catch{E(!1,`Failed to sync ${R.Name}`)}}break}case"song":{if(D==="play")L.log("ContextMenu: Playing song",R.Name),g(R);else if(D==="playNext")L.log("ContextMenu: Adding song to play next",R.Name),h([R]);else if(D==="addToQueue")L.log("ContextMenu: Adding song to queue",R.Name),m([R]);else if(D==="sync"){S("context-menu",`Syncing ${R.Name}...`);try{const U=await W.getSongById(R.Id);if(U.Genres){const V=await W.getGenres();U.Genres.forEach(ie=>{const we=V.find(Ue=>{var Ee;return((Ee=Ue.Name)==null?void 0:Ee.toLowerCase())===ie.toLowerCase()});we!=null&&we.Id&&xe.getState().clearGenreSongsForGenre(we.Id)})}P("song",R.Id,{songName:U.Name||"Unknown",artistNames:(le=U.ArtistItems)!=null&&le.length?U.ArtistItems.map(V=>V.Name||"Unknown"):[U.AlbumArtist||"Unknown"],albumName:U.Album||"Unknown",genres:U.Genres||[],year:U.ProductionYear||null}),E(!0,`${R.Name} synced`)}catch{E(!1,`Failed to sync ${R.Name}`)}}break}case"artist":{if(D==="shuffle"){const{songs:U}=await W.getArtistItems(R.Id);y(U)}else if(D==="playNext"){const{songs:U}=await W.getArtistItems(R.Id);h(U)}else if(D==="addToQueue"){const{songs:U}=await W.getArtistItems(R.Id);m(U)}else if(D==="sync"){S("context-menu",`Syncing ${R.Name}...`);try{const{songs:U}=await W.getArtistItems(R.Id);U.forEach(V=>{var ie;P("song",V.Id,{songName:V.Name||"Unknown",artistNames:(ie=V.ArtistItems)!=null&&ie.length?V.ArtistItems.map(we=>we.Name||"Unknown"):[V.AlbumArtist||"Unknown"],albumName:V.Album||"Unknown",genres:V.Genres||[],year:V.ProductionYear||null})}),E(!0,`${R.Name} synced`)}catch{E(!1,`Failed to sync ${R.Name}`)}}break}case"playlist":{if(D==="play"){const U=await W.getAlbumTracks(R.Id),{shuffle:V}=ee.getState();V&&I(),w(U)}else if(D==="shuffle"){const U=await W.getAlbumTracks(R.Id),{shuffle:V}=ee.getState();V&&I(),w(U),requestAnimationFrame(()=>{const{shuffle:ie}=ee.getState();ie||I()})}else if(D==="playNext"){const U=await W.getAlbumTracks(R.Id);h(U)}else if(D==="addToQueue"){const U=await W.getAlbumTracks(R.Id);m(U)}break}}r()}catch(U){L.error("Context menu action failed:",U)}finally{f(!1),p(null)}}},[r,o,a,k,Q,g,w,m,h,y,I,S,E]);if(!e||!t)return null;const O=(()=>{var D,R,C,A,z,H,K;switch(t){case"album":{const X=((R=(D=e.ArtistItems)==null?void 0:D[0])==null?void 0:R.Name)||("AlbumArtists"in e?(A=(C=e.AlbumArtists)==null?void 0:C[0])==null?void 0:A.Name:void 0)||"Artist",le=k||"Genre";return[{id:"play",label:"Play",icon:vn},{id:"shuffle",label:"Shuffle",icon:cr},{id:"playNext",label:"Play Next",icon:Us},{id:"addToQueue",label:"Add to Queue",icon:Ds},{id:"goToArtist",label:`Go to ${X}`,icon:Lo},{id:"goToGenre",label:`Go to ${le}`,icon:no},{id:"sync",label:"Sync",icon:ro}]}case"song":{const X=((H=(z=e.ArtistItems)==null?void 0:z[0])==null?void 0:H.Name)||e.AlbumArtist||"Artist",le=e.Album||"Album",U=((K=e.Genres)==null?void 0:K[0])||"Genre";return[{id:"play",label:"Play",icon:vn},{id:"playNext",label:"Play Next",icon:Us},{id:"addToQueue",label:"Add to Queue",icon:Ds},{id:"goToArtist",label:`Go to ${X}`,icon:Lo},{id:"goToAlbum",label:`Go to ${le}`,icon:La},{id:"goToGenre",label:`Go to ${U}`,icon:no},{id:"sync",label:"Sync",icon:ro}]}case"artist":return[{id:"shuffle",label:"Shuffle",icon:cr},{id:"playNext",label:"Play Next",icon:Us},{id:"addToQueue",label:"Add to Queue",icon:Ds},{id:"goToGenre",label:`Go to ${k||"Genre"}`,icon:no},{id:"sync",label:"Sync",icon:ro}];case"playlist":return[{id:"play",label:"Play",icon:vn},{id:"shuffle",label:"Shuffle",icon:cr},{id:"playNext",label:"Play Next",icon:Us},{id:"addToQueue",label:"Add to Queue",icon:Ds}];default:return[]}})(),he=e.Name||"Unknown";if(l==="desktop"&&n){const R=Math.min(400,O.length*44+8);let C=(i==null?void 0:i.x)||100,A=(i==null?void 0:i.y)||100;return C+240>window.innerWidth&&(C=window.innerWidth-240-10),A+R>window.innerHeight&&(A=window.innerHeight-R-10),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:r,style:{zIndex:s-1}}),c.jsx("div",{className:"fixed z-50 bg-zinc-900 border border-zinc-700 rounded-lg shadow-2xl py-1 min-w-[200px]",style:{left:C,top:A,zIndex:s},onClick:z=>z.stopPropagation(),children:c.jsx("div",{className:"space-y-0",children:O.map(z=>{const H=z.icon,K=u&&d===z.id;return c.jsxs("button",{onClick:()=>se(z.id),disabled:u,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-zinc-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",children:[c.jsx(H,{className:"w-4 h-4 text-white flex-shrink-0"}),c.jsx("span",{className:"flex-1 text-sm text-white",children:z.label}),K&&c.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin flex-shrink-0"})]},z.id)})})})]})}return c.jsx(Vy,{isOpen:n,onClose:r,zIndex:s,children:c.jsxs("div",{className:"pb-6",children:[c.jsx("div",{className:"mb-4 ml-4",children:c.jsx("div",{className:"text-lg font-semibold text-white break-words",children:he})}),c.jsx("div",{className:"space-y-1",children:O.map(D=>{const R=D.icon,C=u&&d===D.id;return c.jsxs("button",{onClick:()=>se(D.id),disabled:u,className:"w-full flex items-center gap-4 pl-4 pr-4 py-3 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(R,{className:"w-5 h-5 text-white"}),c.jsx("span",{className:"flex-1 text-left text-white font-medium",children:D.label}),C&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]},D.id)})})]})})}function Qy({onLongPress:e,onClick:t,delay:n=500,moveThreshold:r=10}){const s=v.useRef(null),o=v.useRef(null),l=v.useRef(!1),i=v.useRef(null),a=v.useRef(!1),u=v.useCallback(p=>{l.current=!1,a.current=!1,o.current=p.target,!("button"in p&&p.button!==0)&&(p.preventDefault(),"touches"in p&&p.touches.length>0?i.current={x:p.touches[0].clientX,y:p.touches[0].clientY}:i.current=null,s.current=setTimeout(()=>{a.current||(l.current=!0,e(p))},n))},[e,n]),f=v.useCallback(p=>{if(!i.current||p.touches.length===0)return;const k=p.touches[0].clientX,x=p.touches[0].clientY,g=Math.abs(k-i.current.x),w=Math.abs(x-i.current.y);Math.sqrt(g*g+w*w)>r&&(a.current=!0,s.current&&(clearTimeout(s.current),s.current=null))},[r]),d=v.useCallback(p=>{if("button"in p&&p.button!==0){l.current=!1,a.current=!1,o.current=null,i.current=null;return}const k=l.current;s.current&&(clearTimeout(s.current),s.current=null),t&&o.current===p.target&&!k&&!a.current&&t(p),l.current=!1,a.current=!1,o.current=null,i.current=null},[t]);return{onMouseDown:u,onTouchStart:u,onTouchMove:f,onMouseUp:d,onMouseLeave:p=>{s.current&&(clearTimeout(s.current),s.current=null),l.current=!1,a.current=!1,o.current=null,i.current=null},onTouchEnd:d}}const Hy=45,Wy=45,Fs=v.memo(function({track:t,index:n,isCurrent:r,isPlaying:s,showRemoveButton:o=!0,onClick:l,onRemove:i,onReorderDragStart:a,onReorderDragEnd:u,onReorderDrop:f,onContextMenu:d,isDragOver:p,onDragEnterRow:k}){var S,E,N,P;const x=v.useRef(!1),g=Qy({onLongPress:T=>{T.preventDefault(),x.current=!0,d(t,"mobile"),setTimeout(()=>{x.current=!1},300)}}),w=v.useCallback(T=>{if(x.current){T.preventDefault(),T.stopPropagation();return}l()},[l]),m=v.useCallback(T=>{T.preventDefault(),x.current=!0,d(t,"desktop",{x:T.clientX,y:T.clientY}),setTimeout(()=>{x.current=!1},300)},[d,t]),h=v.useCallback(T=>{T.preventDefault(),T.dataTransfer.dropEffect="move"},[]),y=v.useCallback(T=>{T.preventDefault(),r||k(n)},[r,k,n]),I=v.useCallback(T=>{r||f(T,n)},[r,f,n]);return c.jsxs("div",{onDragOver:h,onDragEnter:y,onDrop:I,className:`queue-row flex items-center gap-3 p-3 ${r?"cursor-pointer":"hover:bg-zinc-900 cursor-pointer"} ${r?"bg-zinc-900":""} relative focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] focus-visible:ring-inset`,onClick:r?void 0:w,onContextMenu:m,tabIndex:0,role:"button","aria-label":`${t.Name} by ${((E=(S=t.ArtistItems)==null?void 0:S[0])==null?void 0:E.Name)||t.AlbumArtist||"Unknown Artist"}`,...g,children:[p&&!r&&c.jsx("div",{className:"absolute left-3 right-3 top-0 h-0.5 bg-[var(--accent-color)] rounded-full pointer-events-none"}),c.jsx("div",{className:"queue-drag-art w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 ml-1",children:c.jsx(Mo,{src:W.getAlbumArtUrl(t.AlbumId||t.Id,96),alt:t.Name,className:"w-full h-full object-cover",showOutline:!1,rounded:"rounded-sm"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-sm font-medium truncate ${r?"text-[var(--accent-color)]":"text-white"}`,children:t.Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((P=(N=t.ArtistItems)==null?void 0:N[0])==null?void 0:P.Name)||t.AlbumArtist||"Unknown Artist"})]}),r?c.jsx("button",{onClick:T=>{T.stopPropagation(),l()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":s?"Pause":"Play",children:s?c.jsx(hs,{className:"w-5 h-5"}):c.jsx(vn,{className:"w-5 h-5"})}):c.jsx(c.Fragment,{children:o&&c.jsxs(c.Fragment,{children:[c.jsx("button",{draggable:!0,onMouseDown:T=>T.stopPropagation(),onTouchStart:T=>T.stopPropagation(),onDragStart:T=>{T.stopPropagation(),a(T,n)},onDragEnd:T=>{T.stopPropagation(),u()},className:"text-gray-500 hover:text-zinc-300 transition-colors p-2 cursor-grab active:cursor-grabbing focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Drag to reorder",children:c.jsx(ry,{className:"w-4 h-4"})}),i&&c.jsx("button",{onClick:T=>{T.stopPropagation(),i()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Remove from queue",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})});function Ba({onNavigateFromContextMenu:e,header:t,contentPaddingBottom:n="8rem"}){const[r,s]=v.useState(!1),[o,l]=v.useState(null),[i,a]=v.useState("mobile"),[u,f]=v.useState(null),[d,p]=v.useState(null),[k,x]=v.useState(null),[g,w]=v.useState(Hy),[m,h]=v.useState(!1),[y,I]=v.useState(!1),S=v.useRef(null),{songs:E,currentIndex:N,isPlaying:P,togglePlayPause:T,skipToTrack:_,removeFromQueue:Q,reorderQueue:se,isFetchingRecommendations:Ce,isLoadingMoreSongs:O,repeat:he}=ee(),{showQueueRecommendations:D,setShowQueueRecommendations:R,recommendationsQuality:C}=ot(),A=v.useCallback((B,F)=>{B.dataTransfer.effectAllowed="move",B.dataTransfer.setData("text/plain",F.toString()),x(F),S.current=F;const G=B.currentTarget,Z=G==null?void 0:G.closest(".queue-row");if(Z&&B.dataTransfer.setDragImage){const Se=Z.querySelector(".queue-drag-art")??Z,et=Se.getBoundingClientRect();B.dataTransfer.setDragImage(Se,et.width/2,et.height/2)}},[]),z=v.useCallback(()=>{x(null),p(null),S.current=null},[]),H=v.useCallback((B,F)=>{B.preventDefault();const G=B.dataTransfer.getData("text/plain")||B.dataTransfer.getData("text/html"),Z=parseInt(G,10);if(Number.isNaN(Z))return;const Me=S.current??Z,Se=ee.getState().songs,et=Se[Me],Kt=Se[F];if(et&&Kt&&et.source!==Kt.source){p(null),x(null),S.current=null;return}Z!==F&&se(Z,F),p(null),x(null),S.current=null},[se]),K=v.useCallback((B,F="mobile",G)=>{l(B),a(F),f(G||null),s(!0)},[]),X=v.useCallback(B=>{if(S.current==null)return;const F=ee.getState().songs,G=F[S.current],Z=F[B];if(!(!G||!Z)){if(G.source!==Z.source){p(null);return}p(B)}},[]),le=N>=0?E[N]:null,U=E.filter((B,F)=>F<N);let V=-1;for(let B=E.length-1;B>N;B--)if(E[B].source==="user"){V=B;break}const ie=E.filter((B,F)=>F<=N?!1:V!==-1?F<=V:!1),we=E.filter((B,F)=>B.source!=="recommendation"||F<=N?!1:V!==-1?F>V:!0);let Ue=g;const Ee=U.slice(-Math.min(Ue,U.length));Ue-=Ee.length,Ue-=le?1:0;const re=ie.slice(0,Math.max(0,Ue));Ue-=re.length;const qt=we.slice(0,Math.max(0,Ue));return v.useEffect(()=>{const B=document.querySelector(".queue-list-container");if(!B)return;const F=()=>{const G=B.scrollTop,Z=B.clientHeight,Me=B.scrollHeight;G+Z*2.5>=Me&&w(Se=>Math.min(Se+Wy,E.length))};return B.addEventListener("scroll",F,{passive:!0}),F(),()=>B.removeEventListener("scroll",F)},[E.length]),v.useEffect(()=>{if(Ce){const B=setTimeout(()=>{I(!0)},2e3);return()=>clearTimeout(B)}else I(!1)},[Ce]),c.jsx("div",{className:"flex-1 flex flex-col min-h-0 w-full relative",children:c.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 queue-list-container w-full",style:{paddingBottom:"8rem"},children:[c.jsxs("div",{className:"max-w-[864px] mx-auto w-full",children:[t,E.length===0&&!le?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 py-10",children:c.jsx("p",{children:"Queue is empty"})}):c.jsxs("div",{children:[Ee.length>0&&m&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Previous"}),c.jsx("button",{onClick:()=>h(!1),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Hide"})]}),Ee.map((B,F)=>{const G=E.indexOf(B);return c.jsx(Fs,{track:B,index:G,isCurrent:!1,isPlaying:!1,showRemoveButton:!1,onClick:()=>_(G),onReorderDragStart:A,onReorderDragEnd:z,onReorderDrop:H,onContextMenu:K,isDragOver:!1,onDragEnterRow:X},`${B.Id}-${F}`)})]}),le&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Now Playing"}),Ee.length>0&&!m&&c.jsx("button",{onClick:()=>h(!0),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Show Previous"})]}),c.jsx(Fs,{track:le,index:N,isCurrent:!0,isPlaying:P,showRemoveButton:!1,onClick:T,onReorderDragStart:A,onReorderDragEnd:z,onReorderDrop:H,onContextMenu:K,isDragOver:!1,onDragEnterRow:X})]}),re.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Coming Up"}),c.jsx("button",{onClick:()=>{const F=E.filter((Z,Me)=>Me<=N||Z.source==="recommendation"),G=Math.min(N,F.length-1);ee.setState({songs:F,currentIndex:G,standardOrder:F.filter(Z=>Z.source==="user").map(Z=>Z.Id),shuffleOrder:F.filter(Z=>Z.source==="user").map(Z=>Z.Id)})},className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Clear"})]}),re.map((B,F)=>{const G=E.indexOf(B);return c.jsx(Fs,{track:B,index:G,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>_(G),onRemove:()=>Q(G),onReorderDragStart:A,onReorderDragEnd:z,onReorderDrop:H,onContextMenu:K,isDragOver:d===G,onDragEnterRow:X},`${B.Id}-${F}`)}),O&&c.jsxs("div",{className:"flex items-center justify-center py-4",children:[c.jsx(Sc,{}),c.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Loading more songs..."})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Recommendations"}),c.jsx("button",{disabled:he!=="off",onClick:()=>{const B=!D;if(R(B),!B){const F=E.filter((G,Z)=>Z<=N?!0:G.source==="user");ee.setState({songs:F,currentIndex:N,standardOrder:F.filter(G=>G.source==="user").map(G=>G.Id),shuffleOrder:F.filter(G=>G.source==="user").map(G=>G.Id)})}},className:`relative w-12 h-6 rounded-full transition-colors ${D&&he==="off"?"bg-[var(--accent-color)]":"bg-zinc-600"} ${he!=="off"?"opacity-50 cursor-not-allowed":""}`,children:c.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${D&&he==="off"?"translate-x-6":"translate-x-0"}`})})]}),c.jsxs("div",{className:"px-4 pb-2",children:[he!=="off"&&c.jsx("span",{className:"text-xs text-gray-400 font-normal block mb-1",children:"Disabled when repeat mode is active"}),(y||C==="failed")&&c.jsxs(c.Fragment,{children:[y&&c.jsx("span",{className:"text-xs text-gray-400 font-normal block",children:"Syncing genres..."}),!Ce&&C==="failed"&&c.jsx("span",{className:"text-xs text-gray-400 font-normal block",children:"Sync library in settings"})]})]}),D&&he==="off"&&c.jsxs(c.Fragment,{children:[qt.map((B,F)=>{const G=E.indexOf(B);return c.jsx(Fs,{track:B,index:G,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>_(G),onRemove:()=>Q(G),onReorderDragStart:A,onReorderDragEnd:z,onReorderDrop:H,onContextMenu:K,isDragOver:d===G,onDragEnterRow:X},`${B.Id}-${F}`)}),y&&c.jsx("div",{className:"px-4 pt-4 pb-6 flex justify-center",children:c.jsx(Sc,{})})]})]})]})]}),c.jsx(Gy,{item:o,itemType:o?"song":null,isOpen:r,onClose:()=>{s(!1),l(null)},onNavigate:e,mode:i,position:u||void 0})]})})}function Yy({onClose:e,onNavigateFromContextMenu:t}){const{songs:n,currentIndex:r,isPlaying:s,shuffle:o,repeat:l,togglePlayPause:i,toggleShuffle:a,toggleRepeat:u,next:f,previous:d}=ee(),p=r>=0&&r<n.length-1,k=r>0;return c.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[c.jsx(Ba,{onNavigateFromContextMenu:t,contentPaddingBottom:"8rem"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:c.jsx("div",{className:"px-6 pt-2 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:c.jsxs("div",{className:"flex items-center justify-center gap-8",children:[c.jsx("button",{onClick:a,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${o?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(cr,{className:"w-6 h-6"})}),c.jsx("button",{onClick:d,disabled:!k,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${k?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx($a,{className:"w-8 h-8"})}),c.jsx("button",{onClick:i,className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:s?c.jsx(hs,{className:"w-8 h-8"}):c.jsx(vn,{className:"w-8 h-8"})}),c.jsx("button",{onClick:f,disabled:!p,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${p?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(Oa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:u,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${l!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:l==="one"?c.jsx(Ma,{className:"w-6 h-6"}):c.jsx(za,{className:"w-6 h-6"})})]})})})]})}function qy(){const e=Ua(),t=Fa(),{isQueueSidebarOpen:n}=ee(),r=e||t,[s,o]=v.useState(null),[l,i]=v.useState(!1);return v.useEffect(()=>{(async()=>{if(!r){o(null);return}i(!0);try{const u=await W.getLyrics(r.Id);o(u)}catch(u){L.error("Failed to fetch lyrics:",u),o(null)}finally{i(!1)}})()},[r==null?void 0:r.Id]),r?c.jsxs("div",{className:`fixed left-0 right-0 z-[55] flex flex-col ${n?"lyrics-with-sidebar":""}`,style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top) + 4rem)",bottom:"calc(11rem + env(safe-area-inset-bottom))"},children:[c.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 py-4 relative",children:l?c.jsx("div",{className:"flex items-center justify-center h-full px-6",children:c.jsx("div",{className:"text-white/50",children:"Loading lyrics..."})}):s?c.jsx("div",{className:"max-w-[768px] lg:max-w-[864px] mx-auto pb-8 pl-8 pr-4",children:c.jsx("div",{className:"text-white text-center whitespace-pre-line leading-relaxed text-base lg:text-xl",children:s.split(`
`).map((a,u)=>c.jsx("div",{className:"mb-2",children:a},u))})}):c.jsx("div",{className:"flex items-center justify-center h-full px-6",children:c.jsx("div",{className:"text-white/50 text-center",children:"This song has no lyrics"})})}),c.jsx("div",{className:"h-px bg-white/20 flex-shrink-0"})]}):null}function Ky({onClose:e,onClosingStart:t,closeRef:n}){const r=xs(),{songs:s,currentIndex:o,isPlaying:l,currentTime:i,duration:a,shuffle:u,repeat:f,togglePlayPause:d,next:p,previous:k,seek:x,setVolume:g,toggleShuffle:w,toggleRepeat:m,playTrack:h,isQueueSidebarOpen:y,toggleQueueSidebar:I}=ee(),S=Ua(),E=Fa(),N=S||E,[P,T]=v.useState(!1);v.useEffect(()=>{T(!1)},[]);const[_,Q]=v.useState(!1),[se,Ce]=v.useState(!1),[O,he]=v.useState(null),[D,R]=v.useState("up"),[C,A]=v.useState(null),[z,H]=v.useState(null),[K,X]=v.useState(!1),[le,U]=v.useState(!1),[V,ie]=v.useState(!1),[we,Ue]=v.useState(!1),[Ee,re]=v.useState(null),[qt,B]=v.useState(null),F=v.useRef(null),G=v.useRef(null),Z=v.useRef(null),Me=v.useRef(null),Se=v.useRef(!1),et=v.useRef(null);v.useEffect(()=>{const M=window.getComputedStyle(document.body).overflowY,Y=window.getComputedStyle(document.documentElement).overflowY,q=document.getElementById("root")?window.getComputedStyle(document.getElementById("root")).overflowY:"N/A";document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden";const He=document.getElementById("root");return He&&(He.style.overflowY="hidden"),()=>{document.body.style.overflowY=M,document.documentElement.style.overflowY=Y,He&&(He.style.overflowY=q!=="N/A"?q:"")}},[]),v.useEffect(()=>{requestAnimationFrame(()=>{ie(!0)})},[]);const Kt=s.length>0&&(o<0||o<s.length-1||f!=="off"),Er=o>0||f==="all"&&s.length>0;v.useEffect(()=>{(async()=>{if(!N){X(!1);return}try{const Y=await W.getLyrics(N.Id),q=Y!==null&&Y.trim().length>0;X(q)}catch{X(!1)}})()},[N]);const b=M=>{if(!M)return"Unknown";if(M.Name&&M.Name.trim())return M.Name;const Y=M.Path;return Y&&typeof Y=="string"&&(Y.split("/").pop()||Y.split("\\").pop())||"Unknown"},ae=M=>{var Y,q;return M&&(((q=(Y=M.ArtistItems)==null?void 0:Y[0])==null?void 0:q.Name)||M.AlbumArtist)||""};if(v.useEffect(()=>{"mediaSession"in navigator&&N&&(navigator.mediaSession.metadata=new MediaMetadata({title:b(N),artist:ae(N),album:N.Album||"",artwork:[{src:W.getAlbumArtUrl(N.AlbumId||N.Id,512),sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",d),navigator.mediaSession.setActionHandler("pause",d),navigator.mediaSession.setActionHandler("previoustrack",k),navigator.mediaSession.setActionHandler("nexttrack",p))},[N,l,d,p,k]),v.useEffect(()=>{if("mediaSession"in navigator&&"setPositionState"in navigator.mediaSession&&a>0)try{navigator.mediaSession.setPositionState({duration:a,playbackRate:1,position:Math.min(i,a)})}catch{}},[i,a]),v.useEffect(()=>{Ue(!1)},[N==null?void 0:N.Id]),v.useEffect(()=>{if(!N)return;const M=W.getAlbumArtUrl(N.AlbumId||N.Id);if(!Ee){re(M);return}if(M===Ee)return;const Y=new window.Image,q=()=>{B(Ee),re(M),setTimeout(()=>{B(null)},1100)};Y.onload=q,Y.onerror=q,Y.src=M},[N==null?void 0:N.Id,N==null?void 0:N.AlbumId]),!N)return null;const ue=a>0?i/a*100:0,xt=M=>{const Y=Math.floor(M/60),q=Math.floor(M%60);return`${Y}:${q.toString().padStart(2,"0")}`},Xt=()=>{if(N.Name&&N.Name.trim())return N.Name;const M=N.Path;return M&&typeof M=="string"&&(M.split("/").pop()||M.split("\\").pop())||"Unknown"},Jt=()=>{var M,Y;return((Y=(M=N.ArtistItems)==null?void 0:M[0])==null?void 0:Y.Name)||N.AlbumArtist},Zt=N.AlbumId&&N.Album&&N.Album.trim(),Qe=M=>{if(!F.current||!a||Se.current)return;const Y=F.current.getBoundingClientRect(),q=(M.clientX-Y.left)/Y.width;x(Math.max(0,Math.min(1,q))*a)},bt=M=>{if(!F.current||!a)return;Se.current=!0,et.current=M.clientX;const Y=F.current.getBoundingClientRect(),q=(M.clientX-Y.left)/Y.width;x(Math.max(0,Math.min(1,q))*a)},Un=()=>{Se.current=!1,et.current=null},sh=M=>{if(!F.current||!a)return;M.stopPropagation(),Se.current=!0;const Y=M.touches[0],q=F.current.getBoundingClientRect(),He=(Y.clientX-q.left)/q.width;x(Math.max(0,Math.min(1,He))*a)},oh=M=>{if(!Se.current||!F.current||!a)return;M.stopPropagation(),M.preventDefault();const Y=M.touches[0],q=F.current.getBoundingClientRect(),He=(Y.clientX-q.left)/q.width;x(Math.max(0,Math.min(1,He))*a)},lh=M=>{M.stopPropagation(),Se.current=!1,et.current=null};v.useEffect(()=>{let M=null;const Y=He=>{!Se.current||!F.current||!a||M===null&&(M=requestAnimationFrame(()=>{if(M=null,!Se.current||!F.current)return;const Ss=F.current.getBoundingClientRect(),tl=(He.clientX-Ss.left)/Ss.width;x(Math.max(0,Math.min(1,tl))*a)}))},q=()=>{Se.current&&(Se.current=!1,et.current=null),M!==null&&(cancelAnimationFrame(M),M=null)};return document.addEventListener("mousemove",Y),document.addEventListener("mouseup",q),()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",q),M!==null&&cancelAnimationFrame(M)}},[a,x]);const Nr=()=>{U(!0),t==null||t(),setTimeout(()=>{e()},300)},ih=(M="up")=>{const Y=M==="down"?z:C;if(Y){const q=Y.getBoundingClientRect();he({top:M==="down"?q.bottom:q.top,left:q.left+q.width/2}),R(M),Ce(!0)}};v.useEffect(()=>(n&&(n.current=Nr),()=>{n&&(n.current=null)}),[n]);const ah=M=>{P||_||(G.current=M.touches[0].clientY,Z.current=Date.now())},uh=M=>{if(P||_||G.current===null)return;const q=M.touches[0].clientY-G.current;if(q>0&&Me.current){const He=Math.min(q,window.innerHeight*.5);Me.current.style.transform=`translateY(${He}px)`}},ch=M=>{if(P||_||G.current===null||Z.current===null){G.current=null,Z.current=null,Me.current&&(Me.current.style.transform="");return}const q=M.changedTouches[0].clientY-G.current,He=Date.now()-Z.current,Ss=50,tl=.3;Me.current&&(Me.current.style.transform="");const dh=q/He;(q>Ss||q>30&&dh>tl)&&Nr(),G.current=null,Z.current=null};return c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
      @media (min-aspect-ratio: 4/3) and (min-width: 768px) {
        .landscape\\:flex-row { flex-direction: row; }
        .landscape\\:items-center { align-items: center; }
        .landscape\\:gap-8 { gap: 2rem; }
        .landscape\\:order-1 { order: 1; }
        .landscape\\:flex-shrink-0 { flex-shrink: 0; }
        .landscape\\:order-2 { order: 2; }
        .landscape\\:text-left { text-align: left; }
        .landscape\\:flex-1 { flex: 1; }
        .landscape\\:max-w-xs { max-width: 20rem; }
        .landscape\\:justify-start { justify-content: flex-start; }
        .landscape\\:mx-0 { margin-left: 0; margin-right: 0; }
      }

      @media (min-width: 1024px) {
        .lg\\:max-w-\\[864px\\] { max-width: 864px; }
      }

      /* Queue sidebar in player modal - transparent backgrounds (exclude fixed elements like context menus) */
      .queue-xl-container .bg-zinc-900:not([style*="position: fixed"]):not(.fixed) { background-color: transparent; }
      .queue-xl-container .hover\\:bg-zinc-900:hover:not([style*="position: fixed"]):not(.fixed) { background-color: rgba(255, 255, 255, 0.1); }
      .queue-xl-container .hover\\:bg-zinc-800:hover { background-color: rgba(255, 255, 255, 0.1); }
      .queue-xl-container .text-\\[var\\(--accent-color\\)\\] { color: white; }

      /* Background crossfade animation - only on large screens */
      @keyframes bgFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .bg-fade-in {
        animation: none; /* Instant on smaller screens */
      }
      @media (min-width: 1280px) {
        .bg-fade-in {
          animation: bgFadeIn 1s ease-out forwards;
        }
      }

      /* Lyrics modal with sidebar - adjust right edge on xl screens */
      @media (min-width: 1280px) {
        .lyrics-with-sidebar { right: var(--sidebar-width) !important; }
      }
    `}),c.jsxs("div",{ref:Me,onTouchStart:ah,onTouchMove:uh,onTouchEnd:ch,className:`fixed left-0 right-0 bg-zinc-900 z-[70] flex transition-transform duration-300 ease-out overflow-hidden ${le?"translate-y-full":V?"translate-y-0":"translate-y-full"}`,style:{top:"var(--header-offset, 0px)",paddingTop:"calc(env(safe-area-inset-top) + var(--header-offset, 0px))",bottom:"calc(-1 * env(safe-area-inset-bottom))",height:"calc(100% + env(safe-area-inset-bottom) + var(--header-offset, 0px))",transition:G.current===null?"transform 300ms ease-out":"none"},children:[!we&&(Ee||qt)&&c.jsxs("div",{className:P?"hidden xl:contents":"contents",children:[qt&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${qt})`,filter:"blur(100px)",transform:"scale(1.2)"}}),c.jsx("div",{className:"absolute top-0 left-0 right-0 h-[150px] bg-gradient-to-b from-black/40 to-transparent pointer-events-none"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[200px] bg-gradient-to-t from-zinc-900/50 to-transparent pointer-events-none"})]}),Ee&&c.jsxs("div",{className:"absolute inset-0 bg-fade-in",children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Ee})`,filter:"blur(100px)",transform:"scale(1.2)"}}),c.jsx("div",{className:"absolute top-0 left-0 right-0 h-[150px] bg-gradient-to-b from-black/40 to-transparent pointer-events-none"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[200px] bg-gradient-to-t from-zinc-900/50 to-transparent pointer-events-none"})]},Ee)]}),c.jsx("div",{className:P?"hidden xl:contents":"contents",children:c.jsx("div",{className:"absolute inset-0 bg-black/40 z-[1] pointer-events-none"})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative z-[2]",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 relative",children:[c.jsx("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:c.jsx("button",{onClick:Nr,className:"text-white hover:text-zinc-300 transition-colors z-10 flex-shrink-0",children:c.jsx(q0,{className:"w-8 h-8"})})}),_&&N&&c.jsx("h2",{className:"absolute left-0 right-0 text-center text-white text-sm sm:text-base font-medium px-20 truncate",children:Xt()}),c.jsxs("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:[c.jsx("div",{className:`${P?"xl:hidden":"md:hidden"} ${_?"hidden":""}`,children:!Dt()&&c.jsx(Ut,{variant:"compact",onOpenPopover:()=>ih("down"),onRef:H,className:"text-white hover:text-zinc-300 hover:bg-white/10 rounded-full transition-colors p-2"})}),c.jsx("button",{onClick:()=>{!K&&!_||(P&&T(!1),Q(!_))},className:`transition-colors p-2 rounded-full ${K||_?`hover:bg-white/10 ${_?"text-[var(--accent-color)]":"text-white"}`:"invisible pointer-events-none"}`,children:c.jsx(py,{className:"w-6 h-6"})}),c.jsx("button",{onClick:()=>{P||Q(!1),T(!P)},className:"text-white hover:bg-white/10 rounded-full transition-colors p-2 xl:hidden",children:P?c.jsx(Ty,{className:"w-6 h-6"}):c.jsx(_i,{className:"w-6 h-6"})}),!y&&c.jsx("button",{onClick:I,className:"text-white hover:bg-white/10 rounded-full transition-colors p-2 hidden xl:block",children:c.jsx(_i,{className:"w-6 h-6"})})]})]}),P&&c.jsx("div",{className:"flex-1 bg-zinc-900 relative z-10 xl:hidden",children:c.jsx(Yy,{onClose:()=>T(!1),onNavigateFromContextMenu:()=>{Nr()}})}),c.jsxs("div",{className:`flex-1 flex-col min-h-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full relative ${P?"hidden xl:flex":"flex"}`,style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("div",{className:`flex-1 overflow-hidden min-h-0 flex items-center justify-center ${_?"invisible":""}`,children:c.jsx("div",{className:"w-full flex flex-col items-center px-4 sm:px-8 md:pr-0",children:c.jsxs("div",{className:"w-full flex flex-col items-center landscape:flex-row landscape:items-center landscape:gap-8",children:[c.jsx("div",{className:"landscape:order-1 landscape:flex-shrink-0",children:c.jsx("div",{className:`rounded overflow-hidden mb-4 lg:mb-8 bg-zinc-900 ${we?"":"shadow-2xl"}`,style:{width:"clamp(224px, min(70vw, 50vh), 480px)",height:"clamp(224px, min(70vw, 50vh), 480px)",maxWidth:"100%"},children:we?c.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-zinc-900 flex items-center justify-center relative",children:c.jsx("img",{src:"/assets/vinyl.png",alt:"Vinyl Record",className:"w-full h-full object-cover",onError:M=>{L.error("Failed to load vinyl image"),M.currentTarget.style.display="none"}})}):c.jsx(Mo,{src:W.getAlbumArtUrl(N.AlbumId||N.Id),alt:N.Name,className:"w-full h-full object-cover",rounded:"rounded",onError:()=>Ue(!0)})})}),c.jsxs("div",{className:"text-center landscape:text-left w-full landscape:order-2 landscape:flex-1 landscape:max-w-xs",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:Xt()}),Jt()&&c.jsxs("button",{onClick:()=>{var Y,q;const M=(q=(Y=N.ArtistItems)==null?void 0:Y[0])==null?void 0:q.Id;M&&(e(),r(`/artist/${M}`))},className:"flex items-center justify-start landscape:justify-start gap-2 text-white/70 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left max-w-full min-w-0",children:[c.jsx(Lo,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:Jt()})]}),Zt&&c.jsxs("button",{onClick:()=>{e(),r(`/album/${N.AlbumId}`)},className:"flex items-center justify-start landscape:justify-start gap-2 text-white/70 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left mt-1 max-w-full min-w-0",children:[c.jsx(La,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:N.Album})]})]})]})})}),c.jsxs("div",{className:"pt-2 space-y-6 flex-shrink-0 mt-4 sm:mt-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"1.5rem"},children:[c.jsx("div",{className:"space-y-3 px-4 w-full",children:c.jsxs("div",{className:"max-w-[768px] lg:max-w-[864px] mx-auto",children:[c.jsx("div",{ref:F,className:"h-2 bg-zinc-800/35 rounded-full cursor-pointer w-full select-none overflow-hidden",onClick:Qe,onMouseDown:bt,onMouseUp:Un,onMouseLeave:Un,onTouchStart:sh,onTouchMove:oh,onTouchEnd:lh,children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${ue}%`,borderTopLeftRadius:"9999px",borderBottomLeftRadius:"9999px",borderTopRightRadius:ue>=100?"9999px":"0",borderBottomRightRadius:ue>=100?"9999px":"0"}})}),c.jsxs("div",{className:"flex justify-between text-xs text-white/70 mt-2",children:[c.jsx("span",{children:xt(i)}),c.jsx("span",{children:xt(a)})]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 relative",children:[c.jsx("button",{onClick:w,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${u?"text-[var(--accent-color)]":"text-white/70 hover:text-white"}`,children:c.jsx(cr,{className:"w-6 h-6"})}),c.jsx("button",{onClick:k,disabled:!Er,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${Er?"text-white hover:bg-zinc-800/35 active:bg-zinc-800/35":"text-white/30 cursor-not-allowed"}`,children:c.jsx($a,{className:"w-8 h-8"})}),c.jsx("button",{onClick:()=>{S?d():N&&h(N)},className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:l&&S?c.jsx(hs,{className:"w-8 h-8"}):c.jsx(vn,{className:"w-8 h-8"})}),c.jsx("button",{onClick:p,disabled:!Kt,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${Kt?"text-white hover:bg-zinc-800/35 active:bg-zinc-800/35":"text-white/30 cursor-not-allowed"}`,children:c.jsx(Oa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:m,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${f!=="off"?"text-[var(--accent-color)]":"text-white/70 hover:text-white"}`,children:f==="one"?c.jsx(Ma,{className:"w-6 h-6"}):c.jsx(za,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 hidden md:flex",children:!Dt()&&c.jsx(Ut,{variant:"horizontal"})})]})]})]}),_&&c.jsx(qy,{}),se&&O&&!Dt()&&c.jsx(Ut,{variant:"vertical",onClose:()=>Ce(!1),popoverPosition:O,popoverDirection:D})]}),y&&c.jsxs("div",{className:"hidden xl:flex flex-col flex-shrink-0 border-l border-white/20 relative z-10",style:{width:"var(--sidebar-width)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/20 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:I,className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10 relative z-20",children:c.jsx(Da,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 queue-xl-container [&_.text-gray-400]:text-white/60 [&_.text-gray-500]:text-white/50 [&_.text-gray-300]:text-white/70 [&_.border-zinc-800]:border-white/20 [&_.bg-zinc-600]:bg-white/30",children:c.jsx(Ba,{onNavigateFromContextMenu:Nr,contentPaddingBottom:"2rem"})})]})]})]})}function Xy(){var Se,et,Kt,Er;const{songs:e,currentIndex:t,isPlaying:n,currentTime:r,duration:s,audioElement:o,setAudioElement:l,togglePlayPause:i,next:a,setCurrentTime:u,setDuration:f,playTrack:d,repeat:p,shuffle:k,toggleShuffle:x,toggleRepeat:g,previous:w,seek:m,skipToTrack:h,isQueueSidebarOpen:y,toggleQueueSidebar:I}=ee(),S=Ua(),E=Fa(),[N,P]=v.useState(!1),[T,_]=v.useState(!1),[Q,se]=v.useState(!1),[Ce,O]=v.useState(!1),[he,D]=v.useState(null),[R,C]=v.useState(null),[A,z]=v.useState(null),H=v.useRef(null),K=v.useRef(null),X=v.useRef(null),le=v.useRef(!1),U=Yt(),V=v.useRef(null),ie=v.useRef(null),we=v.useRef(null);v.useEffect(()=>{N&&(_(!0),setTimeout(()=>{P(!1),_(!1)},300))},[U.pathname]),v.useEffect(()=>{P(!1),_(!1)},[]),v.useEffect(()=>{const b=()=>{N&&K.current&&K.current()};return window.addEventListener("closePlayerModal",b),()=>{window.removeEventListener("closePlayerModal",b)}},[N]);const Ue=()=>{_(!0),setTimeout(()=>{P(!1),_(!1)},300)};v.useEffect(()=>{H.current||(H.current=new Audio,H.current.setAttribute("playsinline","true"),H.current.setAttribute("preload","auto"),l(H.current));const b=H.current;if(!b)return;const ae=()=>{u(b.currentTime);const Zt=b.duration-b.currentTime;if(!le.current&&b.duration>0&&Zt<=1&&Zt>0){le.current=!0;const Qe=ee.getState(),bt=Qe.currentIndex>=0&&Qe.currentIndex<Qe.songs.length?Qe.songs[Qe.currentIndex]:null;if(Qe.repeat==="one"){if(bt&&!Qe.hasRecordedCurrentTrackStats){const Un=b.currentTime*1e3;rt.getState().recordPlay(bt,Un)}ee.setState({hasRecordedCurrentTrackStats:!1}),b.currentTime=0,le.current=!1;return}if(bt){W.markItemAsPlayed(bt.Id).catch(()=>{}),X.current&&clearTimeout(X.current);const Un=bt.Id;X.current=setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:Un}})),X.current=null},4e3)}a()}},ue=()=>{f(b.duration),le.current=!1},xt=async()=>{if(le.current){le.current=!1;return}if(S)try{await W.markItemAsPlayed(S.Id),X.current&&clearTimeout(X.current);const Qe=S.Id;X.current=setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:Qe}})),X.current=null},4e3)}catch{}if(ee.getState().repeat==="one"&&b){const Qe=ee.getState().hasRecordedCurrentTrackStats;if(S&&!Qe){const bt=b.currentTime*1e3;rt.getState().recordPlay(S,bt)}ee.setState({hasRecordedCurrentTrackStats:!1}),b.currentTime=0,b.play();return}a()},Xt=()=>{ee.setState({isPlaying:!0})},Jt=()=>{ee.setState({isPlaying:!1})};return b.addEventListener("timeupdate",ae),b.addEventListener("loadedmetadata",ue),b.addEventListener("ended",xt),b.addEventListener("play",Xt),b.addEventListener("pause",Jt),()=>{b.removeEventListener("timeupdate",ae),b.removeEventListener("loadedmetadata",ue),b.removeEventListener("ended",xt),b.removeEventListener("play",Xt),b.removeEventListener("pause",Jt),X.current&&(clearTimeout(X.current),X.current=null)}},[l,u,f,a]),v.useEffect(()=>{H.current&&(H.current.volume=ee.getState().volume)},[]),v.useEffect(()=>{var b,ae;"mediaSession"in navigator&&S&&(navigator.mediaSession.metadata=new MediaMetadata({title:S.Name||"Unknown",artist:((ae=(b=S.ArtistItems)==null?void 0:b[0])==null?void 0:ae.Name)||S.AlbumArtist||"",album:S.Album||"",artwork:[{src:W.getAlbumArtUrl(S.AlbumId||S.Id,512),sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",i),navigator.mediaSession.setActionHandler("pause",i),navigator.mediaSession.setActionHandler("previoustrack",w),navigator.mediaSession.setActionHandler("nexttrack",a))},[S,i,a,w]),v.useEffect(()=>{if("mediaSession"in navigator&&"setPositionState"in navigator.mediaSession&&s>0)try{navigator.mediaSession.setPositionState({duration:s,playbackRate:1,position:Math.min(r,s)})}catch{}},[r,s]),v.useEffect(()=>{if(S&&!n&&o){const b=W.serverBaseUrl,ae=b?`${b}/Audio/${S.Id}/stream?static=true`:"";o.src!==ae&&(o.src=ae,o.load())}},[S,n,o]),v.useEffect(()=>{if(o&&S&&!n){const b=W.serverBaseUrl,ae=b?`${b}/Audio/${S.Id}/stream?static=true`:"";o.src!==ae&&(o.src=ae,o.load())}},[o,S,n]);const Ee=e.length>0?e[0]:null,re=S||E||Ee;v.useEffect(()=>{se(!1)},[re==null?void 0:re.Id]);const qt=s>0?r/s*100:0,B=e.length>0&&(t<0||t<e.length-1||p!=="off"),F=t>0||p==="all"&&e.length>0,G=()=>{const ae=window.innerWidth<768?A:R;if(ae){const ue=ae.getBoundingClientRect();D({top:ue.top,left:ue.left+ue.width/2}),O(!0)}},Z=b=>{V.current=b.touches[0].clientX,ie.current=Date.now()},Me=b=>{if(V.current===null||ie.current===null){V.current=null,ie.current=null;return}const ue=b.changedTouches[0].clientX-V.current,xt=Date.now()-ie.current,Xt=50,Jt=.3,Zt=Math.abs(ue)/xt;ue>Xt||ue>30&&Zt>Jt?F&&w():(ue<-Xt||ue<-30&&Zt>Jt)&&B&&a(),V.current=null,ie.current=null};return re?c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:we,className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 cursor-pointer bottom-[calc(4rem-8px)] lg:bottom-0",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:()=>{P(!0)},onTouchStart:Z,onTouchEnd:Me,children:[re&&c.jsx("div",{className:"hidden lg:block absolute left-0 right-0 cursor-pointer group",style:{top:"-10px",height:"24px"},onClick:b=>{if(b.stopPropagation(),!s)return;const ae=b.currentTarget.getBoundingClientRect(),ue=(b.clientX-ae.left)/ae.width;m(Math.max(0,Math.min(1,ue))*s)},onTouchStart:b=>{if(b.stopPropagation(),!s)return;const ae=b.touches[0],ue=b.currentTarget.getBoundingClientRect(),xt=(ae.clientX-ue.left)/ue.width;m(Math.max(0,Math.min(1,xt))*s)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":s||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 bottom-[10px] h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${qt}%`}})})}),c.jsxs("div",{className:"hidden md:block md:relative md:px-4 md:py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0 max-w-[37%]",children:[!Q&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(Mo,{src:W.getAlbumArtUrl((S||re).AlbumId||(S||re).Id,96),alt:(S||re).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>se(!0)},(S==null?void 0:S.Id)||re.Id)}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(S||re).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((et=(Se=(S||re).ArtistItems)==null?void 0:Se[0])==null?void 0:et.Name)||(S||re).AlbumArtist||"Unknown Artist"})]})]}),c.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 md:right-16 md:left-auto md:translate-x-0 lg:left-1/2 lg:right-auto lg:-translate-x-1/2 flex items-center gap-2",children:[c.jsx("button",{onClick:b=>{b.stopPropagation(),x()},"aria-label":k?"Disable shuffle":"Enable shuffle",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${k?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(cr,{className:"w-5 h-5"})}),c.jsx("button",{onClick:b=>{b.stopPropagation(),F&&w()},disabled:!F,"aria-label":"Previous track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${F?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx($a,{className:"w-5 h-5"})}),c.jsx("button",{onClick:b=>{b.stopPropagation(),S?i():e.length>0?h(0):re&&d(re)},"aria-label":n&&S?"Pause":"Play",className:"w-10 h-10 mx-2 flex items-center justify-center rounded-full transition-colors text-white bg-[var(--accent-color)] hover:opacity-90",children:n&&S?c.jsx(hs,{className:"w-5 h-5"}):c.jsx(vn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:b=>{b.stopPropagation(),B&&a()},disabled:!B,"aria-label":"Next track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${B?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(Oa,{className:"w-5 h-5"})}),c.jsx("button",{onClick:b=>{b.stopPropagation(),g()},"aria-label":p==="off"?"Enable repeat":p==="all"?"Repeat one":"Disable repeat",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${p!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:p==="one"?c.jsx(Ma,{className:"w-5 h-5"}):c.jsx(za,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-4",children:[c.jsx("div",{className:"hidden xl:block",children:!y&&c.jsx("button",{onClick:b=>{b.stopPropagation(),I()},className:"text-gray-400 hover:text-white hover:bg-zinc-800 transition-colors flex items-center justify-center w-10 h-10 rounded-full",title:"Open Queue","aria-label":"Open queue",children:c.jsx(_i,{className:"w-5 h-5"})})}),c.jsx("div",{className:"hidden lg:block",onClick:b=>b.stopPropagation(),children:!Dt()&&c.jsx(Ut,{variant:"horizontal"})}),c.jsx("div",{className:"hidden md:block lg:hidden",children:!Dt()&&c.jsx(Ut,{variant:"compact",onOpenPopover:G,onRef:C,className:"w-10 h-10 flex items-center justify-center text-white hover:text-zinc-300 hover:bg-zinc-800 rounded-full transition-colors"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 py-3 pr-3 pl-4 md:hidden",children:[!Q&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(Mo,{src:W.getAlbumArtUrl((S||re).AlbumId||(S||re).Id,96),alt:(S||re).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>se(!0)},(S==null?void 0:S.Id)||re.Id)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(S||re).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((Er=(Kt=(S||re).ArtistItems)==null?void 0:Kt[0])==null?void 0:Er.Name)||(S||re).AlbumArtist||"Unknown Artist"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!Dt()&&c.jsx(Ut,{variant:"compact",onOpenPopover:G,onRef:z,className:"text-white hover:text-zinc-300 transition-colors"}),c.jsx("button",{onClick:b=>{b.stopPropagation(),S?i():e.length>0?h(0):re&&d(re)},"aria-label":n&&S?"Pause":"Play",className:"w-10 h-10 flex items-center justify-center text-white hover:bg-zinc-800 rounded-full transition-colors",children:n&&S?c.jsx(hs,{className:"w-5 h-5"}):c.jsx(vn,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"lg:hidden",style:{marginBottom:"-10px"},children:re&&c.jsx("div",{className:"relative cursor-pointer group flex items-center",style:{height:"24px"},onClick:b=>{if(b.stopPropagation(),!s)return;const ae=b.currentTarget.getBoundingClientRect(),ue=(b.clientX-ae.left)/ae.width;m(Math.max(0,Math.min(1,ue))*s)},onTouchStart:b=>{if(b.stopPropagation(),!s)return;const ae=b.touches[0],ue=b.currentTarget.getBoundingClientRect(),xt=(ae.clientX-ue.left)/ue.width;m(Math.max(0,Math.min(1,xt))*s)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":s||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${qt}%`}})})})})]}),N&&c.jsx(Ky,{onClose:Ue,onClosingStart:()=>_(!0),closeRef:K}),Ce&&he&&!Dt()&&c.jsx(Ut,{variant:"vertical",onClose:()=>O(!1),popoverPosition:he})]}):null}function Jy(){const{state:e,message:t,cancelSync:n}=el(),{isQueueSidebarOpen:r}=ee();if(e==="idle")return null;const s=()=>{switch(e){case"syncing":return"bg-zinc-800";case"success":return"bg-green-800";case"error":return"bg-red-800";default:return"bg-zinc-800"}};return c.jsx("div",{className:`fixed top-0 left-0 right-0 z-[10002] ${s()} transition-colors duration-300 lg:pl-16`,style:{height:"28px",top:"0px",paddingRight:r?"var(--sidebar-width)":"0px"},children:c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center h-full",children:c.jsxs("div",{className:"w-full max-w-[768px] h-full flex items-center justify-between px-4",children:[c.jsx("span",{className:"text-white text-sm font-medium truncate",children:t}),e==="syncing"&&c.jsx("button",{onClick:n,className:"text-white text-sm font-medium hover:text-zinc-300 transition-colors",children:"Cancel"})]})})})}const Ll=new Set;async function Zy(e){const t=e.toLowerCase();if(!Ll.has(t)){Ll.add(t);try{L.log(`[Recommendations] Auto-syncing genre "${e}" for better recommendations...`);const{genres:n,setGenreSongs:r}=xe.getState();let s=n;s.length===0&&(s=await W.getGenres());const o=s.find(i=>i.Name&&e&&i.Name.toLowerCase()===e.toLowerCase());if(!o||!o.Id){L.warn(`[Recommendations] Genre "${e}" not found in server`);return}L.log(`[Recommendations] Fetching songs for genre "${e}"...`);const l=await W.getGenreSongs(o.Id,e);l.length>0?(r(o.Id,l),L.log(`[Recommendations]  Successfully cached ${l.length} songs for genre "${e}"`)):L.warn(`[Recommendations] No songs found for genre "${e}" on server`)}catch(n){L.error(`[Recommendations] Failed to sync genre "${e}":`,n)}finally{setTimeout(()=>{Ll.delete(t)},1e4)}}}async function ev({currentTrack:e,queue:t}){var I;if(!e)return{recommendations:[],hasGenreMatches:!1};const{songs:n,genreSongs:r,genres:s}=xe.getState(),o=e.Genres||[];let l=[];if(o.length>0&&s.length>0){const S=s.filter(E=>E.Name&&o.some(N=>N.toLowerCase()===E.Name.toLowerCase())).map(E=>E.Id).filter(E=>r[E]&&r[E].length>0);S.length>0&&(l=S.flatMap(E=>r[E]),L.log(`[Recommendations] Using ${l.length} pre-filtered songs from ${S.length} matching genres`))}if(l.length===0&&n.length>0&&(l=n,L.log(`[Recommendations] Using ${l.length} songs from main cache`)),l.length===0){const S=Object.values(r).flat();S.length>0&&(l=S,L.log(`[Recommendations] Using ${l.length} songs from all genre caches`))}if(l.length===0){const{setRecommendationsQuality:S}=ot.getState();return S("failed"),{recommendations:[],hasGenreMatches:!1}}L.log("[Recommendations] Using",l.length,"available songs"),L.log("[Recommendations] Current track genres:",o,"(count:",o.length+")"),L.log("[Recommendations] Current track year:",e.ProductionYear),L.log("[Recommendations] Queue size:",t.length),L.log("[Recommendations] Sample available songs:",l.slice(0,3).map(S=>{var E;return`${S.Name} (${S.ProductionYear}) [${(E=S.Genres)==null?void 0:E.join(", ")}]`}));let i=[],a=!1;const u=e.ProductionYear,f=u?[{range:3,years:Array.from({length:7},(S,E)=>u-3+E)},{range:6,years:Array.from({length:13},(S,E)=>u-6+E)},{range:10,years:Array.from({length:21},(S,E)=>u-10+E)}]:[],d=S=>{const E=S.Id!==e.Id,N=!t.some(T=>T.Id===S.Id),P=!i.some(T=>T.Id===S.Id);return E&&N&&P},p=S=>{var E;return o.length===0?!0:((E=S.Genres)==null?void 0:E.some(N=>o.some(P=>N.toLowerCase()===P.toLowerCase())))??!1},k=(S,E)=>u?S.ProductionYear!==void 0&&E.includes(S.ProductionYear):!0;let x=0;if(o.length>0&&(x=l.filter(S=>p(S)).length,x===0)){for(const S of o)Zy(S).catch(E=>L.error(`[Recommendations] Genre sync failed for ${S}:`,E));return{recommendations:[],hasGenreMatches:!1,triggeredGenreSync:!0}}for(const{range:S,years:E}of f){if(i.length>=12){L.log(`[Recommendations] Have ${i.length} recommendations, stopping at ${S} year range`);break}const N=12-i.length,P=l.filter(T=>!(!d(T)||!p(T)||!k(T,E)));if(L.log(`[Recommendations] Year range ${S}: found ${P.length} candidates, need ${N}`),P.length>0){const _=Bs(P).slice(0,N);i.push(..._),L.log(`[Recommendations] Added ${_.length} songs from ${S} year range`)}}if(i.length<12&&!u&&o.length>0){const S=12-i.length,E=l.filter(T=>!(!d(T)||!p(T))),P=Bs(E).slice(0,S);i.push(...P),L.log(`[Recommendations] Added ${P.length} genre-only songs (no year on seed track)`)}if(i.length<12&&u&&o.length===0)for(const{range:S,years:E}of f){if(i.length>=12)break;const N=12-i.length,P=l.filter(Q=>!(!d(Q)||!k(Q,E))),_=Bs(P).slice(0,N);i.push(..._),L.log(`[Recommendations] Added ${_.length} year-only songs from ${S} range (no genre on seed track)`)}a=o.length>0&&i.some(S=>p(S)),L.log("[Recommendations] Matching results:",{totalRecommendations:i.length,genreMatchSuccess:a,hasGenres:o.length>0,hasYear:!!u});const g=Bs(i),w=[],m=[...g];for(;m.length>0&&w.length<12;){let S=-1;if(w.length>0){const P=((I=w[w.length-1].ArtistItems)==null?void 0:I.map(T=>T.Id))||[];S=m.findIndex(T=>{var Q;return!(((Q=T.ArtistItems)==null?void 0:Q.map(se=>se.Id))||[]).some(se=>P.includes(se))})}S===-1&&(S=0);const E=m.splice(S,1)[0];w.push(E)}const h=w,{setRecommendationsQuality:y}=ot.getState();return L.log("[Recommendations] Quality decision:",{finalRecommendationsCount:h.length,genreMatchSuccess:a,hasGenres:o.length>0,availableSongsCount:l.length}),h.length===0?y("failed"):!a&&o.length>0?y("degraded"):y("good"),L.log(`[Recommendations] Generated ${h.length} recommendations`),h.length>0&&L.log("[Recommendations] Sample:",h.slice(0,3).map(S=>S.Name)),{recommendations:h,hasGenreMatches:a,triggeredGenreSync:!1}}function Bs(e){if(e.length<=1)return[...e];const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function tv(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function nv(e){var s;if(e.length<=1)return e;const t=tv(e),n=[],r=[...t];for(;r.length>0;){let o=-1;if(n.length>0){const a=((s=n[n.length-1].ArtistItems)==null?void 0:s.map(u=>u.Id))||[];o=r.findIndex(u=>{var d;return!(((d=u.ArtistItems)==null?void 0:d.map(p=>p.Id))||[]).some(p=>a.includes(p))})}o===-1&&(o=0);const l=r.splice(o,1)[0];n.push(l)}return n}function rv(){const{songs:e,currentIndex:t,addToQueue:n,refreshCurrentTrack:r,isFetchingRecommendations:s,setIsFetchingRecommendations:o,repeat:l}=ee(),{showQueueRecommendations:i}=ot(),a=v.useRef([]),u=v.useRef(!1),f=v.useRef(0),d=v.useRef(0),p=v.useRef(0),k=3;v.useEffect(()=>{a.current=e.slice(-20)},[e]),v.useEffect(()=>{f.current=0,d.current=0,p.current=0},[t]),v.useEffect(()=>{f.current=0,d.current=0,p.current=0},[i]),v.useEffect(()=>{const x=e.slice(t+1).filter(y=>y.source==="recommendation").length,g=Date.now()-f.current,w=Date.now()-d.current;if(!!!(i&&l==="off"&&!u.current&&!s&&t>=0&&x<12&&g>1e4&&w>5e3))return x>=12||l==="all",void 0;(async()=>{var I;u.current=!0,o(!0);const y=setTimeout(()=>{u.current=!1,o(!1)},3e4);try{await r();const S=e[t];if(!S)return;const E=[S],N=[t-1,t+1,t+2];for(const R of N)if(R>=0&&R<e.length&&E.length<3){const C=e[R];C&&!E.some(A=>A.Id===C.Id)&&E.push(C)}const P=[];for(const R of E){L.log(`[Recommendations] Generating recommendations for seed: ${R.Name}`);const C=await ev({currentTrack:R,queue:e,recentQueue:a.current,lastPlayedTrack:null});if(L.log(`[Recommendations] Result for seed ${R.Name}:`,{recommendationsCount:((I=C.recommendations)==null?void 0:I.length)||0,hasGenreMatches:C.hasGenreMatches,triggeredGenreSync:C.triggeredGenreSync,resultType:typeof C,isArray:Array.isArray(C)}),C.triggeredGenreSync){if(p.current+=1,p.current>k){L.warn("[Recommendations] Max retries reached, giving up"),f.current=Date.now();const{setRecommendationsQuality:z}=ot.getState();z("failed");return}const A=15e3*Math.pow(2,p.current-1);L.log(`[Recommendations] Genre sync triggered (attempt ${p.current}/${k}), retry in ${A/1e3}s`),setTimeout(()=>{f.current=0},A);return}C.recommendations&&Array.isArray(C.recommendations)?P.push(C):L.warn(`[Recommendations] Invalid result for seed ${R.Name}:`,C)}const T=P.filter(R=>R.hasGenreMatches);if(L.log(`[Recommendations] ${T.length} out of ${E.length} seeds found genre matches`),T.length===0){const{setRecommendationsQuality:R}=ot.getState();R("degraded"),L.log("[Recommendations] No genre matches found - falling back to year/artist only")}const _=e.slice(t+1).filter(R=>R.source==="recommendation").length,Q=Math.max(0,12-_);if(Q===0){L.log("[Recommendations] Already have 12 upcoming recommendations, skipping");return}L.log(`[Recommendations] Currently have ${_} upcoming, need ${Q} more to reach 12`);const se=T.length>0?T:P,Ce=Math.ceil(Q/se.length),O=[];for(const R of se){const C=R.recommendations.filter(z=>{const H=e.some(X=>X.Id===z.Id),K=O.some(X=>X.Id===z.Id);return!H&&!K}),A=C.slice(0,Ce);O.push(...A),L.log(`[Recommendations] Added ${A.length} recommendations from seed (${C.length} available, genreMatch: ${R.hasGenreMatches})`)}const he=O.slice(0,Q),D=nv(he);L.log(`[Recommendations] Final ${he.length} recommendations (distributed across ${E.length} seeds)`),D.length>0?(L.log(`[Recommendations] Adding ${D.length} recommendations (had ${_}, will have ${_+D.length})`),L.log("[Recommendations] Recommendations to add:",D.map(R=>R.Name)),f.current=0,d.current=Date.now(),p.current=0,n(D,!1,"recommendation"),L.log("[Recommendations] Successfully added recommendations to queue")):(L.log("[Recommendations] No safe recommendations to add - marking as failed attempt"),f.current=Date.now())}catch(S){L.error("[Recommendations Hook] Failed to get recommendations:",S),u.current=!1,o(!1)}finally{clearTimeout(y),u.current=!1,o(!1)}})()},[e,t,n,r,i,s,o,l]),v.useEffect(()=>{if(l!=="off"&&(i&&ot.getState().setShowQueueRecommendations(!1),e.some((g,w)=>w>t&&g.source==="recommendation"))){const g=e.filter((w,m)=>m<=t?!0:w.source==="user");ee.setState({songs:g,standardOrder:g.filter(w=>w.source==="user").map(w=>w.Id),shuffleOrder:g.filter(w=>w.source==="user").map(w=>w.Id)})}},[l,t,e,i])}function sv(){const{isQueueSidebarOpen:e,toggleQueueSidebar:t}=ee();return v.useEffect(()=>{const n=r=>{r.key==="Escape"&&e&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t]),e?c.jsxs("div",{className:"fixed top-0 right-0 bottom-0 bg-black border-l border-zinc-800 z-30 flex flex-col hidden xl:flex shadow-xl",style:{width:"var(--sidebar-width)",paddingTop:"var(--header-offset, 0px)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-zinc-800",children:c.jsx(Da,{className:"w-5 h-5"})})]}),c.jsx(Ba,{contentPaddingBottom:"8rem"})]}):null}const kc={slate:"#64748b",gray:"#6b7280",zinc:"#71717a",neutral:"#737373",stone:"#78716c",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"};function ov({children:e}){rv();const{accentColor:t}=ot(),{genres:n,songs:r,genreSongs:s}=xe(),{state:o}=el(),{isQueueSidebarOpen:l}=ee(),i=a=>{const u=[...a];for(let f=u.length-1;f>0;f--){const d=Math.floor(Math.random()*(f+1));[u[f],u[d]]=[u[d],u[f]]}return u};return v.useEffect(()=>{const a=kc[t]||kc.blue;document.documentElement.style.setProperty("--accent-color",a)},[t]),v.useEffect(()=>{const a=o!=="idle"?"28px":"0px";document.documentElement.style.setProperty("--header-offset",a)},[o]),v.useEffect(()=>{n.length===0&&W.getGenres().catch(a=>{})},[n.length]),v.useEffect(()=>{const a=xe.getState(),u=r.length+Object.values(s).flat().length;u>0&&a.shufflePool.length===0?a.refreshShufflePool():u===0&&setTimeout(async()=>{try{const d=(await W.getSongs({limit:1})).TotalRecordCount||1e3,p=[];for(let w=0;w<3;w++){const m=Math.floor(Math.random()*d);p.push(m)}const k=p.map(w=>W.getSongs({limit:1,sortBy:["SortName"],sortOrder:"Ascending",startIndex:w})),g=(await Promise.all(k)).flatMap(w=>w.Items||[]);if(g.length>0){const w=g.map(m=>({Id:m.Id,Name:m.Name,AlbumArtist:m.AlbumArtist,ArtistItems:m.ArtistItems,Album:m.Album,AlbumId:m.AlbumId,IndexNumber:m.IndexNumber,ProductionYear:m.ProductionYear,PremiereDate:m.PremiereDate,RunTimeTicks:m.RunTimeTicks,Genres:m.Genres}));xe.setState({songs:w,shufflePool:i(w),lastPoolUpdate:Date.now()})}}catch{}},300)},[r.length,s]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed top-0 right-0 bg-black z-50 pointer-events-none left-0 lg:left-8",style:{height:"env(safe-area-inset-top)",top:o!=="idle"?"28px":"0px"}}),c.jsx(Jy,{}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-900 z-40 pointer-events-none lg:hidden",style:{height:"calc(4rem + env(safe-area-inset-bottom) - 8px)"}}),c.jsx("div",{className:"fixed top-0 left-0 bottom-0 bg-black z-30 pointer-events-none hidden lg:block",style:{width:"4rem"}}),c.jsxs("div",{className:`main-scrollable h-screen bg-black text-white lg:pl-16 transition-[padding] duration-300 ${l?"sidebar-open-padding":""}`,style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))",paddingTop:o!=="idle"?"28px":"0",overflowY:"auto",overflowX:"hidden",maxWidth:"100vw",width:"100%",scrollbarGutter:"stable"},children:[c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center",children:c.jsx("div",{className:"w-full max-w-[768px]",children:e})}),c.jsx(Xy,{}),c.jsx(By,{})]}),c.jsx(sv,{})]})}function lv(){const{pathname:e}=Yt();return v.useEffect(()=>{const t=document.querySelector(".main-scrollable");t&&t.scrollTo({top:0,behavior:"auto"})},[e]),null}const iv=v.memo(function({toast:t}){const{removeToast:n}=Ao(),r={success:c.jsx(W0,{className:"w-4 h-4"}),error:c.jsx(th,{className:"w-4 h-4"}),info:c.jsx(ay,{className:"w-4 h-4"})},s={success:"bg-zinc-900 border border-zinc-700",error:"bg-red-900/90 border border-red-700",info:"bg-zinc-900 border border-zinc-700"};return c.jsxs("div",{className:`${s[t.type]} text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[200px] max-w-[320px] animate-slide-up`,role:"alert",children:[c.jsx("span",{className:"flex-shrink-0",children:r[t.type]}),c.jsx("span",{className:"flex-1 text-sm font-medium",children:t.message}),c.jsx("button",{onClick:()=>n(t.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50","aria-label":"Dismiss notification",children:c.jsx(Da,{className:"w-4 h-4"})})]})});function Ic(){const{toasts:e}=Ao();return ja.createPortal(c.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[99999] flex flex-col gap-2 items-center pointer-events-none",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:e.map(t=>c.jsx("div",{className:"pointer-events-auto",children:c.jsx(iv,{toast:t})},t.id))}),document.body)}class av extends v.Component{constructor(n){super(n);ct(this,"handleReset",()=>{var n,r;this.setState({hasError:!1,error:null}),(r=(n=this.props).onReset)==null||r.call(n)});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){L.error(`[${this.props.componentName||"Component"}] Error:`,n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center bg-zinc-900/50 rounded-lg border border-zinc-800",children:[c.jsx(th,{className:"w-8 h-8 text-red-400 mb-3"}),c.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["Something went wrong",this.props.componentName?` in ${this.props.componentName}`:"","."]}),c.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)]",children:[c.jsx(ro,{className:"w-4 h-4"}),"Try again"]})]}):this.props.children}}const uv=v.lazy(()=>vt(()=>import("./HomePage-eMRCyqzd.js"),__vite__mapDeps([0,1,2]))),cv=v.lazy(()=>vt(()=>import("./ArtistsPage-Df5m6C8T.js"),__vite__mapDeps([3,1,4,2,5]))),dv=v.lazy(()=>vt(()=>import("./AlbumsPage-Dw9KbZAm.js"),__vite__mapDeps([6,4,2,1,5]))),fv=v.lazy(()=>vt(()=>import("./SongsPage-CXsRZ3ze.js"),__vite__mapDeps([7,8,4,2,1,5]))),hv=v.lazy(()=>vt(()=>import("./GenresPage-DDaa9x8g.js"),__vite__mapDeps([9,10]))),mv=v.lazy(()=>vt(()=>import("./PlaylistsPage-C3LUCRPS.js"),__vite__mapDeps([11,1,5]))),pv=v.lazy(()=>vt(()=>import("./PlaylistDetailPage-DbasJCQU.js"),__vite__mapDeps([12,13,14]))),gv=v.lazy(()=>vt(()=>import("./SettingsPage-0OdnwLFt.js"),__vite__mapDeps([15,13]))),yv=v.lazy(()=>vt(()=>import("./ArtistDetailPage-CyJESuIy.js"),__vite__mapDeps([16,17,13,14,18,5]))),vv=v.lazy(()=>vt(()=>import("./AlbumDetailPage-u4UyNwbA.js"),__vite__mapDeps([19,13,14,18]))),xv=v.lazy(()=>vt(()=>import("./GenreSongsPage-DhGRPUVC.js"),__vite__mapDeps([20,17,8,4,13,5]))),wv=v.lazy(()=>vt(()=>import("./StatsPage-D9sEWu7V.js"),__vite__mapDeps([21,10])));function Sv(){return c.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:c.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-color)] border-t-transparent rounded-full animate-spin"})})}function dt(e,t){return c.jsx(av,{componentName:t,children:e})}function kv(){const{isAuthenticated:e,logout:t}=tt(),{pageVisibility:n}=ot();return v.useEffect(()=>{e&&window.location.search.includes("logout=true")&&(t(),window.location.search="")},[e]),e?c.jsxs(c.Fragment,{children:[c.jsxs(Vg,{children:[c.jsx(lv,{}),c.jsx(ov,{children:c.jsx(v.Suspense,{fallback:c.jsx(Sv,{}),children:c.jsxs(Mg,{children:[c.jsx(We,{path:"/",element:dt(c.jsx(uv,{}),"Home")}),c.jsx(We,{path:"/settings",element:dt(c.jsx(gv,{}),"Settings")}),n.artists&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/artists",element:dt(c.jsx(cv,{}),"Artists")}),c.jsx(We,{path:"/artist/:id",element:dt(c.jsx(yv,{}),"Artist")})]}),n.albums&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/albums",element:dt(c.jsx(dv,{}),"Albums")}),c.jsx(We,{path:"/album/:id",element:dt(c.jsx(vv,{}),"Album")})]}),n.songs&&c.jsx(We,{path:"/songs",element:dt(c.jsx(fv,{}),"Songs")}),n.genres&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/genres",element:dt(c.jsx(hv,{}),"Genres")}),c.jsx(We,{path:"/genre/:id",element:dt(c.jsx(xv,{}),"Genre")})]}),n.playlists&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/playlists",element:dt(c.jsx(mv,{}),"Playlists")}),c.jsx(We,{path:"/playlist/:id",element:dt(c.jsx(pv,{}),"Playlist")})]}),n.stats&&c.jsx(c.Fragment,{children:c.jsx(We,{path:"/stats",element:dt(c.jsx(wv,{}),"Stats")})}),c.jsx(We,{path:"*",element:c.jsx(bg,{to:"/",replace:!0})})]})})})]}),c.jsx(Ic,{})]}):c.jsxs(c.Fragment,{children:[c.jsx(Uy,{}),c.jsx(Ic,{})]})}class Iv extends v.Component{constructor(){super(...arguments);ct(this,"state",{hasError:!1,error:null,showCopied:!1});ct(this,"handleCopyError",async()=>{var r,s;const n=`Error: ${(r=this.state.error)==null?void 0:r.message}

Stack: ${((s=this.state.error)==null?void 0:s.stack)||"N/A"}`;try{await navigator.clipboard.writeText(n),this.setState({showCopied:!0}),setTimeout(()=>this.setState({showCopied:!1}),2e3)}catch{}});ct(this,"handleReload",()=>{window.location.reload()});ct(this,"handleClearAndReload",()=>{localStorage.clear(),indexedDB.deleteDatabase("tunetuna-storage"),window.location.reload()})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){L.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"The app encountered an unexpected error. You can try reloading, or clear data if the issue persists."}),c.jsx("div",{className:"bg-zinc-900 rounded-lg p-3 mb-4 text-left",children:c.jsx("p",{className:"text-red-400 text-sm font-mono break-all",children:((n=this.state.error)==null?void 0:n.message)||"Unknown error"})}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:this.handleReload,className:"w-full bg-[var(--accent-color)] hover:brightness-90 text-white font-semibold py-3 px-4 rounded-lg transition-all",children:"Reload App"}),c.jsx("button",{onClick:this.handleClearAndReload,className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Clear Data & Reload"}),c.jsx("button",{onClick:this.handleCopyError,className:"w-full text-gray-400 hover:text-white py-2 px-4 text-sm transition-colors",children:this.state.showCopied?" Copied to clipboard":"Copy error details"})]})]})}):this.props.children}}Ml.createRoot(document.getElementById("root")).render(c.jsx($i.StrictMode,{children:c.jsx(Iv,{children:c.jsx(kv,{})})}));const Ev=async()=>{try{const e=await navigator.serviceWorker.getRegistration();e&&(e.waiting&&(L.log("New app version available, activating..."),e.waiting.postMessage({type:"SKIP_WAITING"})),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&L.log("New app version installed and ready")})}))}catch{}};"serviceWorker"in navigator&&Ev();export{Vy as B,Gy as C,La as D,no as G,Mo as I,Ds as L,py as M,vn as P,ro as R,cr as S,Lo as U,Da as X,ee as a,xs as b,ne as c,Pv as d,W as e,Qy as f,Ua as g,jv as h,Sc as i,c as j,ja as k,L as l,Cv as m,Tv as n,hs as o,ot as p,tt as q,v as r,el as s,Ao as t,xe as u,rt as v,rh as w,q0 as x,yy as y};
