import{b as Ie,r as n,f as X,j as e,D as te,I as _e,e as D,C as Ce,u as ve,a as be,i as Be,d as Ve,h as Qe,G as Xe,P as Je,L as We,U as je}from"./index-AOm-apGX.js";import{u as qe,f as Ke,S as Ze}from"./search-tT2_0xD9.js";import{P as et}from"./Pagination-DWlypBkE.js";import{F as ye}from"./FilterBottomSheet-j5wc8c6N.js";import{A as tt}from"./arrow-up-down-CX2ufI1q.js";import{C as st}from"./calendar-B3NUgHI7.js";function nt({album:s,onContextMenu:b,contextMenuItemId:y,showImage:E=!0}){var m,R;const k=Ie(),[g,d]=n.useState(!1),[S,N]=n.useState("mobile"),[I,u]=n.useState(null),[p,f]=n.useState(!1),a=n.useRef(!1),o=y===s.Id,l=c=>{if(a.current){c.preventDefault(),a.current=!1;return}k(`/album/${s.Id}`)},M=c=>{var z,Y,A,G;c.preventDefault(),c.stopPropagation(),(Y=(z=c.nativeEvent)==null?void 0:z.preventDefault)==null||Y.call(z),(G=(A=c.nativeEvent)==null?void 0:A.stopImmediatePropagation)==null||G.call(A),a.current=!0,b?b(s,"album","desktop",{x:c.clientX,y:c.clientY}):(N("desktop"),u({x:c.clientX,y:c.clientY}),d(!0)),setTimeout(()=>{a.current=!1},300)},F=X({onLongPress:c=>{c.preventDefault(),b?(a.current=!0,b(s,"album","mobile")):(a.current=!0,N("mobile"),u(null),d(!0))}});return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:c=>{if(g||a.current){c.preventDefault(),c.stopPropagation();return}l(c)},onContextMenu:c=>{M(c)},...F,className:`text-left group ${o?"ring-2 ring-blue-500":""}`,children:[e.jsx("div",{className:"aspect-square rounded overflow-hidden mb-2 bg-zinc-900 relative flex items-center justify-center",children:p?e.jsx(te,{className:"w-12 h-12 text-gray-500"}):E?e.jsx(_e,{src:D.getAlbumArtUrl(s.Id,474),alt:s.Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded",onError:()=>f(!0)}):e.jsx("div",{className:"w-full h-full bg-zinc-900"})}),e.jsx("div",{className:"text-sm font-medium text-white truncate",children:s.Name}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:s.AlbumArtist||((R=(m=s.ArtistItems)==null?void 0:m[0])==null?void 0:R.Name)||"Unknown Artist"})]}),e.jsx(Ce,{item:s,itemType:"album",isOpen:g,onClose:()=>d(!1),mode:S,position:I||void 0})]})}const ee=new Map;function rt({artist:s,onClick:b,onContextMenu:y,contextMenuItemId:E}){var a,o;const[k,g]=n.useState(!1),d=n.useRef(!1),S=E===s.Id,[N,I]=n.useState(null);n.useEffect(()=>{var m;if((m=s.ImageTags)!=null&&m.Primary){I(null);return}const l=ee.get(s.Id);if(l!==void 0){I(l);return}let M=!1;return(async()=>{try{const{albums:R,songs:c}=await D.getArtistItems(s.Id),z=R[0],Y=c.find($=>$.AlbumId)||c[0],A=z||Y,G=A?A.AlbumId||A.Id:null,h=G?D.getAlbumArtUrl(G,96):null;ee.set(s.Id,h),M||I(h)}catch(R){console.error("Failed to load fallback album art for artist (albums search):",s.Id,R),ee.set(s.Id,null)}})(),()=>{M=!0}},[s.Id,s.ImageTags]);const u=l=>{if(S||d.current){l.preventDefault(),l.stopPropagation(),d.current=!1;return}b(s.Id)},p=l=>{l.preventDefault(),l.stopPropagation(),d.current=!0,y(s,"artist","desktop",{x:l.clientX,y:l.clientY}),setTimeout(()=>{d.current=!1},300)},f=X({onLongPress:l=>{l.preventDefault(),d.current=!0,y(s,"artist","mobile")},onClick:u});return e.jsxs("button",{onClick:u,onContextMenu:p,...f,className:`w-full flex items-center gap-4 hover:bg-white/10 transition-colors text-left px-4 h-[72px] ${S?"bg-white/10":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0 bg-zinc-900 flex items-center justify-center",children:k?e.jsx(je,{className:"w-6 h-6 text-gray-500"}):(a=s.ImageTags)!=null&&a.Primary||N?e.jsx("img",{src:(o=s.ImageTags)!=null&&o.Primary?D.getArtistImageUrl(s.Id,96):N||"",alt:s.Name,className:"w-full h-full object-cover",onError:()=>g(!0),loading:"lazy"}):e.jsx(je,{className:"w-6 h-6 text-gray-500"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"text-base font-medium text-white truncate group-hover:text-[var(--accent-color)] transition-colors",children:s.Name})})]})}function lt({album:s,onClick:b,onContextMenu:y,contextMenuItemId:E}){var p,f;const[k,g]=n.useState(!1),d=n.useRef(!1),S=E===s.Id,N=a=>{if(S||d.current){a.preventDefault(),a.stopPropagation(),d.current=!1;return}b(s.Id)},I=a=>{a.preventDefault(),a.stopPropagation(),d.current=!0,y(s,"album","desktop",{x:a.clientX,y:a.clientY}),setTimeout(()=>{d.current=!1},300)},u=X({onLongPress:a=>{a.preventDefault(),d.current=!0,y(s,"album","mobile")},onClick:N});return e.jsxs("button",{onClick:N,onContextMenu:I,...u,className:"text-left group",children:[e.jsx("div",{className:"aspect-square rounded overflow-hidden mb-3 bg-zinc-900 shadow-lg relative flex items-center justify-center",children:k?e.jsx(te,{className:"w-12 h-12 text-gray-500"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:D.getAlbumArtUrl(s.Id,474),alt:s.Name,className:"w-full h-full object-cover",onError:()=>g(!0)}),e.jsx("div",{className:"absolute inset-0 pointer-events-none border border-white rounded",style:{borderColor:"rgba(255, 255, 255, 0.03)",borderWidth:"1px"}})]})}),e.jsx("div",{className:"text-sm font-semibold text-white truncate mb-1",children:s.Name}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:s.AlbumArtist||((f=(p=s.ArtistItems)==null?void 0:p[0])==null?void 0:f.Name)||"Unknown Artist"})]})}function at({song:s,onClick:b,onContextMenu:y,contextMenuItemId:E,showImage:k=!0}){var a,o;const g=n.useRef(!1),d=E===s.Id,[S,N]=n.useState(!1),I=l=>{const M=Math.floor(l/1e7),F=Math.floor(M/60),m=M%60;return`${F}:${m.toString().padStart(2,"0")}`},u=l=>{if(d||g.current){l.preventDefault(),l.stopPropagation(),g.current=!1;return}b(s)},p=l=>{l.preventDefault(),l.stopPropagation(),g.current=!0,y(s,"song","desktop",{x:l.clientX,y:l.clientY}),setTimeout(()=>{g.current=!1},300)},f=X({onLongPress:l=>{l.preventDefault(),g.current=!0,y(s,"song","mobile")},onClick:u});return e.jsxs("button",{onClick:u,onContextMenu:p,...f,className:`w-full flex items-center gap-3 hover:bg-white/10 transition-colors group px-4 py-3 ${d?"bg-white/10":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900 self-center relative flex items-center justify-center",children:S?e.jsx(te,{className:"w-7 h-7 text-gray-500"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:D.getAlbumArtUrl(s.AlbumId||s.Id,96),alt:s.Name,className:"w-full h-full object-cover",loading:"lazy",onError:()=>N(!0)}),e.jsx("div",{className:"absolute inset-0 pointer-events-none border border-white rounded-sm",style:{borderColor:"rgba(255, 255, 255, 0.03)",borderWidth:"1px"}})]})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate group-hover:text-[var(--accent-color)] transition-colors",children:s.Name}),e.jsxs("div",{className:"text-xs text-gray-400 truncate",children:[s.AlbumArtist||((o=(a=s.ArtistItems)==null?void 0:a[0])==null?void 0:o.Name)||"Unknown Artist",s.Album&&` â€¢ ${s.Album}`]})]}),s.RunTimeTicks&&e.jsx("div",{className:"text-xs text-gray-500 flex-shrink-0 text-right",children:I(s.RunTimeTicks)})]})}const Q=84,Ne=45,ot=45,we=45,it=45;function xt(){const{albums:s,setAlbums:b,sortPreferences:y,setSortPreference:E,setLoading:k,loading:g,genres:d}=ve(),{playTrack:S,playAlbum:N,addToQueue:I}=be(),[u,p]=n.useState(""),[f,a]=n.useState(!1),[o,l]=n.useState(null),[M,F]=n.useState(!1),m=n.useRef(null),[R,c]=n.useState(!1),[z,Y]=n.useState("mobile"),[A,G]=n.useState(null),[h,$]=n.useState(null),[Se,se]=n.useState(null),[_,ne]=n.useState(0),[re,le]=n.useState(0),[Ae,ae]=n.useState(Ne),J=Ie(),[oe,ie]=Be(),H=n.useRef(null),[P,ce]=n.useState([]),[x,W]=n.useState({min:null,max:null}),[ue,q]=n.useState(!1),[de,Ee]=n.useState(null),[ke,me]=n.useState([]),C=y.albums,B=n.useRef(!0),[Me,fe]=n.useState(!1),he=n.useRef(C),[Pe,xe]=n.useState(we),K=be(t=>t.isQueueSidebarOpen);n.useEffect(()=>{const t=oe.get("year");if(t){const r=parseInt(t,10);!isNaN(r)&&r>0&&(W({min:r,max:r}),a(!0),ie({},{replace:!0}))}},[oe,ie]),n.useEffect(()=>{(async()=>{try{const r=ve.getState();if(r.years.length>0)me(r.years);else{const w=await D.getYears();me(w)}}catch(r){console.error("Failed to load filter values:",r)}})()},[]);const ge=P.length>0||x.min!==null||x.max!==null;n.useEffect(()=>{m.current&&m.current.abort();const t=u.trim().length>0;if(t||ge){F(!0),m.current=new AbortController;const r=window.setTimeout(async()=>{var w,v,j,V;if(!((w=m.current)!=null&&w.signal.aborted))try{let O;t?O=await qe(u,450):O=await Ke(450),(v=m.current)!=null&&v.signal.aborted||l(O)}catch(O){(j=m.current)!=null&&j.signal.aborted||(console.error("Search failed:",O),l(null))}finally{(V=m.current)!=null&&V.signal.aborted||F(!1)}},250);return()=>{window.clearTimeout(r),m.current&&m.current.abort()}}else m.current=null,l(null),F(!1)},[u,ge]);const i=n.useMemo(()=>{if(!o)return null;const t=v=>{if(x.min!==null||x.max!==null)return!1;if(P.length>0){const j=v.Genres||[];if(!P.some(O=>j.some(Z=>Z.toLowerCase()===O.toLowerCase())))return!1}return!0},r=v=>{if(P.length>0){const j=v.Genres||[];if(!P.some(O=>j.some(Z=>Z.toLowerCase()===O.toLowerCase())))return!1}if(x.min!==null||x.max!==null){const j=v.ProductionYear;if(!j||j<=0||x.min!==null&&j<x.min||x.max!==null&&j>x.max)return!1}return!0},w=v=>!(x.min!==null||x.max!==null||P.length>0);return{albums:o.albums.filter(r),artists:o.artists.filter(t),playlists:(o.playlists||[]).filter(w),songs:o.songs.filter(r)}},[o,P,x]);n.useEffect(()=>{var t;if(f&&((t=H.current)==null||t.focus(),H.current)){const r=H.current.value.length;H.current.setSelectionRange(r,r)}},[f]),n.useEffect(()=>()=>{m.current&&m.current.abort()},[]);const Le=t=>{p(t),t.trim().length>0&&!f&&a(!0)},Te=()=>{p(""),l(null)},Oe=()=>{a(!1),p(""),l(null),ce([]),W({min:null,max:null})},pe=t=>{Ee(t),q(!0)},De=t=>{ce(t)},Fe=t=>{W(t)},Re=t=>{J(`/artist/${t}`),a(!1),p(""),l(null)},ze=t=>{J(`/album/${t}`),a(!1),p(""),l(null)},Ge=t=>{S(t,[t])},Ye=t=>{t.preventDefault(),t.stopPropagation(),i!=null&&i.songs&&i.songs.length>0&&N(i.songs)},He=t=>{t.preventDefault(),t.stopPropagation(),i!=null&&i.songs&&i.songs.length>0&&I(i.songs)},Ue=t=>{J(`/playlist/${t}`),a(!1),p(""),l(null)},U=(t,r,w="mobile",v)=>{$(t),se(r),Y(w),G(v||null),c(!0)};n.useEffect(()=>{const t=r=>{};return document.addEventListener("contextmenu",t,!0),()=>{document.removeEventListener("contextmenu",t,!0)}},[]),n.useEffect(()=>{u.trim()||ne(0)},[C,u]),n.useEffect(()=>{xe(we)},[u,f,o==null?void 0:o.songs.length]);const L=n.useCallback(()=>{var v;if(!f||!((v=o==null?void 0:o.songs)!=null&&v.length))return;const t=window.scrollY||document.documentElement.scrollTop,r=window.innerHeight||document.documentElement.clientHeight,w=document.documentElement.scrollHeight;t+r*1.5>=w&&xe(j=>Math.min(j+it,o.songs.length))},[f,o==null?void 0:o.songs.length]);n.useEffect(()=>{var t;if(!(!f||!((t=o==null?void 0:o.songs)!=null&&t.length)))return document.addEventListener("scroll",L,{passive:!0,capture:!0}),window.addEventListener("scroll",L,{passive:!0}),document.addEventListener("touchmove",L,{passive:!0}),document.addEventListener("touchend",L,{passive:!0}),()=>{document.removeEventListener("scroll",L,{capture:!0}),window.removeEventListener("scroll",L),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",L)}},[L]),n.useEffect(()=>{ae(Ne)},[_,s.length]);const T=n.useCallback(()=>{const t=window.scrollY||document.documentElement.scrollTop,r=window.innerHeight||document.documentElement.clientHeight,w=document.documentElement.scrollHeight;t+r*1.5>=w&&ae(v=>Math.min(v+ot,s.length))},[s.length]);n.useEffect(()=>(document.addEventListener("scroll",T,{passive:!0,capture:!0}),window.addEventListener("scroll",T,{passive:!0}),document.addEventListener("touchmove",T,{passive:!0}),document.addEventListener("touchend",T,{passive:!0}),()=>{document.removeEventListener("scroll",T,{capture:!0}),window.removeEventListener("scroll",T),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",T)}),[T]),n.useEffect(()=>{u.trim()||(!B.current&&he.current!==C&&fe(!0),he.current=C,$e())},[_,C,u]),n.useEffect(()=>{B.current&&(B.current=!1)},[]);const $e=async()=>{k("albums",!0);try{const t={limit:Q,startIndex:_*Q};C==="RecentlyAdded"?(t.sortBy=["DateCreated"],t.sortOrder="Descending"):C==="Newest"?(t.sortBy=["ProductionYear","SortName"],t.sortOrder=["Descending","Ascending"]):(t.sortBy=["SortName"],t.sortOrder="Ascending");const r=await D.getAlbums(t);b(r.Items),le(r.TotalRecordCount||0)}catch(t){console.error("Failed to load albums:",t),b([]),le(0)}finally{k("albums",!1),fe(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"pb-20",children:[e.jsx("div",{className:`fixed top-0 left-0 right-0 bg-black z-10 lg:left-16 transition-[left,right] duration-300 ${K?"sidebar-open-right-offset":"xl:right-0"}`,style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top))"},children:e.jsx("div",{className:"max-w-[768px] mx-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Albums"}),e.jsx("button",{onClick:()=>a(!0),className:"w-10 h-10 flex items-center justify-center text-white hover:bg-zinc-800 rounded-full transition-colors","aria-label":"Search",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),!f&&e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("button",{onClick:()=>{E("albums",C==="RecentlyAdded"?"Alphabetical":C==="Alphabetical"?"Newest":"RecentlyAdded")},className:"text-sm text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:[C==="RecentlyAdded"?"Recently Added":C==="Newest"?"Newest":"Alphabetically",e.jsx(tt,{className:"w-4 h-4"})]}),g.albums&&!B.current&&e.jsx("div",{className:"flex items-center",children:e.jsx(Qe,{})})]})]})})}),e.jsx("div",{className:`fixed left-0 right-0 z-10 lg:left-16 transition-[left,right] duration-300 ${K?"sidebar-open-right-offset":"xl:right-0"}`,style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top) + 7rem - 8px)",height:"24px",background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.8), transparent)"}}),e.jsx("div",{style:{paddingTop:"calc(env(safe-area-inset-top) + 7rem)"},onContextMenu:t=>{},children:!f&&e.jsx("div",{className:Me?"opacity-50 pointer-events-none":"",onContextMenu:t=>{},children:s.length===0&&!g.albums?e.jsx("div",{className:"flex items-center justify-center py-16 text-gray-400",children:e.jsx("p",{children:"No albums found"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",onContextMenu:t=>{},children:s.map((t,r)=>e.jsx(nt,{album:t,onContextMenu:U,contextMenuItemId:(h==null?void 0:h.Id)||null,showImage:r<Ae},t.Id))})}),e.jsx(et,{currentPage:_,totalPages:Math.ceil(re/Q),onPageChange:ne,itemsPerPage:Q,totalItems:re})]})})})]}),f&&Ve.createPortal(e.jsx(e.Fragment,{children:e.jsxs("div",{className:"fixed inset-0 bg-black z-[9999] overflow-y-auto p-0 m-0",children:[e.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black z-50 pointer-events-none",style:{height:"env(safe-area-inset-top)",top:"var(--header-offset, 0px)"}}),e.jsx("div",{className:"fixed top-0 left-0 right-0 bg-black z-10 pt-0 pb-0 w-full m-0",style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top))",height:"76px"},children:e.jsx("div",{className:"max-w-[768px] mx-auto w-full",children:e.jsxs("div",{className:"flex items-center gap-3 px-4 pt-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ze,{ref:H,value:u,onChange:Le,showClearButton:u.trim().length>0,onClear:Te})}),e.jsx("button",{onClick:Oe,className:"px-4 py-2 text-white text-sm font-medium hover:text-zinc-300 transition-colors whitespace-nowrap flex-shrink-0",children:"Cancel"})]})})}),e.jsxs("div",{className:"max-w-[768px] mx-auto w-full",style:{paddingTop:"calc(52px + env(safe-area-inset-top))"},children:[e.jsx("div",{className:"sticky bg-black z-10 pt-3 pb-4",style:{top:"calc(76px + env(safe-area-inset-top))"},children:e.jsxs("div",{className:"flex items-center gap-3 px-4",children:[e.jsxs("button",{onClick:()=>pe("genre"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${P.length>0?"bg-[var(--accent-color)] text-white":"bg-white/10 text-white hover:bg-white/20"}`,"aria-label":"Filter by genre",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Genre"})]}),e.jsxs("button",{onClick:()=>pe("year"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${x.min!==null||x.max!==null?"bg-[var(--accent-color)] text-white":"bg-white/10 text-white hover:bg-white/20"}`,"aria-label":"Filter by year",children:[e.jsx(st,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Year"})]})]})}),e.jsx("div",{className:`fixed left-0 right-0 z-[60] lg:left-16 transition-[left,right] duration-300 ${K?"sidebar-open-right-offset":"xl:right-0"}`,style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top) + 76px + 4rem)",height:"24px",background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.8), transparent)"}}),e.jsx("div",{className:"pb-32",style:{paddingTop:"40px"},children:M?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-zinc-800 border-t-[var(--accent-color)]"})}):i?e.jsxs("div",{className:"space-y-8",children:[i.albums.length>0&&e.jsxs("div",{className:"px-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Albums"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:i.albums.map(t=>e.jsx(lt,{album:t,onClick:ze,onContextMenu:U,contextMenuItemId:(h==null?void 0:h.Id)||null},t.Id))})]}),i.artists.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4 px-4",children:"Artists"}),e.jsx("div",{className:"space-y-0",children:i.artists.slice(0,5).map(t=>e.jsx(rt,{artist:t,onClick:Re,onContextMenu:U,contextMenuItemId:(h==null?void 0:h.Id)||null},t.Id))})]}),i.playlists&&i.playlists.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4 px-4",children:"Playlists"}),e.jsx("div",{className:"space-y-0",children:i.playlists.map(t=>e.jsxs("button",{onClick:()=>Ue(t.Id),onContextMenu:r=>{r.preventDefault(),r.stopPropagation(),U(t,"playlist","desktop",{x:r.clientX,y:r.clientY})},className:"w-full flex items-center gap-3 hover:bg-white/10 transition-colors group px-4 py-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900 self-center",children:e.jsx("img",{src:D.getAlbumArtUrl(t.Id,96),alt:t.Name,className:"w-full h-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate group-hover:text-[var(--accent-color)] transition-colors",children:t.Name}),e.jsx("div",{className:"text-xs text-gray-400 truncate",children:t.ChildCount?`${t.ChildCount} tracks`:"Playlist"})]})]},t.Id))})]}),i.songs.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Songs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:Ye,className:"w-10 h-10 flex items-center justify-center text-white hover:bg-white/10 rounded-lg transition-colors","aria-label":"Play all songs",children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:He,className:"w-10 h-10 flex items-center justify-center text-white hover:bg-white/10 rounded-lg transition-colors","aria-label":"Add all songs to queue",children:e.jsx(We,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"space-y-0",children:i.songs.map((t,r)=>e.jsx(at,{song:t,onClick:Ge,onContextMenu:U,contextMenuItemId:(h==null?void 0:h.Id)||null,showImage:r<Pe},t.Id))})]}),i.artists.length===0&&i.albums.length===0&&(!i.playlists||i.playlists.length===0)&&i.songs.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400 px-4",children:[e.jsx("div",{className:"text-lg mb-2",children:"No results found"}),e.jsx("div",{className:"text-sm",children:"Try a different search term"})]})]}):e.jsx("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400 px-4"})})]})]})}),document.body),de==="genre"&&e.jsx(ye,{isOpen:ue,onClose:()=>q(!1),filterType:"genre",genres:d,selectedValues:P,onApply:De}),de==="year"&&e.jsx(ye,{isOpen:ue,onClose:()=>q(!1),filterType:"year",availableYears:ke,yearRange:x,onApplyYear:Fe}),e.jsx(Ce,{item:h,itemType:Se,isOpen:R,onClose:()=>{c(!1),$(null),se(null)},zIndex:99999,mode:z,position:A||void 0})]})}export{xt as default};
