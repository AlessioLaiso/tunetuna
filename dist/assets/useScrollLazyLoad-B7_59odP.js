import{r as t}from"./index-C0oM1pQ_.js";function p({totalCount:r,visibleCount:o,increment:n,setVisibleCount:c,threshold:l=1,enabled:s=!0}){const i=t.useRef(0),a=100,e=t.useCallback(()=>{const u=Date.now();if(u-i.current<a||(i.current=u,o>=r))return;const d=window.scrollY||document.documentElement.scrollTop||0,m=window.innerHeight,w=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);d+m*(1+l)>=w&&c(f=>Math.min(f+n,r))},[r,o,n,c,l]);t.useEffect(()=>{if(s)return window.addEventListener("scroll",e,{passive:!0}),e(),()=>{window.removeEventListener("scroll",e)}},[e,s])}export{p as u};
