const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-BZ5vnBLX.js","assets/search-C2J_xN8M.js","assets/FilterBottomSheet-ClVib5wF.js","assets/calendar-DzL3Oql7.js","assets/ArtistsPage-pSAtMZNR.js","assets/Pagination-BXBeLuuH.js","assets/arrow-up-down-CV-i31is.js","assets/AlbumsPage-BYpCL8ik.js","assets/SearchArtistItem-BSOHGyly.js","assets/SongsPage-J_hb4Med.js","assets/SongItem-Dk9RDFEd.js","assets/GenresPage-DDBL2cvs.js","assets/flame-DCekUZLg.js","assets/PlaylistsPage-DcjMhHSw.js","assets/PlaylistDetailPage-Di0CRG5P.js","assets/arrow-left-Bf1Jlg-o.js","assets/ellipsis-CUEEzHeO.js","assets/SettingsPage-Cq0VNX_8.js","assets/ArtistDetailPage-CPiL0Ibn.js","assets/useScrollLazyLoad-Cahz2TUz.js","assets/chevron-up-BzJOxGHx.js","assets/AlbumDetailPage-D_IkYkR2.js","assets/GenreSongsPage-YjEZ4SLf.js","assets/StatsPage-DlM1pALi.js"])))=>i.map(i=>d[i]);
var nm=Object.defineProperty;var rm=(e,t,n)=>t in e?nm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var It=(e,t,n)=>rm(e,typeof t!="symbol"?t+"":t,n);function sm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gc={exports:{}},Tl={},yc={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),lm=Symbol.for("react.portal"),om=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),cm=Symbol.for("react.context"),dm=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),mm=Symbol.for("react.memo"),hm=Symbol.for("react.lazy"),Da=Symbol.iterator;function pm(e){return e===null||typeof e!="object"?null:(e=Da&&e[Da]||e["@@iterator"],typeof e=="function"?e:null)}var vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xc=Object.assign,wc={};function pr(e,t,n){this.props=e,this.context=t,this.refs=wc,this.updater=n||vc}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sc(){}Sc.prototype=pr.prototype;function ji(e,t,n){this.props=e,this.context=t,this.refs=wc,this.updater=n||vc}var Ti=ji.prototype=new Sc;Ti.constructor=ji;xc(Ti,pr.prototype);Ti.isPureReactComponent=!0;var $a=Array.isArray,kc=Object.prototype.hasOwnProperty,Ri={current:null},Ic={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)kc.call(t,r)&&!Ic.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),u=0;u<i;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:cs,type:e,key:l,ref:o,props:s,_owner:Ri.current}}function gm(e,t){return{$$typeof:cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _i(e){return typeof e=="object"&&e!==null&&e.$$typeof===cs}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ua=/\/+/g;function ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function Ds(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cs:case lm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ql(o,0):r,$a(s)?(n="",e!=null&&(n=e.replace(Ua,"$&/")+"/"),Ds(s,t,n,"",function(u){return u})):s!=null&&(_i(s)&&(s=gm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ua,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",$a(e))for(var i=0;i<e.length;i++){l=e[i];var a=r+ql(l,i);o+=Ds(l,t,n,a,s)}else if(a=pm(e),typeof a=="function")for(e=a.call(e),i=0;!(l=e.next()).done;)l=l.value,a=r+ql(l,i++),o+=Ds(l,t,n,a,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ys(e,t,n){if(e==null)return e;var r=[],s=0;return Ds(e,r,"","",function(l){return t.call(n,l,s++)}),r}function vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},$s={transition:null},xm={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Ri};function Ec(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!_i(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=pr;J.Fragment=om;J.Profiler=am;J.PureComponent=ji;J.StrictMode=im;J.Suspense=fm;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;J.act=Ec;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xc({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Ri.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)kc.call(t,a)&&!Ic.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var u=0;u<a;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:cs,type:e.type,key:s,ref:l,props:r,_owner:o}};J.createContext=function(e){return e={$$typeof:cm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:um,_context:e},e.Consumer=e};J.createElement=Nc;J.createFactory=function(e){var t=Nc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:dm,render:e}};J.isValidElement=_i;J.lazy=function(e){return{$$typeof:hm,_payload:{_status:-1,_result:e},_init:vm}};J.memo=function(e,t){return{$$typeof:mm,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};J.unstable_act=Ec;J.useCallback=function(e,t){return Ge.current.useCallback(e,t)};J.useContext=function(e){return Ge.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};J.useEffect=function(e,t){return Ge.current.useEffect(e,t)};J.useId=function(){return Ge.current.useId()};J.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Ge.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};J.useRef=function(e){return Ge.current.useRef(e)};J.useState=function(e){return Ge.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Ge.current.useTransition()};J.version="18.3.1";yc.exports=J;var v=yc.exports;const Ai=pc(v),wm=sm({__proto__:null,default:Ai},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=v,km=Symbol.for("react.element"),Im=Symbol.for("react.fragment"),Nm=Object.prototype.hasOwnProperty,Em=Sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cm={key:!0,ref:!0,__self:!0,__source:!0};function Cc(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Nm.call(t,r)&&!Cm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:km,type:e,key:l,ref:o,props:s,_owner:Em.current}}Tl.Fragment=Im;Tl.jsx=Cc;Tl.jsxs=Cc;gc.exports=Tl;var c=gc.exports,To={},Pc={exports:{}},lt={},jc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,_){var M=C.length;C.push(_);e:for(;0<M;){var Q=M-1>>>1,Y=C[Q];if(0<s(Y,_))C[Q]=_,C[M]=Y,M=Q;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var _=C[0],M=C.pop();if(M!==_){C[0]=M;e:for(var Q=0,Y=C.length,X=Y>>>1;Q<X;){var oe=2*(Q+1)-1,$=C[oe],B=oe+1,ie=C[B];if(0>s($,M))B<Y&&0>s(ie,$)?(C[Q]=ie,C[B]=M,Q=B):(C[Q]=$,C[oe]=M,Q=oe);else if(B<Y&&0>s(ie,M))C[Q]=ie,C[B]=M,Q=B;else break e}}return _}function s(C,_){var M=C.sortIndex-_.sortIndex;return M!==0?M:C.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var a=[],u=[],d=1,f=null,h=3,k=!1,S=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=C)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function I(C){if(y=!1,g(C),!S)if(n(a)!==null)S=!0,D(w);else{var _=n(u);_!==null&&R(I,_.startTime-C)}}function w(C,_){S=!1,y&&(y=!1,p(P),P=-1),k=!0;var M=h;try{for(g(_),f=n(a);f!==null&&(!(f.expirationTime>_)||C&&!G());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var Y=Q(f.expirationTime<=_);_=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(a)&&r(a),g(_)}else r(a);f=n(a)}if(f!==null)var X=!0;else{var oe=n(u);oe!==null&&R(I,oe.startTime-_),X=!1}return X}finally{f=null,h=M,k=!1}}var N=!1,E=null,P=-1,T=5,A=-1;function G(){return!(e.unstable_now()-A<T)}function se(){if(E!==null){var C=e.unstable_now();A=C;var _=!0;try{_=E(!0,C)}finally{_?Ce():(N=!1,E=null)}}else N=!1}var Ce;if(typeof m=="function")Ce=function(){m(se)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,me=z.port2;z.port1.onmessage=se,Ce=function(){me.postMessage(null)}}else Ce=function(){x(se,0)};function D(C){E=C,N||(N=!0,Ce())}function R(C,_){P=x(function(){C(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){S||k||(S=!0,D(w))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var M=h;h=_;try{return C()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,_){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=h;h=C;try{return _()}finally{h=M}},e.unstable_scheduleCallback=function(C,_,M){var Q=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Q+M:Q):M=Q,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=M+Y,C={id:d++,callback:_,priorityLevel:C,startTime:M,expirationTime:Y,sortIndex:-1},M>Q?(C.sortIndex=M,t(u,C),n(a)===null&&C===n(u)&&(y?(p(P),P=-1):y=!0,R(I,M-Q))):(C.sortIndex=Y,t(a,C),S||k||(S=!0,D(w))),C},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(C){var _=h;return function(){var M=h;h=_;try{return C.apply(this,arguments)}finally{h=M}}}})(Tc);jc.exports=Tc;var Pm=jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=v,st=Pm;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rc=new Set,Vr={};function bn(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Vr[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=Object.prototype.hasOwnProperty,Tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fa={},Ba={};function Rm(e){return Ro.call(Ba,e)?!0:Ro.call(Fa,e)?!1:Tm.test(e)?Ba[e]=!0:(Fa[e]=!0,!1)}function _m(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Am(e,t,n,r){if(t===null||typeof t>"u"||_m(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Li=/[\-:]([a-z])/g;function Mi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Li,Mi);Me[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Li,Mi);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Li,Mi);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function bi(e,t,n,r){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Am(t,n,s,r)&&(n=null),r||s===null?Rm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Bn=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),zi=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),_c=Symbol.for("react.provider"),Ac=Symbol.for("react.context"),Oi=Symbol.for("react.forward_ref"),Ao=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Di=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Lc=Symbol.for("react.offscreen"),Va=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=Va&&e[Va]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Kl;function Rr(e){if(Kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||""}return`
`+Kl+e}var Xl=!1;function Jl(e,t){if(!e||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,i=l.length-1;1<=o&&0<=i&&s[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==l[i]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=i);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function Lm(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=Jl(e.type,!1),e;case 11:return e=Jl(e.type.render,!1),e;case 1:return e=Jl(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vn:return"Fragment";case Bn:return"Portal";case _o:return"Profiler";case zi:return"StrictMode";case Ao:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ac:return(e.displayName||"Context")+".Consumer";case _c:return(e._context.displayName||"Context")+".Provider";case Oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Di:return t=e.displayName||null,t!==null?t:Mo(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function Mm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(t);case 8:return t===zi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bm(e){var t=Mc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=bm(e))}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ga(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zc(e,t){t=t.checked,t!=null&&bi(e,"checked",t,!1)}function zo(e,t){zc(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oo(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oo(e,t,n){(t!=="number"||Js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _r=Array.isArray;function er(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Do(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ha(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(_r(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function Oc(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,$c=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zm=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(e){zm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mr[t]=Mr[e]})});function Uc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mr.hasOwnProperty(e)&&Mr[e]?(""+t).trim():t+"px"}function Fc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Om=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(e,t){if(t){if(Om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function $i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vo=null,tr=null,nr=null;function Ya(e){if(e=ms(e)){if(typeof Vo!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Ml(t),Vo(e.stateNode,e.type,t))}}function Bc(e){tr?nr?nr.push(e):nr=[e]:tr=e}function Vc(){if(tr){var e=tr,t=nr;if(nr=tr=null,Ya(e),t)for(e=0;e<t.length;e++)Ya(t[e])}}function Gc(e,t){return e(t)}function Qc(){}var Zl=!1;function Hc(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return Gc(e,t,n)}finally{Zl=!1,(tr!==null||nr!==null)&&(Qc(),Vc())}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Go=!1;if($t)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Go=!1}function Dm(e,t,n,r,s,l,o,i,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var br=!1,Zs=null,el=!1,Qo=null,$m={onError:function(e){br=!0,Zs=e}};function Um(e,t,n,r,s,l,o,i,a){br=!1,Zs=null,Dm.apply($m,arguments)}function Fm(e,t,n,r,s,l,o,i,a){if(Um.apply(this,arguments),br){if(br){var u=Zs;br=!1,Zs=null}else throw Error(j(198));el||(el=!0,Qo=u)}}function zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qa(e){if(zn(e)!==e)throw Error(j(188))}function Bm(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return qa(s),e;if(l===r)return qa(s),t;l=l.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,i=s.child;i;){if(i===n){o=!0,n=s,r=l;break}if(i===r){o=!0,r=s,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,r=s;break}if(i===r){o=!0,r=l,n=s;break}i=i.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Yc(e){return e=Bm(e),e!==null?qc(e):null}function qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qc(e);if(t!==null)return t;e=e.sibling}return null}var Kc=st.unstable_scheduleCallback,Ka=st.unstable_cancelCallback,Vm=st.unstable_shouldYield,Gm=st.unstable_requestPaint,Se=st.unstable_now,Qm=st.unstable_getCurrentPriorityLevel,Ui=st.unstable_ImmediatePriority,Xc=st.unstable_UserBlockingPriority,tl=st.unstable_NormalPriority,Hm=st.unstable_LowPriority,Jc=st.unstable_IdlePriority,Rl=null,jt=null;function Wm(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Km,Ym=Math.log,qm=Math.LN2;function Km(e){return e>>>=0,e===0?32:31-(Ym(e)/qm|0)|0}var Ss=64,ks=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~s;i!==0?r=Ar(i):(l&=o,l!==0&&(r=Ar(l)))}else o=n&~s,o!==0?r=Ar(o):l!==0&&(r=Ar(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Xm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-wt(l),i=1<<o,a=s[o];a===-1?(!(i&n)||i&r)&&(s[o]=Xm(i,t)):a<=t&&(e.expiredLanes|=i),l&=~i}}function Ho(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zc(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ds(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Fi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function ed(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var td,Bi,nd,rd,sd,Wo=!1,Is=[],ln=null,on=null,an=null,Hr=new Map,Wr=new Map,en=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xa(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function Nr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=ms(t),t!==null&&Bi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function th(e,t,n,r,s){switch(t){case"focusin":return ln=Nr(ln,e,t,n,r,s),!0;case"dragenter":return on=Nr(on,e,t,n,r,s),!0;case"mouseover":return an=Nr(an,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Hr.set(l,Nr(Hr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Wr.set(l,Nr(Wr.get(l)||null,e,t,n,r,s)),!0}return!1}function ld(e){var t=Nn(e.target);if(t!==null){var n=zn(t);if(n!==null){if(t=n.tag,t===13){if(t=Wc(n),t!==null){e.blockedOn=t,sd(e.priority,function(){nd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bo=r,n.target.dispatchEvent(r),Bo=null}else return t=ms(n),t!==null&&Bi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ja(e,t,n){Us(e)&&n.delete(t)}function nh(){Wo=!1,ln!==null&&Us(ln)&&(ln=null),on!==null&&Us(on)&&(on=null),an!==null&&Us(an)&&(an=null),Hr.forEach(Ja),Wr.forEach(Ja)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,nh)))}function Yr(e){function t(s){return Er(s,e)}if(0<Is.length){Er(Is[0],e);for(var n=1;n<Is.length;n++){var r=Is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Er(ln,e),on!==null&&Er(on,e),an!==null&&Er(an,e),Hr.forEach(t),Wr.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)ld(n),n.blockedOn===null&&en.shift()}var rr=Vt.ReactCurrentBatchConfig,rl=!0;function rh(e,t,n,r){var s=le,l=rr.transition;rr.transition=null;try{le=1,Vi(e,t,n,r)}finally{le=s,rr.transition=l}}function sh(e,t,n,r){var s=le,l=rr.transition;rr.transition=null;try{le=4,Vi(e,t,n,r)}finally{le=s,rr.transition=l}}function Vi(e,t,n,r){if(rl){var s=Yo(e,t,n,r);if(s===null)co(e,t,r,sl,n),Xa(e,r);else if(th(s,e,t,n,r))r.stopPropagation();else if(Xa(e,r),t&4&&-1<eh.indexOf(e)){for(;s!==null;){var l=ms(s);if(l!==null&&td(l),l=Yo(e,t,n,r),l===null&&co(e,t,r,sl,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else co(e,t,r,null,n)}}var sl=null;function Yo(e,t,n,r){if(sl=null,e=$i(r),e=Nn(e),e!==null)if(t=zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qm()){case Ui:return 1;case Xc:return 4;case tl:case Hm:return 16;case Jc:return 536870912;default:return 16}default:return 16}}var nn=null,Gi=null,Fs=null;function id(){if(Fs)return Fs;var e,t=Gi,n=t.length,r,s="value"in nn?nn.value:nn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return Fs=s.slice(e,1<r?1-r:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function Za(){return!1}function ot(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ns:Za,this.isPropagationStopped=Za,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=ot(gr),fs=ye({},gr,{view:0,detail:0}),lh=ot(fs),to,no,Cr,_l=ye({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(to=e.screenX-Cr.screenX,no=e.screenY-Cr.screenY):no=to=0,Cr=e),to)},movementY:function(e){return"movementY"in e?e.movementY:no}}),eu=ot(_l),oh=ye({},_l,{dataTransfer:0}),ih=ot(oh),ah=ye({},fs,{relatedTarget:0}),ro=ot(ah),uh=ye({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ch=ot(uh),dh=ye({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=ot(dh),mh=ye({},gr,{data:0}),tu=ot(mh),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gh[e])?!!t[e]:!1}function Hi(){return yh}var vh=ye({},fs,{key:function(e){if(e.key){var t=hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ph[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xh=ot(vh),wh=ye({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=ot(wh),Sh=ye({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),kh=ot(Sh),Ih=ye({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=ot(Ih),Eh=ye({},_l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ch=ot(Eh),Ph=[9,13,27,32],Wi=$t&&"CompositionEvent"in window,zr=null;$t&&"documentMode"in document&&(zr=document.documentMode);var jh=$t&&"TextEvent"in window&&!zr,ad=$t&&(!Wi||zr&&8<zr&&11>=zr),ru=" ",su=!1;function ud(e,t){switch(e){case"keyup":return Ph.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Th(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(su=!0,ru);case"textInput":return e=t.data,e===ru&&su?null:e;default:return null}}function Rh(e,t){if(Gn)return e==="compositionend"||!Wi&&ud(e,t)?(e=id(),Fs=Gi=nn=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var _h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_h[e.type]:t==="textarea"}function dd(e,t,n,r){Bc(r),t=ll(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Or=null,qr=null;function Ah(e){kd(e,0)}function Al(e){var t=Wn(e);if(bc(t))return e}function Lh(e,t){if(e==="change")return t}var fd=!1;if($t){var so;if($t){var lo="oninput"in document;if(!lo){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),lo=typeof ou.oninput=="function"}so=lo}else so=!1;fd=so&&(!document.documentMode||9<document.documentMode)}function iu(){Or&&(Or.detachEvent("onpropertychange",md),qr=Or=null)}function md(e){if(e.propertyName==="value"&&Al(qr)){var t=[];dd(t,qr,e,$i(e)),Hc(Ah,t)}}function Mh(e,t,n){e==="focusin"?(iu(),Or=t,qr=n,Or.attachEvent("onpropertychange",md)):e==="focusout"&&iu()}function bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(qr)}function zh(e,t){if(e==="click")return Al(t)}function Oh(e,t){if(e==="input"||e==="change")return Al(t)}function Dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Dh;function Kr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ro.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uu(e,t){var n=au(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=au(n)}}function hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function Yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $h(e){var t=pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hd(n.ownerDocument.documentElement,n)){if(r!==null&&Yi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=uu(n,l);var o=uu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uh=$t&&"documentMode"in document&&11>=document.documentMode,Qn=null,qo=null,Dr=null,Ko=!1;function cu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ko||Qn==null||Qn!==Js(r)||(r=Qn,"selectionStart"in r&&Yi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dr&&Kr(Dr,r)||(Dr=r,r=ll(qo,"onSelect"),0<r.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qn)))}function Es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},oo={},gd={};$t&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function Ll(e){if(oo[e])return oo[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gd)return oo[e]=t[n];return e}var yd=Ll("animationend"),vd=Ll("animationiteration"),xd=Ll("animationstart"),wd=Ll("transitionend"),Sd=new Map,du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){Sd.set(e,t),bn(t,[e])}for(var io=0;io<du.length;io++){var ao=du[io],Fh=ao.toLowerCase(),Bh=ao[0].toUpperCase()+ao.slice(1);vn(Fh,"on"+Bh)}vn(yd,"onAnimationEnd");vn(vd,"onAnimationIteration");vn(xd,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(wd,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function fu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fm(r,t,void 0,e),e.currentTarget=null}function kd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],a=i.instance,u=i.currentTarget;if(i=i.listener,a!==l&&s.isPropagationStopped())break e;fu(s,i,u),l=a}else for(o=0;o<r.length;o++){if(i=r[o],a=i.instance,u=i.currentTarget,i=i.listener,a!==l&&s.isPropagationStopped())break e;fu(s,i,u),l=a}}}if(el)throw e=Qo,el=!1,Qo=null,e}function de(e,t){var n=t[ti];n===void 0&&(n=t[ti]=new Set);var r=e+"__bubble";n.has(r)||(Id(t,e,2,!1),n.add(r))}function uo(e,t,n){var r=0;t&&(r|=4),Id(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Cs]){e[Cs]=!0,Rc.forEach(function(n){n!=="selectionchange"&&(Vh.has(n)||uo(n,!1,e),uo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,uo("selectionchange",!1,t))}}function Id(e,t,n,r){switch(od(t)){case 1:var s=rh;break;case 4:s=sh;break;default:s=Vi}n=s.bind(null,t,n,e),s=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function co(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;i!==null;){if(o=Nn(i),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}i=i.parentNode}}r=r.return}Hc(function(){var u=l,d=$i(n),f=[];e:{var h=Sd.get(e);if(h!==void 0){var k=Qi,S=e;switch(e){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":k=xh;break;case"focusin":S="focus",k=ro;break;case"focusout":S="blur",k=ro;break;case"beforeblur":case"afterblur":k=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=kh;break;case yd:case vd:case xd:k=ch;break;case wd:k=Nh;break;case"scroll":k=lh;break;case"wheel":k=Ch;break;case"copy":case"cut":case"paste":k=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=nu}var y=(t&4)!==0,x=!y&&e==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,g;m!==null;){g=m;var I=g.stateNode;if(g.tag===5&&I!==null&&(g=I,p!==null&&(I=Qr(m,p),I!=null&&y.push(Jr(m,I,g)))),x)break;m=m.return}0<y.length&&(h=new k(h,S,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",h&&n!==Bo&&(S=n.relatedTarget||n.fromElement)&&(Nn(S)||S[Ut]))break e;if((k||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,k?(S=n.relatedTarget||n.toElement,k=u,S=S?Nn(S):null,S!==null&&(x=zn(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(k=null,S=u),k!==S)){if(y=eu,I="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=nu,I="onPointerLeave",p="onPointerEnter",m="pointer"),x=k==null?h:Wn(k),g=S==null?h:Wn(S),h=new y(I,m+"leave",k,n,d),h.target=x,h.relatedTarget=g,I=null,Nn(d)===u&&(y=new y(p,m+"enter",S,n,d),y.target=g,y.relatedTarget=x,I=y),x=I,k&&S)t:{for(y=k,p=S,m=0,g=y;g;g=$n(g))m++;for(g=0,I=p;I;I=$n(I))g++;for(;0<m-g;)y=$n(y),m--;for(;0<g-m;)p=$n(p),g--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=$n(y),p=$n(p)}y=null}else y=null;k!==null&&mu(f,h,k,y,!1),S!==null&&x!==null&&mu(f,x,S,y,!0)}}e:{if(h=u?Wn(u):window,k=h.nodeName&&h.nodeName.toLowerCase(),k==="select"||k==="input"&&h.type==="file")var w=Lh;else if(lu(h))if(fd)w=Oh;else{w=bh;var N=Mh}else(k=h.nodeName)&&k.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=zh);if(w&&(w=w(e,u))){dd(f,w,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Oo(h,"number",h.value)}switch(N=u?Wn(u):window,e){case"focusin":(lu(N)||N.contentEditable==="true")&&(Qn=N,qo=u,Dr=null);break;case"focusout":Dr=qo=Qn=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,cu(f,n,d);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":cu(f,n,d)}var E;if(Wi)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Gn?ud(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(ad&&n.locale!=="ko"&&(Gn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Gn&&(E=id()):(nn=d,Gi="value"in nn?nn.value:nn.textContent,Gn=!0)),N=ll(u,P),0<N.length&&(P=new tu(P,e,null,n,d),f.push({event:P,listeners:N}),E?P.data=E:(E=cd(n),E!==null&&(P.data=E)))),(E=jh?Th(e,n):Rh(e,n))&&(u=ll(u,"onBeforeInput"),0<u.length&&(d=new tu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}kd(f,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Qr(e,n),l!=null&&r.unshift(Jr(e,l,s)),l=Qr(e,t),l!=null&&r.push(Jr(e,l,s))),e=e.return}return r}function $n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mu(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var i=n,a=i.alternate,u=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&u!==null&&(i=u,s?(a=Qr(n,l),a!=null&&o.unshift(Jr(n,a,i))):s||(a=Qr(n,l),a!=null&&o.push(Jr(n,a,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Gh=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function hu(e){return(typeof e=="string"?e:""+e).replace(Gh,`
`).replace(Qh,"")}function Ps(e,t,n){if(t=hu(t),hu(e)!==t&&n)throw Error(j(425))}function ol(){}var Xo=null,Jo=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ei=typeof setTimeout=="function"?setTimeout:void 0,Hh=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof pu<"u"?function(e){return pu.resolve(null).then(e).catch(Yh)}:ei;function Yh(e){setTimeout(function(){throw e})}function fo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Yr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yr(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+yr,Zr="__reactProps$"+yr,Ut="__reactContainer$"+yr,ti="__reactEvents$"+yr,qh="__reactListeners$"+yr,Kh="__reactHandles$"+yr;function Nn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gu(e);e!==null;){if(n=e[Ct])return n;e=gu(e)}return t}e=n,n=e.parentNode}return null}function ms(e){return e=e[Ct]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Ml(e){return e[Zr]||null}var ni=[],Yn=-1;function xn(e){return{current:e}}function fe(e){0>Yn||(e.current=ni[Yn],ni[Yn]=null,Yn--)}function ce(e,t){Yn++,ni[Yn]=e.current,e.current=t}var yn={},$e=xn(yn),Xe=xn(!1),Rn=yn;function ar(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function il(){fe(Xe),fe($e)}function yu(e,t,n){if($e.current!==yn)throw Error(j(168));ce($e,t),ce(Xe,n)}function Nd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,Mm(e)||"Unknown",s));return ye({},n,r)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Rn=$e.current,ce($e,e),ce(Xe,Xe.current),!0}function vu(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Nd(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,fe(Xe),fe($e),ce($e,e)):fe(Xe),ce(Xe,n)}var Lt=null,bl=!1,mo=!1;function Ed(e){Lt===null?Lt=[e]:Lt.push(e)}function Xh(e){bl=!0,Ed(e)}function wn(){if(!mo&&Lt!==null){mo=!0;var e=0,t=le;try{var n=Lt;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,bl=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(e+1)),Kc(Ui,wn),s}finally{le=t,mo=!1}}return null}var qn=[],Kn=0,ul=null,cl=0,it=[],at=0,_n=null,Mt=1,bt="";function kn(e,t){qn[Kn++]=cl,qn[Kn++]=ul,ul=e,cl=t}function Cd(e,t,n){it[at++]=Mt,it[at++]=bt,it[at++]=_n,_n=e;var r=Mt;e=bt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var l=32-wt(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mt=1<<32-wt(t)+s|n<<s|r,bt=l+e}else Mt=1<<l|n<<s|r,bt=e}function qi(e){e.return!==null&&(kn(e,1),Cd(e,1,0))}function Ki(e){for(;e===ul;)ul=qn[--Kn],qn[Kn]=null,cl=qn[--Kn],qn[Kn]=null;for(;e===_n;)_n=it[--at],it[at]=null,bt=it[--at],it[at]=null,Mt=it[--at],it[at]=null}var rt=null,nt=null,he=!1,xt=null;function Pd(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Mt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function ri(e){return(e.mode&1)!==0&&(e.flags&128)===0}function si(e){if(he){var t=nt;if(t){var n=t;if(!xu(e,t)){if(ri(e))throw Error(j(418));t=un(n.nextSibling);var r=rt;t&&xu(e,t)?Pd(r,n):(e.flags=e.flags&-4097|2,he=!1,rt=e)}}else{if(ri(e))throw Error(j(418));e.flags=e.flags&-4097|2,he=!1,rt=e}}}function wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function js(e){if(e!==rt)return!1;if(!he)return wu(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=nt)){if(ri(e))throw jd(),Error(j(418));for(;t;)Pd(e,t),t=un(t.nextSibling)}if(wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?un(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=nt;e;)e=un(e.nextSibling)}function ur(){nt=rt=null,he=!1}function Xi(e){xt===null?xt=[e]:xt.push(e)}var Jh=Vt.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=s.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Su(e){var t=e._init;return t(e._payload)}function Td(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=mn(p,m),p.index=0,p.sibling=null,p}function l(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,m,g,I){return m===null||m.tag!==6?(m=wo(g,p.mode,I),m.return=p,m):(m=s(m,g),m.return=p,m)}function a(p,m,g,I){var w=g.type;return w===Vn?d(p,m,g.props.children,I,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Jt&&Su(w)===m.type)?(I=s(m,g.props),I.ref=Pr(p,m,g),I.return=p,I):(I=qs(g.type,g.key,g.props,null,p.mode,I),I.ref=Pr(p,m,g),I.return=p,I)}function u(p,m,g,I){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=So(g,p.mode,I),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,I,w){return m===null||m.tag!==7?(m=jn(g,p.mode,I,w),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wo(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return g=qs(m.type,m.key,m.props,null,p.mode,g),g.ref=Pr(p,null,m),g.return=p,g;case Bn:return m=So(m,p.mode,g),m.return=p,m;case Jt:var I=m._init;return f(p,I(m._payload),g)}if(_r(m)||kr(m))return m=jn(m,p.mode,g,null),m.return=p,m;Ts(p,m)}return null}function h(p,m,g,I){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:i(p,m,""+g,I);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:return g.key===w?a(p,m,g,I):null;case Bn:return g.key===w?u(p,m,g,I):null;case Jt:return w=g._init,h(p,m,w(g._payload),I)}if(_r(g)||kr(g))return w!==null?null:d(p,m,g,I,null);Ts(p,g)}return null}function k(p,m,g,I,w){if(typeof I=="string"&&I!==""||typeof I=="number")return p=p.get(g)||null,i(m,p,""+I,w);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case vs:return p=p.get(I.key===null?g:I.key)||null,a(m,p,I,w);case Bn:return p=p.get(I.key===null?g:I.key)||null,u(m,p,I,w);case Jt:var N=I._init;return k(p,m,g,N(I._payload),w)}if(_r(I)||kr(I))return p=p.get(g)||null,d(m,p,I,w,null);Ts(m,I)}return null}function S(p,m,g,I){for(var w=null,N=null,E=m,P=m=0,T=null;E!==null&&P<g.length;P++){E.index>P?(T=E,E=null):T=E.sibling;var A=h(p,E,g[P],I);if(A===null){E===null&&(E=T);break}e&&E&&A.alternate===null&&t(p,E),m=l(A,m,P),N===null?w=A:N.sibling=A,N=A,E=T}if(P===g.length)return n(p,E),he&&kn(p,P),w;if(E===null){for(;P<g.length;P++)E=f(p,g[P],I),E!==null&&(m=l(E,m,P),N===null?w=E:N.sibling=E,N=E);return he&&kn(p,P),w}for(E=r(p,E);P<g.length;P++)T=k(E,p,P,g[P],I),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?P:T.key),m=l(T,m,P),N===null?w=T:N.sibling=T,N=T);return e&&E.forEach(function(G){return t(p,G)}),he&&kn(p,P),w}function y(p,m,g,I){var w=kr(g);if(typeof w!="function")throw Error(j(150));if(g=w.call(g),g==null)throw Error(j(151));for(var N=w=null,E=m,P=m=0,T=null,A=g.next();E!==null&&!A.done;P++,A=g.next()){E.index>P?(T=E,E=null):T=E.sibling;var G=h(p,E,A.value,I);if(G===null){E===null&&(E=T);break}e&&E&&G.alternate===null&&t(p,E),m=l(G,m,P),N===null?w=G:N.sibling=G,N=G,E=T}if(A.done)return n(p,E),he&&kn(p,P),w;if(E===null){for(;!A.done;P++,A=g.next())A=f(p,A.value,I),A!==null&&(m=l(A,m,P),N===null?w=A:N.sibling=A,N=A);return he&&kn(p,P),w}for(E=r(p,E);!A.done;P++,A=g.next())A=k(E,p,P,A.value,I),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?P:A.key),m=l(A,m,P),N===null?w=A:N.sibling=A,N=A);return e&&E.forEach(function(se){return t(p,se)}),he&&kn(p,P),w}function x(p,m,g,I){if(typeof g=="object"&&g!==null&&g.type===Vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:e:{for(var w=g.key,N=m;N!==null;){if(N.key===w){if(w=g.type,w===Vn){if(N.tag===7){n(p,N.sibling),m=s(N,g.props.children),m.return=p,p=m;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Jt&&Su(w)===N.type){n(p,N.sibling),m=s(N,g.props),m.ref=Pr(p,N,g),m.return=p,p=m;break e}n(p,N);break}else t(p,N);N=N.sibling}g.type===Vn?(m=jn(g.props.children,p.mode,I,g.key),m.return=p,p=m):(I=qs(g.type,g.key,g.props,null,p.mode,I),I.ref=Pr(p,m,g),I.return=p,p=I)}return o(p);case Bn:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=So(g,p.mode,I),m.return=p,p=m}return o(p);case Jt:return N=g._init,x(p,m,N(g._payload),I)}if(_r(g))return S(p,m,g,I);if(kr(g))return y(p,m,g,I);Ts(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,g),m.return=p,p=m):(n(p,m),m=wo(g,p.mode,I),m.return=p,p=m),o(p)):n(p,m)}return x}var cr=Td(!0),Rd=Td(!1),dl=xn(null),fl=null,Xn=null,Ji=null;function Zi(){Ji=Xn=fl=null}function ea(e){var t=dl.current;fe(dl),e._currentValue=t}function li(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sr(e,t){fl=e,Ji=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(Ji!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(fl===null)throw Error(j(308));Xn=e,fl.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var En=null;function ta(e){En===null?En=[e]:En.push(e)}function _d(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ta(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ft(e,n)}return s=r.interleaved,s===null?(t.next=t,ta(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ft(e,n)}function Vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fi(e,n)}}function ku(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ml(e,t,n,r){var s=e.updateQueue;Zt=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var a=i,u=a.next;a.next=null,o===null?l=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==o&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=a))}if(l!==null){var f=s.baseState;o=0,d=u=a=null,i=l;do{var h=i.lane,k=i.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:k,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var S=e,y=i;switch(h=t,k=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){f=S.call(k,f,h);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,h=typeof S=="function"?S.call(k,f,h):S,h==null)break e;f=ye({},f,h);break e;case 2:Zt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else k={eventTime:k,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=k,a=f):d=d.next=k,o|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Ln|=o,e.lanes=o,e.memoizedState=f}}function Iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var hs={},Tt=xn(hs),es=xn(hs),ts=xn(hs);function Cn(e){if(e===hs)throw Error(j(174));return e}function ra(e,t){switch(ce(ts,t),ce(es,e),ce(Tt,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$o(t,e)}fe(Tt),ce(Tt,t)}function dr(){fe(Tt),fe(es),fe(ts)}function Ld(e){Cn(ts.current);var t=Cn(Tt.current),n=$o(t,e.type);t!==n&&(ce(es,e),ce(Tt,n))}function sa(e){es.current===e&&(fe(Tt),fe(es))}var pe=xn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=[];function la(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var Gs=Vt.ReactCurrentDispatcher,po=Vt.ReactCurrentBatchConfig,An=0,ge=null,Pe=null,Re=null,pl=!1,$r=!1,ns=0,Zh=0;function ze(){throw Error(j(321))}function oa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,s,l){if(An=l,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?rp:sp,e=n(r,s),$r){l=0;do{if($r=!1,ns=0,25<=l)throw Error(j(301));l+=1,Re=Pe=null,t.updateQueue=null,Gs.current=lp,e=n(r,s)}while($r)}if(Gs.current=gl,t=Pe!==null&&Pe.next!==null,An=0,Re=Pe=ge=null,pl=!1,t)throw Error(j(300));return e}function aa(){var e=ns!==0;return ns=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=e:Re=Re.next=e,Re}function mt(){if(Pe===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Re===null?ge.memoizedState:Re.next;if(t!==null)Re=t,Pe=e;else{if(e===null)throw Error(j(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?ge.memoizedState=Re=e:Re=Re.next=e}return Re}function rs(e,t){return typeof t=="function"?t(e):t}function go(e){var t=mt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var i=o=null,a=null,u=l;do{var d=u.lane;if((An&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(i=a=f,o=r):a=a.next=f,ge.lanes|=d,Ln|=d}u=u.next}while(u!==null&&u!==l);a===null?o=r:a.next=i,kt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,ge.lanes|=l,Ln|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yo(e){var t=mt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);kt(l,t.memoizedState)||(Ke=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Md(){}function bd(e,t){var n=ge,r=mt(),s=t(),l=!kt(r.memoizedState,s);if(l&&(r.memoizedState=s,Ke=!0),r=r.queue,ua(Dd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,ss(9,Od.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(j(349));An&30||zd(n,t,s)}return s}function zd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Od(e,t,n,r){t.value=n,t.getSnapshot=r,$d(t)&&Ud(e)}function Dd(e,t,n){return n(function(){$d(t)&&Ud(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Ud(e){var t=Ft(e,1);t!==null&&St(t,e,1,-1)}function Nu(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t.queue=e,e=e.dispatch=np.bind(null,ge,e),[t.memoizedState,e]}function ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fd(){return mt().memoizedState}function Qs(e,t,n,r){var s=Et();ge.flags|=e,s.memoizedState=ss(1|t,n,void 0,r===void 0?null:r)}function zl(e,t,n,r){var s=mt();r=r===void 0?null:r;var l=void 0;if(Pe!==null){var o=Pe.memoizedState;if(l=o.destroy,r!==null&&oa(r,o.deps)){s.memoizedState=ss(t,n,l,r);return}}ge.flags|=e,s.memoizedState=ss(1|t,n,l,r)}function Eu(e,t){return Qs(8390656,8,e,t)}function ua(e,t){return zl(2048,8,e,t)}function Bd(e,t){return zl(4,2,e,t)}function Vd(e,t){return zl(4,4,e,t)}function Gd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qd(e,t,n){return n=n!=null?n.concat([e]):null,zl(4,4,Gd.bind(null,t,e),n)}function ca(){}function Hd(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wd(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yd(e,t,n){return An&21?(kt(n,t)||(n=Zc(),ge.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function ep(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{le=n,po.transition=r}}function qd(){return mt().memoizedState}function tp(e,t,n){var r=fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kd(e))Xd(t,n);else if(n=_d(e,t,n,r),n!==null){var s=Ve();St(n,e,r,s),Jd(n,t,r)}}function np(e,t,n){var r=fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kd(e))Xd(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,n);if(s.hasEagerState=!0,s.eagerState=i,kt(i,o)){var a=t.interleaved;a===null?(s.next=s,ta(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=_d(e,t,s,r),n!==null&&(s=Ve(),St(n,e,r,s),Jd(n,t,r))}}function Kd(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Xd(e,t){$r=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fi(e,n)}}var gl={readContext:ft,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},rp={readContext:ft,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Eu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4194308,4,Gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tp.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Nu,useDebugValue:ca,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Nu(!1),t=e[0];return e=ep.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Et();if(he){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),_e===null)throw Error(j(349));An&30||zd(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Eu(Dd.bind(null,r,l,e),[e]),r.flags|=2048,ss(9,Od.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Et(),t=_e.identifierPrefix;if(he){var n=bt,r=Mt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sp={readContext:ft,useCallback:Hd,useContext:ft,useEffect:ua,useImperativeHandle:Qd,useInsertionEffect:Bd,useLayoutEffect:Vd,useMemo:Wd,useReducer:go,useRef:Fd,useState:function(){return go(rs)},useDebugValue:ca,useDeferredValue:function(e){var t=mt();return Yd(t,Pe.memoizedState,e)},useTransition:function(){var e=go(rs)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Md,useSyncExternalStore:bd,useId:qd,unstable_isNewReconciler:!1},lp={readContext:ft,useCallback:Hd,useContext:ft,useEffect:ua,useImperativeHandle:Qd,useInsertionEffect:Bd,useLayoutEffect:Vd,useMemo:Wd,useReducer:yo,useRef:Fd,useState:function(){return yo(rs)},useDebugValue:ca,useDeferredValue:function(e){var t=mt();return Pe===null?t.memoizedState=e:Yd(t,Pe.memoizedState,e)},useTransition:function(){var e=yo(rs)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Md,useSyncExternalStore:bd,useId:qd,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ol={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=fn(e),l=Dt(r,s);l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,s),t!==null&&(St(t,e,s,r),Vs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=fn(e),l=Dt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,s),t!==null&&(St(t,e,s,r),Vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=fn(e),s=Dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,r),t!==null&&(St(t,e,r,n),Vs(t,e,r))}};function Cu(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Kr(n,r)||!Kr(s,l):!0}function Zd(e,t,n){var r=!1,s=yn,l=t.contextType;return typeof l=="object"&&l!==null?l=ft(l):(s=Je(t)?Rn:$e.current,r=t.contextTypes,l=(r=r!=null)?ar(e,s):yn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Pu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ol.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},na(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=ft(l):(l=Je(t)?Rn:$e.current,s.context=ar(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(oi(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ol.enqueueReplaceState(s,s.state,null),ml(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var n="",r=t;do n+=Lm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function vo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ai(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var op=typeof WeakMap=="function"?WeakMap:Map;function ef(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vl||(vl=!0,vi=r),ai(e,t)},n}function tf(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ai(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ai(e,t),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ju(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new op;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wp.bind(null,e,t,n),t.then(e,e))}function Tu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ru(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var ip=Vt.ReactCurrentOwner,Ke=!1;function Be(e,t,n,r){t.child=e===null?Rd(t,null,n,r):cr(t,e.child,n,r)}function _u(e,t,n,r,s){n=n.render;var l=t.ref;return sr(t,s),r=ia(e,t,n,r,l,s),n=aa(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(he&&n&&qi(t),t.flags|=1,Be(e,t,r,s),t.child)}function Au(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!va(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,nf(e,t,l,r,s)):(e=qs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(o,r)&&e.ref===t.ref)return Bt(e,t,s)}return t.flags|=1,e=mn(l,r),e.ref=t.ref,e.return=t,t.child=e}function nf(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Kr(l,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Bt(e,t,s)}return ui(e,t,n,r,s)}function rf(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Zn,tt),tt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Zn,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ce(Zn,tt),tt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ce(Zn,tt),tt|=r;return Be(e,t,s,n),t.child}function sf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ui(e,t,n,r,s){var l=Je(n)?Rn:$e.current;return l=ar(t,l),sr(t,s),n=ia(e,t,n,r,l,s),r=aa(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(he&&r&&qi(t),t.flags|=1,Be(e,t,n,s),t.child)}function Lu(e,t,n,r,s){if(Je(n)){var l=!0;al(t)}else l=!1;if(sr(t,s),t.stateNode===null)Hs(e,t),Zd(t,n,r),ii(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Je(n)?Rn:$e.current,u=ar(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||a!==u)&&Pu(t,o,r,u),Zt=!1;var h=t.memoizedState;o.state=h,ml(t,r,o,s),a=t.memoizedState,i!==r||h!==a||Xe.current||Zt?(typeof d=="function"&&(oi(t,n,d,r),a=t.memoizedState),(i=Zt||Cu(t,n,i,r,h,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ad(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:yt(t.type,i),o.props=u,f=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ft(a):(a=Je(n)?Rn:$e.current,a=ar(t,a));var k=n.getDerivedStateFromProps;(d=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==f||h!==a)&&Pu(t,o,r,a),Zt=!1,h=t.memoizedState,o.state=h,ml(t,r,o,s);var S=t.memoizedState;i!==f||h!==S||Xe.current||Zt?(typeof k=="function"&&(oi(t,n,k,r),S=t.memoizedState),(u=Zt||Cu(t,n,u,r,h,S,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ci(e,t,n,r,l,s)}function ci(e,t,n,r,s,l){sf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&vu(t,n,!1),Bt(e,t,l);r=t.stateNode,ip.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=cr(t,e.child,null,l),t.child=cr(t,null,i,l)):Be(e,t,i,l),t.memoizedState=r.state,s&&vu(t,n,!0),t.child}function lf(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),ra(e,t.containerInfo)}function Mu(e,t,n,r,s){return ur(),Xi(s),t.flags|=256,Be(e,t,n,r),t.child}var di={dehydrated:null,treeContext:null,retryLane:0};function fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function of(e,t,n){var r=t.pendingProps,s=pe.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(pe,s&1),e===null)return si(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Ul(o,r,0,null),e=jn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=fi(n),t.memoizedState=di,e):da(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return ap(e,t,o,r,i,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,i=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=mn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=mn(i,l):(l=jn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?fi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=di,r}return l=e.child,e=l.sibling,r=mn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function da(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rs(e,t,n,r){return r!==null&&Xi(r),cr(t,e.child,null,n),e=da(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ap(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=vo(Error(j(422))),Rs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Ul({mode:"visible",children:r.children},s,0,null),l=jn(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&cr(t,e.child,null,o),t.child.memoizedState=fi(o),t.memoizedState=di,l);if(!(t.mode&1))return Rs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(j(419)),r=vo(l,r,void 0),Rs(e,t,o,r)}if(i=(o&e.childLanes)!==0,Ke||i){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Ft(e,s),St(r,e,s,-1))}return ya(),r=vo(Error(j(421))),Rs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Sp.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,nt=un(s.nextSibling),rt=t,he=!0,xt=null,e!==null&&(it[at++]=Mt,it[at++]=bt,it[at++]=_n,Mt=e.id,bt=e.overflow,_n=t),t=da(t,r.children),t.flags|=4096,t)}function bu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),li(e.return,t,n)}function xo(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function af(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Be(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bu(e,n,t);else if(e.tag===19)bu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(pe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xo(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xo(t,!0,n,null,l);break;case"together":xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function up(e,t,n){switch(t.tag){case 3:lf(t),ur();break;case 5:Ld(t);break;case 1:Je(t.type)&&al(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(dl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?of(e,t,n):(ce(pe,pe.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);ce(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return af(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,rf(e,t,n)}return Bt(e,t,n)}var uf,mi,cf,df;uf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mi=function(){};cf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cn(Tt.current);var l=null;switch(n){case"input":s=bo(e,s),r=bo(e,r),l=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),l=[];break;case"textarea":s=Do(e,s),r=Do(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ol)}Uo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var a=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==i&&(a!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&i[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(l=l||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&de("scroll",e),l||i===a||(l=[])):(l=l||[]).push(u,a))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};df=function(e,t,n,r){n!==r&&(t.flags|=4)};function jr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cp(e,t,n){var r=t.pendingProps;switch(Ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Je(t.type)&&il(),Oe(t),null;case 3:return r=t.stateNode,dr(),fe(Xe),fe($e),la(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Si(xt),xt=null))),mi(e,t),Oe(t),null;case 5:sa(t);var s=Cn(ts.current);if(n=t.type,e!==null&&t.stateNode!=null)cf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return Oe(t),null}if(e=Cn(Tt.current),js(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ct]=t,r[Zr]=l,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)de(Lr[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Ga(r,l),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},de("invalid",r);break;case"textarea":Ha(r,l),de("invalid",r)}Uo(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&Ps(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&Ps(r.textContent,i,e),s=["children",""+i]):Vr.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":xs(r),Qa(r,l,!0);break;case"textarea":xs(r),Wa(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ol)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ct]=t,e[Zr]=r,uf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fo(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)de(Lr[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":Ga(e,r),s=bo(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":Ha(e,r),s=Do(e,r),de("invalid",e);break;default:s=r}Uo(n,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="style"?Fc(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&$c(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Gr(e,a):typeof a=="number"&&Gr(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&de("scroll",e):a!=null&&bi(e,l,a,o))}switch(n){case"input":xs(e),Qa(e,r,!1);break;case"textarea":xs(e),Wa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?er(e,!!r.multiple,l,!1):r.defaultValue!=null&&er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)df(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Cn(ts.current),Cn(Tt.current),js(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(l=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:Ps(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Oe(t),null;case 13:if(fe(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&nt!==null&&t.mode&1&&!(t.flags&128))jd(),ur(),t.flags|=98560,l=!1;else if(l=js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(j(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(j(317));l[Ct]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),l=!1}else xt!==null&&(Si(xt),xt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?je===0&&(je=3):ya())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return dr(),mi(e,t),e===null&&Xr(t.stateNode.containerInfo),Oe(t),null;case 10:return ea(t.type._context),Oe(t),null;case 17:return Je(t.type)&&il(),Oe(t),null;case 19:if(fe(pe),l=t.memoizedState,l===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)jr(l,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hl(e),o!==null){for(t.flags|=128,jr(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(pe,pe.current&1|2),t.child}e=e.sibling}l.tail!==null&&Se()>mr&&(t.flags|=128,r=!0,jr(l,!1),t.lanes=4194304)}else{if(!r)if(e=hl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!he)return Oe(t),null}else 2*Se()-l.renderingStartTime>mr&&n!==1073741824&&(t.flags|=128,r=!0,jr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Se(),t.sibling=null,n=pe.current,ce(pe,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return ga(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function dp(e,t){switch(Ki(t),t.tag){case 1:return Je(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),fe(Xe),fe($e),la(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sa(t),null;case 13:if(fe(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(pe),null;case 4:return dr(),null;case 10:return ea(t.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var _s=!1,De=!1,fp=typeof WeakSet=="function"?WeakSet:Set,b=null;function Jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function hi(e,t,n){try{n()}catch(r){ve(e,t,r)}}var zu=!1;function mp(e,t){if(Xo=rl,e=pd(),Yi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,i=-1,a=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var k;f!==n||s!==0&&f.nodeType!==3||(i=o+s),f!==l||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(k=f.firstChild)!==null;)h=f,f=k;for(;;){if(f===e)break t;if(h===n&&++u===s&&(i=o),h===l&&++d===r&&(a=o),(k=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=k}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jo={focusedElem:e,selectionRange:n},rl=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,x=S.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:yt(t.type,y),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(I){ve(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return S=zu,zu=!1,S}function Ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&hi(t,n,l)}s=s.next}while(s!==r)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Zr],delete t[ti],delete t[qh],delete t[Kh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mf(e){return e.tag===5||e.tag===3||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(r!==4&&(e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}function yi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yi(e,t,n),e=e.sibling;e!==null;)yi(e,t,n),e=e.sibling}var Ae=null,vt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)hf(e,t,n),n=n.sibling}function hf(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:De||Jn(n,t);case 6:var r=Ae,s=vt;Ae=null,Xt(e,t,n),Ae=r,vt=s,Ae!==null&&(vt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(vt?(e=Ae,n=n.stateNode,e.nodeType===8?fo(e.parentNode,n):e.nodeType===1&&fo(e,n),Yr(e)):fo(Ae,n.stateNode));break;case 4:r=Ae,s=vt,Ae=n.stateNode.containerInfo,vt=!0,Xt(e,t,n),Ae=r,vt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&hi(n,t,o),s=s.next}while(s!==r)}Xt(e,t,n);break;case 1:if(!De&&(Jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ve(n,t,i)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Xt(e,t,n),De=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function Du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fp),t.forEach(function(r){var s=kp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Ae=i.stateNode,vt=!1;break e;case 3:Ae=i.stateNode.containerInfo,vt=!0;break e;case 4:Ae=i.stateNode.containerInfo,vt=!0;break e}i=i.return}if(Ae===null)throw Error(j(160));hf(l,o,s),Ae=null,vt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}function pf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Nt(e),r&4){try{Ur(3,e,e.return),Dl(3,e)}catch(y){ve(e,e.return,y)}try{Ur(5,e,e.return)}catch(y){ve(e,e.return,y)}}break;case 1:gt(t,e),Nt(e),r&512&&n!==null&&Jn(n,n.return);break;case 5:if(gt(t,e),Nt(e),r&512&&n!==null&&Jn(n,n.return),e.flags&32){var s=e.stateNode;try{Gr(s,"")}catch(y){ve(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,i=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&zc(s,l),Fo(i,o);var u=Fo(i,l);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Fc(s,f):d==="dangerouslySetInnerHTML"?$c(s,f):d==="children"?Gr(s,f):bi(s,d,f,u)}switch(i){case"input":zo(s,l);break;case"textarea":Oc(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?er(s,!!l.multiple,k,!1):h!==!!l.multiple&&(l.defaultValue!=null?er(s,!!l.multiple,l.defaultValue,!0):er(s,!!l.multiple,l.multiple?[]:"",!1))}s[Zr]=l}catch(y){ve(e,e.return,y)}}break;case 6:if(gt(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(y){ve(e,e.return,y)}}break;case 3:if(gt(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yr(t.containerInfo)}catch(y){ve(e,e.return,y)}break;case 4:gt(t,e),Nt(e);break;case 13:gt(t,e),Nt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(ha=Se())),r&4&&Du(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||d,gt(t,e),De=u):gt(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(b=e,d=e.child;d!==null;){for(f=b=d;b!==null;){switch(h=b,k=h.child,h.tag){case 0:case 11:case 14:case 15:Ur(4,h,h.return);break;case 1:Jn(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){ve(r,n,y)}}break;case 5:Jn(h,h.return);break;case 22:if(h.memoizedState!==null){Uu(f);continue}}k!==null?(k.return=h,b=k):Uu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=Uc("display",o))}catch(y){ve(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ve(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(t,e),Nt(e),r&4&&Du(e);break;case 21:break;default:gt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mf(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gr(s,""),r.flags&=-33);var l=Ou(e);yi(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Ou(e);gi(e,i,o);break;default:throw Error(j(161))}}catch(a){ve(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hp(e,t,n){b=e,gf(e)}function gf(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var s=b,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_s;if(!o){var i=s.alternate,a=i!==null&&i.memoizedState!==null||De;i=_s;var u=De;if(_s=o,(De=a)&&!u)for(b=s;b!==null;)o=b,a=o.child,o.tag===22&&o.memoizedState!==null?Fu(s):a!==null?(a.return=o,b=a):Fu(s);for(;l!==null;)b=l,gf(l),l=l.sibling;b=s,_s=i,De=u}$u(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,b=l):$u(e)}}function $u(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Iu(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Iu(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}De||t.flags&512&&pi(t)}catch(h){ve(t,t.return,h)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Uu(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function Fu(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(a){ve(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){ve(t,s,a)}}var l=t.return;try{pi(t)}catch(a){ve(t,l,a)}break;case 5:var o=t.return;try{pi(t)}catch(a){ve(t,o,a)}}}catch(a){ve(t,t.return,a)}if(t===e){b=null;break}var i=t.sibling;if(i!==null){i.return=t.return,b=i;break}b=t.return}}var pp=Math.ceil,yl=Vt.ReactCurrentDispatcher,fa=Vt.ReactCurrentOwner,dt=Vt.ReactCurrentBatchConfig,te=0,_e=null,Ee=null,Le=0,tt=0,Zn=xn(0),je=0,ls=null,Ln=0,$l=0,ma=0,Fr=null,qe=null,ha=0,mr=1/0,At=null,vl=!1,vi=null,dn=null,As=!1,rn=null,xl=0,Br=0,xi=null,Ws=-1,Ys=0;function Ve(){return te&6?Se():Ws!==-1?Ws:Ws=Se()}function fn(e){return e.mode&1?te&2&&Le!==0?Le&-Le:Jh.transition!==null?(Ys===0&&(Ys=Zc()),Ys):(e=le,e!==0||(e=window.event,e=e===void 0?16:od(e.type)),e):1}function St(e,t,n,r){if(50<Br)throw Br=0,xi=null,Error(j(185));ds(e,n,r),(!(te&2)||e!==_e)&&(e===_e&&(!(te&2)&&($l|=n),je===4&&tn(e,Le)),Ze(e,r),n===1&&te===0&&!(t.mode&1)&&(mr=Se()+500,bl&&wn()))}function Ze(e,t){var n=e.callbackNode;Jm(e,t);var r=nl(e,e===_e?Le:0);if(r===0)n!==null&&Ka(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ka(n),t===1)e.tag===0?Xh(Bu.bind(null,e)):Ed(Bu.bind(null,e)),Wh(function(){!(te&6)&&wn()}),n=null;else{switch(ed(r)){case 1:n=Ui;break;case 4:n=Xc;break;case 16:n=tl;break;case 536870912:n=Jc;break;default:n=tl}n=Nf(n,yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yf(e,t){if(Ws=-1,Ys=0,te&6)throw Error(j(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var r=nl(e,e===_e?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wl(e,r);else{t=r;var s=te;te|=2;var l=xf();(_e!==e||Le!==t)&&(At=null,mr=Se()+500,Pn(e,t));do try{vp();break}catch(i){vf(e,i)}while(!0);Zi(),yl.current=l,te=s,Ee!==null?t=0:(_e=null,Le=0,t=je)}if(t!==0){if(t===2&&(s=Ho(e),s!==0&&(r=s,t=wi(e,s))),t===1)throw n=ls,Pn(e,0),tn(e,r),Ze(e,Se()),n;if(t===6)tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!gp(s)&&(t=wl(e,r),t===2&&(l=Ho(e),l!==0&&(r=l,t=wi(e,l))),t===1))throw n=ls,Pn(e,0),tn(e,r),Ze(e,Se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:In(e,qe,At);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=ha+500-Se(),10<t)){if(nl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ei(In.bind(null,e,qe,At),t);break}In(e,qe,At);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wt(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pp(r/1960))-r,10<r){e.timeoutHandle=ei(In.bind(null,e,qe,At),r);break}In(e,qe,At);break;case 5:In(e,qe,At);break;default:throw Error(j(329))}}}return Ze(e,Se()),e.callbackNode===n?yf.bind(null,e):null}function wi(e,t){var n=Fr;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=wl(e,t),e!==2&&(t=qe,qe=n,t!==null&&Si(t)),e}function Si(e){qe===null?qe=e:qe.push.apply(qe,e)}function gp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!kt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~ma,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Bu(e){if(te&6)throw Error(j(327));lr();var t=nl(e,0);if(!(t&1))return Ze(e,Se()),null;var n=wl(e,t);if(e.tag!==0&&n===2){var r=Ho(e);r!==0&&(t=r,n=wi(e,r))}if(n===1)throw n=ls,Pn(e,0),tn(e,t),Ze(e,Se()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,qe,At),Ze(e,Se()),null}function pa(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(mr=Se()+500,bl&&wn())}}function Mn(e){rn!==null&&rn.tag===0&&!(te&6)&&lr();var t=te;te|=1;var n=dt.transition,r=le;try{if(dt.transition=null,le=1,e)return e()}finally{le=r,dt.transition=n,te=t,!(te&6)&&wn()}}function ga(){tt=Zn.current,fe(Zn)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hh(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Ki(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:dr(),fe(Xe),fe($e),la();break;case 5:sa(r);break;case 4:dr();break;case 13:fe(pe);break;case 19:fe(pe);break;case 10:ea(r.type._context);break;case 22:case 23:ga()}n=n.return}if(_e=e,Ee=e=mn(e.current,null),Le=tt=t,je=0,ls=null,ma=$l=Ln=0,qe=Fr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}En=null}return e}function vf(e,t){do{var n=Ee;try{if(Zi(),Gs.current=gl,pl){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pl=!1}if(An=0,Re=Pe=ge=null,$r=!1,ns=0,fa.current=null,n===null||n.return===null){je=1,ls=t,Ee=null;break}e:{var l=e,o=n.return,i=n,a=t;if(t=Le,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var k=Tu(o);if(k!==null){k.flags&=-257,Ru(k,o,i,l,t),k.mode&1&&ju(l,u,t),t=k,a=u;var S=t.updateQueue;if(S===null){var y=new Set;y.add(a),t.updateQueue=y}else S.add(a);break e}else{if(!(t&1)){ju(l,u,t),ya();break e}a=Error(j(426))}}else if(he&&i.mode&1){var x=Tu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ru(x,o,i,l,t),Xi(fr(a,i));break e}}l=a=fr(a,i),je!==4&&(je=2),Fr===null?Fr=[l]:Fr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=ef(l,a,t);ku(l,p);break e;case 1:i=a;var m=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dn===null||!dn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var I=tf(l,i,t);ku(l,I);break e}}l=l.return}while(l!==null)}Sf(n)}catch(w){t=w,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function xf(){var e=yl.current;return yl.current=gl,e===null?gl:e}function ya(){(je===0||je===3||je===2)&&(je=4),_e===null||!(Ln&268435455)&&!($l&268435455)||tn(_e,Le)}function wl(e,t){var n=te;te|=2;var r=xf();(_e!==e||Le!==t)&&(At=null,Pn(e,t));do try{yp();break}catch(s){vf(e,s)}while(!0);if(Zi(),te=n,yl.current=r,Ee!==null)throw Error(j(261));return _e=null,Le=0,je}function yp(){for(;Ee!==null;)wf(Ee)}function vp(){for(;Ee!==null&&!Vm();)wf(Ee)}function wf(e){var t=If(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Sf(e):Ee=t,fa.current=null}function Sf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dp(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Ee=null;return}}else if(n=cp(n,t,tt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);je===0&&(je=5)}function In(e,t,n){var r=le,s=dt.transition;try{dt.transition=null,le=1,xp(e,t,n,r)}finally{dt.transition=s,le=r}return null}function xp(e,t,n,r){do lr();while(rn!==null);if(te&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Zm(e,l),e===_e&&(Ee=_e=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||As||(As=!0,Nf(tl,function(){return lr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=dt.transition,dt.transition=null;var o=le;le=1;var i=te;te|=4,fa.current=null,mp(e,n),pf(n,e),$h(Jo),rl=!!Xo,Jo=Xo=null,e.current=n,hp(n),Gm(),te=i,le=o,dt.transition=l}else e.current=n;if(As&&(As=!1,rn=e,xl=s),l=e.pendingLanes,l===0&&(dn=null),Wm(n.stateNode),Ze(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vl)throw vl=!1,e=vi,vi=null,e;return xl&1&&e.tag!==0&&lr(),l=e.pendingLanes,l&1?e===xi?Br++:(Br=0,xi=e):Br=0,wn(),null}function lr(){if(rn!==null){var e=ed(xl),t=dt.transition,n=le;try{if(dt.transition=null,le=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,xl=0,te&6)throw Error(j(331));var s=te;for(te|=4,b=e.current;b!==null;){var l=b,o=l.child;if(b.flags&16){var i=l.deletions;if(i!==null){for(var a=0;a<i.length;a++){var u=i[a];for(b=u;b!==null;){var d=b;switch(d.tag){case 0:case 11:case 15:Ur(8,d,l)}var f=d.child;if(f!==null)f.return=d,b=f;else for(;b!==null;){d=b;var h=d.sibling,k=d.return;if(ff(d),d===u){b=null;break}if(h!==null){h.return=k,b=h;break}b=k}}}var S=l.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}b=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,b=o;else e:for(;b!==null;){if(l=b,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ur(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,b=p;break e}b=l.return}}var m=e.current;for(b=m;b!==null;){o=b;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,b=g;else e:for(o=m;b!==null;){if(i=b,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Dl(9,i)}}catch(w){ve(i,i.return,w)}if(i===o){b=null;break e}var I=i.sibling;if(I!==null){I.return=i.return,b=I;break e}b=i.return}}if(te=s,wn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{le=n,dt.transition=t}}return!1}function Vu(e,t,n){t=fr(n,t),t=ef(e,t,1),e=cn(e,t,1),t=Ve(),e!==null&&(ds(e,1,t),Ze(e,t))}function ve(e,t,n){if(e.tag===3)Vu(e,e,n);else for(;t!==null;){if(t.tag===3){Vu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){e=fr(n,e),e=tf(t,e,1),t=cn(t,e,1),e=Ve(),t!==null&&(ds(t,1,e),Ze(t,e));break}}t=t.return}}function wp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Le&n)===n&&(je===4||je===3&&(Le&130023424)===Le&&500>Se()-ha?Pn(e,0):ma|=n),Ze(e,t)}function kf(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var n=Ve();e=Ft(e,t),e!==null&&(ds(e,t,n),Ze(e,n))}function Sp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kf(e,n)}function kp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),kf(e,n)}var If;If=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,up(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,he&&t.flags&1048576&&Cd(t,cl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var s=ar(t,$e.current);sr(t,n),s=ia(null,t,r,e,s,n);var l=aa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(l=!0,al(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,na(t),s.updater=Ol,t.stateNode=s,s._reactInternals=t,ii(t,r,e,n),t=ci(null,t,r,!0,l,n)):(t.tag=0,he&&l&&qi(t),Be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Np(r),e=yt(r,e),s){case 0:t=ui(null,t,r,e,n);break e;case 1:t=Lu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Au(null,t,r,yt(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),ui(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Lu(e,t,r,s,n);case 3:e:{if(lf(t),e===null)throw Error(j(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Ad(e,t),ml(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=fr(Error(j(423)),t),t=Mu(e,t,r,n,s);break e}else if(r!==s){s=fr(Error(j(424)),t),t=Mu(e,t,r,n,s);break e}else for(nt=un(t.stateNode.containerInfo.firstChild),rt=t,he=!0,xt=null,n=Rd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),r===s){t=Bt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Ld(t),e===null&&si(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,Zo(r,s)?o=null:l!==null&&Zo(r,l)&&(t.flags|=32),sf(e,t),Be(e,t,o,n),t.child;case 6:return e===null&&si(t),null;case 13:return of(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),_u(e,t,r,s,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,ce(dl,r._currentValue),r._currentValue=o,l!==null)if(kt(l.value,o)){if(l.children===s.children&&!Xe.current){t=Bt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=Dt(-1,n&-n),a.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),li(l.return,n,t),i.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(j(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),li(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,sr(t,n),s=ft(s),r=r(s),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,s=yt(r,t.pendingProps),s=yt(r.type,s),Au(e,t,r,s,n);case 15:return nf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Hs(e,t),t.tag=1,Je(r)?(e=!0,al(t)):e=!1,sr(t,n),Zd(t,r,s),ii(t,r,s,n),ci(null,t,r,!0,e,n);case 19:return af(e,t,n);case 22:return rf(e,t,n)}throw Error(j(156,t.tag))};function Nf(e,t){return Kc(e,t)}function Ip(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new Ip(e,t,n,r)}function va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Np(e){if(typeof e=="function")return va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oi)return 11;if(e===Di)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")va(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vn:return jn(n.children,s,l,t);case zi:o=8,s|=8;break;case _o:return e=ut(12,n,t,s|2),e.elementType=_o,e.lanes=l,e;case Ao:return e=ut(13,n,t,s),e.elementType=Ao,e.lanes=l,e;case Lo:return e=ut(19,n,t,s),e.elementType=Lo,e.lanes=l,e;case Lc:return Ul(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _c:o=10;break e;case Ac:o=9;break e;case Oi:o=11;break e;case Di:o=14;break e;case Jt:o=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=ut(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function jn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=ut(22,e,r,t),e.elementType=Lc,e.lanes=n,e.stateNode={isHidden:!1},e}function wo(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function So(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ep(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xa(e,t,n,r,s,l,o,i,a){return e=new Ep(e,t,n,i,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ut(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(l),e}function Cp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ef(e){if(!e)return yn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Je(n))return Nd(e,n,t)}return t}function Cf(e,t,n,r,s,l,o,i,a){return e=xa(n,r,!0,e,s,l,o,i,a),e.context=Ef(null),n=e.current,r=Ve(),s=fn(n),l=Dt(r,s),l.callback=t??null,cn(n,l,s),e.current.lanes=s,ds(e,s,r),Ze(e,r),e}function Fl(e,t,n,r){var s=t.current,l=Ve(),o=fn(s);return n=Ef(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(s,t,o),e!==null&&(St(e,s,o,l),Vs(e,s,o)),o}function Sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wa(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function Pp(){return null}var Pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sa(e){this._internalRoot=e}Bl.prototype.render=Sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Fl(e,t,null,null)};Bl.prototype.unmount=Sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mn(function(){Fl(null,e,null,null)}),t[Ut]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&ld(e)}};function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qu(){}function jp(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=Sl(o);l.call(u)}}var o=Cf(t,r,e,0,null,!1,!1,"",Qu);return e._reactRootContainer=o,e[Ut]=o.current,Xr(e.nodeType===8?e.parentNode:e),Mn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=Sl(a);i.call(u)}}var a=xa(e,0,!1,null,null,!1,!1,"",Qu);return e._reactRootContainer=a,e[Ut]=a.current,Xr(e.nodeType===8?e.parentNode:e),Mn(function(){Fl(t,a,n,r)}),a}function Gl(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var i=s;s=function(){var a=Sl(o);i.call(a)}}Fl(t,o,e,s)}else o=jp(n,t,e,s,r);return Sl(o)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ar(t.pendingLanes);n!==0&&(Fi(t,n|1),Ze(t,Se()),!(te&6)&&(mr=Se()+500,wn()))}break;case 13:Mn(function(){var r=Ft(e,1);if(r!==null){var s=Ve();St(r,e,1,s)}}),wa(e,1)}};Bi=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ve();St(t,e,134217728,n)}wa(e,134217728)}};nd=function(e){if(e.tag===13){var t=fn(e),n=Ft(e,t);if(n!==null){var r=Ve();St(n,e,t,r)}wa(e,t)}};rd=function(){return le};sd=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Vo=function(e,t,n){switch(t){case"input":if(zo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ml(r);if(!s)throw Error(j(90));bc(r),zo(r,s)}}}break;case"textarea":Oc(e,n);break;case"select":t=n.value,t!=null&&er(e,!!n.multiple,t,!1)}};Gc=pa;Qc=Mn;var Tp={usingClientEntryPoint:!1,Events:[ms,Wn,Ml,Bc,Vc,pa]},Tr={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rp={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yc(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||Pp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{Rl=Ls.inject(Rp),jt=Ls}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tp;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ka(t))throw Error(j(200));return Cp(e,t,null,n)};lt.createRoot=function(e,t){if(!ka(e))throw Error(j(299));var n=!1,r="",s=Pf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xa(e,1,!1,null,null,n,!1,r,s),e[Ut]=t.current,Xr(e.nodeType===8?e.parentNode:e),new Sa(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Yc(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Mn(e)};lt.hydrate=function(e,t,n){if(!Vl(t))throw Error(j(200));return Gl(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!ka(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=Pf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cf(t,null,e,1,n??null,s,!1,l,o),e[Ut]=t.current,Xr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bl(t)};lt.render=function(e,t,n){if(!Vl(t))throw Error(j(200));return Gl(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Vl(e))throw Error(j(40));return e._reactRootContainer?(Mn(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};lt.unstable_batchedUpdates=pa;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vl(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Gl(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(e){console.error(e)}}jf(),Pc.exports=lt;var Ia=Pc.exports,Hu=Ia;To.createRoot=Hu.createRoot,To.hydrateRoot=Hu.hydrateRoot;const _p="modulepreload",Ap=function(e){return"/"+e},Wu={},ht=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Ap(a),a in Wu)return;Wu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_p,u||(f.as="script"),f.crossOrigin="",f.href=a,i&&f.setAttribute("nonce",i),document.head.appendChild(f),u)return new Promise((h,k)=>{f.addEventListener("load",h),f.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${a}`)))})}))}function l(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return s.then(o=>{for(const i of o||[])i.status==="rejected"&&l(i.reason);return t().catch(l)})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(this,arguments)}var sn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sn||(sn={}));const Yu="popstate";function Lp(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:o,hash:i}=r.location;return ki("",{pathname:l,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:kl(s)}return bp(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Na(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mp(){return Math.random().toString(36).substr(2,8)}function qu(e,t){return{usr:e.state,key:e.key,idx:t}}function ki(e,t,n,r){return n===void 0&&(n=null),os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vr(t):t,{state:n,key:t&&t.key||r||Mp()})}function kl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bp(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,o=s.history,i=sn.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(os({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){i=sn.Pop;let x=d(),p=x==null?null:x-u;u=x,a&&a({action:i,location:y.location,delta:p})}function h(x,p){i=sn.Push;let m=ki(y.location,x,p);u=d()+1;let g=qu(m,u),I=y.createHref(m);try{o.pushState(g,"",I)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(I)}l&&a&&a({action:i,location:y.location,delta:1})}function k(x,p){i=sn.Replace;let m=ki(y.location,x,p);u=d();let g=qu(m,u),I=y.createHref(m);o.replaceState(g,"",I),l&&a&&a({action:i,location:y.location,delta:0})}function S(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:kl(x);return m=m.replace(/ $/,"%20"),ke(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return i},get location(){return e(s,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Yu,f),a=x,()=>{s.removeEventListener(Yu,f),a=null}},createHref(x){return t(s,x)},createURL:S,encodeLocation(x){let p=S(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:k,go(x){return o.go(x)}};return y}var Ku;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ku||(Ku={}));function zp(e,t,n){return n===void 0&&(n="/"),Op(e,t,n)}function Op(e,t,n,r){let s=typeof t=="string"?vr(t):t,l=Ea(s.pathname||"/",n);if(l==null)return null;let o=Tf(e);Dp(o);let i=null;for(let a=0;i==null&&a<o.length;++a){let u=Kp(l);i=Wp(o[a],u)}return i}function Tf(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,o,i)=>{let a={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};a.relativePath.startsWith("/")&&(ke(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=hn([r,a.relativePath]),d=n.concat(a);l.children&&l.children.length>0&&(ke(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tf(l.children,t,d,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Qp(u,l.index),routesMeta:d})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,o);else for(let a of Rf(l.path))s(l,o,a)}),t}function Rf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let o=Rf(r.join("/")),i=[];return i.push(...o.map(a=>a===""?l:[l,a].join("/"))),s&&i.push(...o),i.map(a=>e.startsWith("/")&&a===""?"/":a)}function Dp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $p=/^:[\w-]+$/,Up=3,Fp=2,Bp=1,Vp=10,Gp=-2,Xu=e=>e==="*";function Qp(e,t){let n=e.split("/"),r=n.length;return n.some(Xu)&&(r+=Gp),t&&(r+=Fp),n.filter(s=>!Xu(s)).reduce((s,l)=>s+($p.test(l)?Up:l===""?Bp:Vp),r)}function Hp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Wp(e,t,n){let{routesMeta:r}=e,s={},l="/",o=[];for(let i=0;i<r.length;++i){let a=r[i],u=i===r.length-1,d=l==="/"?t:t.slice(l.length)||"/",f=Yp({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),h=a.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:hn([l,f.pathname]),pathnameBase:tg(hn([l,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(l=hn([l,f.pathnameBase]))}return o}function Yp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qp(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],o=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:k}=d;if(h==="*"){let y=i[f]||"";o=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const S=i[f];return k&&!S?u[h]=void 0:u[h]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function qp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Na(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,a)=>(r.push({paramName:i,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Kp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Na(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jp=e=>Xp.test(e);function Zp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?vr(e):e,l;if(n)if(Jp(n))l=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Na(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?l=Ju(n.substring(1),"/"):l=Ju(n,t)}else l=t;return{pathname:l,search:ng(r),hash:rg(s)}}function Ju(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ko(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ca(e,t){let n=eg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pa(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=vr(e):(s=os({},e),ke(!s.pathname||!s.pathname.includes("?"),ko("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),ko("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),ko("#","search","hash",s)));let l=e===""||s.pathname==="",o=l?"/":s.pathname,i;if(o==null)i=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}i=f>=0?t[f]:"/"}let a=Zp(s,i),u=o&&o!=="/"&&o.endsWith("/"),d=(l||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const hn=e=>e.join("/").replace(/\/\/+/g,"/"),tg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ng=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _f=["post","put","patch","delete"];new Set(_f);const lg=["get",..._f];new Set(lg);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},is.apply(this,arguments)}const ja=v.createContext(null),og=v.createContext(null),Sn=v.createContext(null),Ql=v.createContext(null),Gt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Af=v.createContext(null);function ig(e,t){let{relative:n}=t===void 0?{}:t;xr()||ke(!1);let{basename:r,navigator:s}=v.useContext(Sn),{hash:l,pathname:o,search:i}=Mf(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:hn([r,o])),s.createHref({pathname:a,search:i,hash:l})}function xr(){return v.useContext(Ql)!=null}function Qt(){return xr()||ke(!1),v.useContext(Ql).location}function Lf(e){v.useContext(Sn).static||v.useLayoutEffect(e)}function ps(){let{isDataRoute:e}=v.useContext(Gt);return e?wg():ag()}function ag(){xr()||ke(!1);let e=v.useContext(ja),{basename:t,future:n,navigator:r}=v.useContext(Sn),{matches:s}=v.useContext(Gt),{pathname:l}=Qt(),o=JSON.stringify(Ca(s,n.v7_relativeSplatPath)),i=v.useRef(!1);return Lf(()=>{i.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let f=Pa(u,JSON.parse(o),l,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,l,e])}function av(){let{matches:e}=v.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function Mf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Sn),{matches:s}=v.useContext(Gt),{pathname:l}=Qt(),o=JSON.stringify(Ca(s,r.v7_relativeSplatPath));return v.useMemo(()=>Pa(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function ug(e,t){return cg(e,t)}function cg(e,t,n,r){xr()||ke(!1);let{navigator:s}=v.useContext(Sn),{matches:l}=v.useContext(Gt),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=Qt(),d;if(t){var f;let x=typeof t=="string"?vr(t):t;a==="/"||(f=x.pathname)!=null&&f.startsWith(a)||ke(!1),d=x}else d=u;let h=d.pathname||"/",k=h;if(a!=="/"){let x=a.replace(/^\//,"").split("/");k="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=zp(e,{pathname:k}),y=pg(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:hn([a,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:hn([a,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,r);return t&&y?v.createElement(Ql.Provider,{value:{location:is({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sn.Pop}},y):y}function dg(){let e=xg(),t=sg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const fg=v.createElement(dg,null);class mg extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Gt.Provider,{value:this.props.routeContext},v.createElement(Af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hg(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(ja);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gt.Provider,{value:t},r)}function pg(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);d>=0||ke(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:k}=n,S=f.route.loader&&h[f.route.id]===void 0&&(!k||k[f.route.id]===void 0);if(f.route.lazy||S){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let k,S=!1,y=null,x=null;n&&(k=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||fg,a&&(u<0&&h===0?(Sg("route-fallback"),S=!0,x=null):u===h&&(S=!0,x=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),m=()=>{let g;return k?g=y:S?g=x:f.route.Component?g=v.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,v.createElement(hg,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(mg,{location:n.location,revalidation:n.revalidation,component:y,error:k,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var bf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bf||{}),zf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zf||{});function gg(e){let t=v.useContext(ja);return t||ke(!1),t}function yg(e){let t=v.useContext(og);return t||ke(!1),t}function vg(e){let t=v.useContext(Gt);return t||ke(!1),t}function Of(e){let t=vg(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function xg(){var e;let t=v.useContext(Af),n=yg(),r=Of();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function wg(){let{router:e}=gg(bf.UseNavigateStable),t=Of(zf.UseNavigateStable),n=v.useRef(!1);return Lf(()=>{n.current=!0}),v.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,is({fromRouteId:t},l)))},[e,t])}const Zu={};function Sg(e,t,n){Zu[e]||(Zu[e]=!0)}function kg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ig(e){let{to:t,replace:n,state:r,relative:s}=e;xr()||ke(!1);let{future:l,static:o}=v.useContext(Sn),{matches:i}=v.useContext(Gt),{pathname:a}=Qt(),u=ps(),d=Pa(t,Ca(i,l.v7_relativeSplatPath),a,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function We(e){ke(!1)}function Ng(e){let{basename:t="/",children:n=null,location:r,navigationType:s=sn.Pop,navigator:l,static:o=!1,future:i}=e;xr()&&ke(!1);let a=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:a,navigator:l,static:o,future:is({v7_relativeSplatPath:!1},i)}),[a,i,l,o]);typeof r=="string"&&(r=vr(r));let{pathname:d="/",search:f="",hash:h="",state:k=null,key:S="default"}=r,y=v.useMemo(()=>{let x=Ea(d,a);return x==null?null:{location:{pathname:x,search:f,hash:h,state:k,key:S},navigationType:s}},[a,d,f,h,k,S,s]);return y==null?null:v.createElement(Sn.Provider,{value:u},v.createElement(Ql.Provider,{children:n,value:y}))}function Eg(e){let{children:t,location:n}=e;return ug(Ii(t),n)}new Promise(()=>{});function Ii(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let l=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Ii(r.props.children,l));return}r.type!==We&&ke(!1),!r.props.index||!r.props.children||ke(!1);let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ii(r.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ni.apply(this,arguments)}function Cg(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Pg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jg(e,t){return e.button===0&&(!t||t==="_self")&&!Pg(e)}function Ei(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Tg(e,t){let n=Ei(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(l=>{n.append(s,l)})}),n}const Rg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_g="6";try{window.__reactRouterVersion=_g}catch{}const Ag="startTransition",ec=wm[Ag];function Lg(e){let{basename:t,children:n,future:r,window:s}=e,l=v.useRef();l.current==null&&(l.current=Lp({window:s,v5Compat:!0}));let o=l.current,[i,a]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&ec?ec(()=>a(f)):a(f)},[a,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>kg(r),[r]),v.createElement(Ng,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}const Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tc=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:o,state:i,target:a,to:u,preventScrollReset:d,viewTransition:f}=t,h=Cg(t,Rg),{basename:k}=v.useContext(Sn),S,y=!1;if(typeof u=="string"&&bg.test(u)&&(S=u,Mg))try{let g=new URL(window.location.href),I=u.startsWith("//")?new URL(g.protocol+u):new URL(u),w=Ea(I.pathname,k);I.origin===g.origin&&w!=null?u=w+I.search+I.hash:y=!0}catch{}let x=ig(u,{relative:s}),p=zg(u,{replace:o,state:i,target:a,preventScrollReset:d,relative:s,viewTransition:f});function m(g){r&&r(g),g.defaultPrevented||p(g)}return v.createElement("a",Ni({},h,{href:S||x,onClick:y||l?r:m,ref:n,target:a}))});var nc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nc||(nc={}));var rc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rc||(rc={}));function zg(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,a=ps(),u=Qt(),d=Mf(e,{relative:o});return v.useCallback(f=>{if(jg(f,n)){f.preventDefault();let h=r!==void 0?r:kl(u)===kl(d);a(e,{replace:h,state:s,preventScrollReset:l,relative:o,viewTransition:i})}},[u,a,d,r,s,n,e,l,o,i])}function uv(e){let t=v.useRef(Ei(e)),n=v.useRef(!1),r=Qt(),s=v.useMemo(()=>Tg(r.search,n.current?null:t.current),[r.search]),l=ps(),o=v.useCallback((i,a)=>{const u=Ei(typeof i=="function"?i(s):i);n.current=!0,l("?"+u,a)},[l,s]);return[s,o]}const Og={},sc=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const k=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(S=>S(t,k))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Og?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,a);return a},Dg=e=>e?sc(e):sc;var Df={exports:{}},$f={},Uf={exports:{}},Ff={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=v;function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ug=typeof Object.is=="function"?Object.is:$g,Fg=hr.useState,Bg=hr.useEffect,Vg=hr.useLayoutEffect,Gg=hr.useDebugValue;function Qg(e,t){var n=t(),r=Fg({inst:{value:n,getSnapshot:t}}),s=r[0].inst,l=r[1];return Vg(function(){s.value=n,s.getSnapshot=t,Io(s)&&l({inst:s})},[e,n,t]),Bg(function(){return Io(s)&&l({inst:s}),e(function(){Io(s)&&l({inst:s})})},[e]),Gg(n),n}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ug(e,n)}catch{return!0}}function Hg(e,t){return t()}var Wg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hg:Qg;Ff.useSyncExternalStore=hr.useSyncExternalStore!==void 0?hr.useSyncExternalStore:Wg;Uf.exports=Ff;var Yg=Uf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=v,qg=Yg;function Kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xg=typeof Object.is=="function"?Object.is:Kg,Jg=qg.useSyncExternalStore,Zg=Hl.useRef,e0=Hl.useEffect,t0=Hl.useMemo,n0=Hl.useDebugValue;$f.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var l=Zg(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=t0(function(){function a(k){if(!u){if(u=!0,d=k,k=r(k),s!==void 0&&o.hasValue){var S=o.value;if(s(S,k))return f=S}return f=k}if(S=f,Xg(d,k))return S;var y=r(k);return s!==void 0&&s(S,y)?(d=k,S):(d=k,f=y)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,s]);var i=Jg(e,l[0],l[1]);return e0(function(){o.hasValue=!0,o.value=i},[i]),n0(i),i};Df.exports=$f;var r0=Df.exports;const s0=pc(r0),Bf={},{useDebugValue:l0}=Ai,{useSyncExternalStoreWithSelector:o0}=s0;let lc=!1;const i0=e=>e;function a0(e,t=i0,n){(Bf?"production":void 0)!=="production"&&n&&!lc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lc=!0);const r=o0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return l0(r),r}const oc=e=>{(Bf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Dg(e):e,n=(r,s)=>a0(t,r,s);return Object.assign(n,t),n},On=e=>e?oc(e):oc,u0={};function c0(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var l;const o=a=>a===null?null:JSON.parse(a,void 0),i=(l=n.getItem(s))!=null?l:null;return i instanceof Promise?i.then(o):o(i)},setItem:(s,l)=>n.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>n.removeItem(s)}}const as=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return as(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return as(r)(n)}}}},d0=(e,t)=>(n,r,s)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,p)=>({...p,...x}),...t},o=!1;const i=new Set,a=new Set;let u;try{u=l.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...x)},r,s);const d=as(l.serialize),f=()=>{const x=l.partialize({...r()});let p;const m=d({state:x,version:l.version}).then(g=>u.setItem(l.name,g)).catch(g=>{p=g});if(p)throw p;return m},h=s.setState;s.setState=(x,p)=>{h(x,p),f()};const k=e((...x)=>{n(...x),f()},r,s);let S;const y=()=>{var x;if(!u)return;o=!1,i.forEach(m=>m(r()));const p=((x=l.onRehydrateStorage)==null?void 0:x.call(l,r()))||void 0;return as(u.getItem.bind(u))(l.name).then(m=>{if(m)return l.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==l.version){if(l.migrate)return l.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var g;return S=l.merge(m,(g=r())!=null?g:k),n(S,!0),f()}).then(()=>{p==null||p(S,void 0),o=!0,a.forEach(m=>m(S))}).catch(m=>{p==null||p(void 0,m)})};return s.persist={setOptions:x=>{l={...l,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(i.add(x),()=>{i.delete(x)}),onFinishHydration:x=>(a.add(x),()=>{a.delete(x)})},y(),S||k},f0=(e,t)=>(n,r,s)=>{let l={storage:c0(()=>localStorage),partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...t},o=!1;const i=new Set,a=new Set;let u=l.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...y)},r,s);const d=()=>{const y=l.partialize({...r()});return u.setItem(l.name,{state:y,version:l.version})},f=s.setState;s.setState=(y,x)=>{f(y,x),d()};const h=e((...y)=>{n(...y),d()},r,s);s.getInitialState=()=>h;let k;const S=()=>{var y,x;if(!u)return;o=!1,i.forEach(m=>{var g;return m((g=r())!=null?g:h)});const p=((x=l.onRehydrateStorage)==null?void 0:x.call(l,(y=r())!=null?y:h))||void 0;return as(u.getItem.bind(u))(l.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==l.version){if(l.migrate)return[!0,l.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var g;const[I,w]=m;if(k=l.merge(w,(g=r())!=null?g:h),n(k,!0),I)return d()}).then(()=>{p==null||p(k,void 0),k=r(),o=!0,a.forEach(m=>m(k))}).catch(m=>{p==null||p(void 0,m)})};return s.persist={setOptions:y=>{l={...l,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:y=>(i.add(y),()=>{i.delete(y)}),onFinishHydration:y=>(a.add(y),()=>{a.delete(y)})},l.skipHydration||S(),k||h},m0=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((u0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),d0(e,t)):f0(e,t),gs=m0,Il={get(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}},set(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save to localStorage:",n)}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Failed to remove from localStorage:",t)}},clear(){try{localStorage.clear()}catch(e){console.error("Failed to clear localStorage:",e)}}};function h0(){if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("");return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}let Un=null,Fn=null;function No(){return Un?Promise.resolve(Un):Fn||(Fn=new Promise((e,t)=>{const n=indexedDB.open("tunetuna-storage",1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("zustand")||r.createObjectStore("zustand")},n.onsuccess=()=>{Un=n.result,Un.onclose=()=>{Un=null,Fn=null},e(Un)},n.onerror=()=>{Fn=null,t(n.error)}}),Fn)}const p0={getItem:async e=>{try{const t=await No();return new Promise(n=>{const l=t.transaction(["zustand"],"readonly").objectStore("zustand").get(e);l.onsuccess=()=>{const o=l.result;n(o?JSON.parse(o):null)},l.onerror=()=>{n(null)}})}catch{return null}},setItem:async(e,t)=>{const n=await No();return new Promise((r,s)=>{const i=n.transaction(["zustand"],"readwrite").objectStore("zustand").put(JSON.stringify(t),e);i.onsuccess=()=>{r()},i.onerror=()=>{s(i.error)}})},removeItem:async e=>{try{const t=await No();return new Promise(n=>{const l=t.transaction(["zustand"],"readwrite").objectStore("zustand").delete(e);l.onsuccess=()=>{n()},l.onerror=()=>{n()}})}catch{}}},xe=On()(gs(e=>({artists:[],albums:[],songs:[],genres:[],genresLastUpdated:null,genresLastChecked:null,genreSongs:{},years:[],yearsLastUpdated:null,yearsLastChecked:null,lastSyncCompleted:null,recentlyAdded:[],recentlyPlayed:[],shufflePool:[],lastPoolUpdate:null,loading:{artists:!1,albums:!1,songs:!1,genres:!1,recentlyAdded:!1,recentlyPlayed:!1},sortPreferences:{artists:"RecentlyAdded",albums:"RecentlyAdded",songs:"RecentlyAdded",playlists:"RecentlyAdded"},setArtists:t=>e({artists:t}),setAlbums:t=>e({albums:t}),setGenres:t=>e({genres:t}),setGenreSongs:(t,n)=>e(r=>({genreSongs:{...r.genreSongs,[t]:n}})),clearGenreSongs:()=>e({genreSongs:{}}),clearGenreSongsForGenre:t=>e(n=>{const r={...n.genreSongs};return delete r[t],{genreSongs:r}}),setYears:t=>e({years:t}),setRecentlyAdded:t=>e({recentlyAdded:t}),setRecentlyPlayed:t=>e({recentlyPlayed:t}),addToRecentlyPlayed:t=>e(n=>{const r=n.recentlyPlayed.filter(l=>l.Id!==t.Id);return{recentlyPlayed:[t,...r].slice(0,10)}}),setLoading:(t,n)=>e(r=>({loading:{...r.loading,[t]:n}})),setSortPreference:(t,n)=>e(r=>({sortPreferences:{...r.sortPreferences,[t]:n}})),setSongs:t=>e({songs:t}),setLastSyncCompleted:t=>e({lastSyncCompleted:t}),refreshShufflePool:()=>e(t=>{let r=t.songs;const s=Object.values(t.genreSongs).flat().length;if(t.songs.length===0&&s>0&&(r=Object.values(t.genreSongs).flat()),r.length===0)return{shufflePool:[]};const l=new Set(t.recentlyPlayed.slice(0,10).map(u=>u.Id));r=r.filter(u=>!l.has(u.Id));let o=r;if(o.length<30){const u=t.recentlyPlayed.slice(0,30-o.length);o=[...o,...u.map(d=>t.songs.find(f=>f.Id===d.Id)).filter(Boolean)]}const i=[...o];for(let u=i.length-1;u>0;u--){const d=Math.floor(Math.random()*(u+1));[i[u],i[d]]=[i[d],i[u]]}return{shufflePool:i.slice(0,30),lastPoolUpdate:Date.now()}})}),{name:"music-storage",storage:p0,partialize:e=>({genres:e.genres,genresLastUpdated:e.genresLastUpdated,genresLastChecked:e.genresLastChecked,genreSongs:e.genreSongs,songs:e.songs,shufflePool:e.shufflePool,lastPoolUpdate:e.lastPoolUpdate,years:e.years,yearsLastUpdated:e.yearsLastUpdated,yearsLastChecked:e.yearsLastChecked,lastSyncCompleted:e.lastSyncCompleted,recentlyPlayed:e.recentlyPlayed})}));function Ks(e){return e&&e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2032\u2033]/g,"'")}function cv(e){return e&&Ks(e).replace(/'/g,"")}function zt(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}const Eo=3e4,ic=12*60*60*1e3,Te=200,ac=1e3,uc=5e4,g0=/^https?:\/\/100\.\d+\.\d+\.\d+/,y0="Tunetuna",v0="Web",x0="1.0.0";class w0{constructor(){It(this,"baseUrl","");It(this,"accessToken","");It(this,"userId","");It(this,"genresCache",null);It(this,"isPreloading",!1)}get serverBaseUrl(){return this.baseUrl}setCredentials(t,n,r){this.baseUrl=t.replace(/\/$/,""),this.accessToken=n,this.userId=r,this.genresCache=null}clearGenresCache(){this.genresCache=null}getDeviceId(){let t=Il.get("deviceId");return t||(t=h0(),Il.set("deviceId",t)),t}getEmbyAuthHeader(){return`MediaBrowser Client="${y0}", Device="${v0}", DeviceId="${this.getDeviceId()}", Version="${x0}"`}getVpnWarning(t){return g0.test(t)?`
  VPN/Tailscale IP detected (100.x.x.x). Your phone may not be on the same VPN network.
   Try using your local network IP instead (e.g., http://192.168.1.x:8096)
`:""}getHeaders(){return{Authorization:`MediaBrowser Token="${this.accessToken}"`,"Content-Type":"application/json","X-Emby-Authorization":this.getEmbyAuthHeader()}}async request(t,n={}){const r=`${this.baseUrl}${t}`,s=await fetch(r,{...n,headers:{...this.getHeaders(),...n.headers}});if(!s.ok)throw s.status===401?new Error("Unauthorized - please login again"):new Error(`API request failed: ${s.statusText}`);return s.json()}async authenticate(t,n,r){const s=t.replace(/\/$/,"")+"/Users/authenticatebyname",l=new AbortController,o=setTimeout(()=>{console.warn(`Authentication request timed out after ${Eo/1e3} seconds`),l.abort()},Eo);let i;try{i=await fetch(s,{method:"POST",signal:l.signal,headers:{"Content-Type":"application/json","X-Emby-Authorization":this.getEmbyAuthHeader()},body:JSON.stringify({Username:n,Pw:r})}),clearTimeout(o)}catch(u){if(clearTimeout(o),u instanceof Error&&u.name==="AbortError"){const d=this.getVpnWarning(t);throw new Error(`Request timeout - server did not respond within ${Eo/1e3} seconds.

Possible issues:
- Server URL may be incorrect: ${s}
- Server may be down or unreachable${d}- CORS may be blocking the request (check browser console/Network tab)
- Network connectivity issues

If this was working earlier, check:
- Is the Jellyfin server still running?
- Are there any CORS errors in the browser console?
- Try accessing ${s} directly in your browser
- If using VPN/Tailscale IP, ensure your phone is on the same network`)}if(u instanceof TypeError){const d=u.message.toLowerCase();if(d.includes("failed to fetch")||d.includes("networkerror")){const f=this.getVpnWarning(t);throw new Error(`Network error - unable to reach server at ${s}

Possible issues:
- CORS is blocking the request (check Jellyfin server CORS settings)${f}- Server is not accessible from this network
- Invalid server URL

Check browser console for detailed error information.`)}throw new Error(`Network error: ${u.message}`)}throw u}if(!i.ok){const u=await i.text().catch(()=>"");throw new Error(u||`Authentication failed (${i.status})`)}const a=await i.json();return this.setCredentials(t,a.AccessToken,a.User.Id),a}getImageUrl(t,n="Primary",r){if(!this.baseUrl||!t)return"";const s=r??300,i=[`quality=${s<=128?75:90}`,`fillHeight=${s}`,`fillWidth=${s}`];return r&&i.push(`maxWidth=${r}`),`${this.baseUrl}/Items/${t}/Images/${n}?${i.join("&")}`}getArtistImageUrl(t,n){return this.getImageUrl(t,"Primary",n)}getArtistBackdropUrl(t,n){return this.getImageUrl(t,"Backdrop",n)}getAlbumArtUrl(t,n){return this.getImageUrl(t,"Primary",n)}buildQueryString(t,n=!1){const r=new URLSearchParams;return t.sortBy&&t.sortBy.forEach(s=>r.append("SortBy",s)),t.sortOrder&&(Array.isArray(t.sortOrder)?t.sortOrder.forEach(s=>r.append("SortOrder",s)):r.append("SortOrder",t.sortOrder)),t.limit&&r.append("Limit",t.limit.toString()),t.startIndex&&r.append("StartIndex",t.startIndex.toString()),t.includeItemTypes&&t.includeItemTypes.forEach(s=>r.append("IncludeItemTypes",s)),t.recursive!==void 0&&r.append("Recursive",t.recursive.toString()),t.parentId&&r.append("ParentId",t.parentId),t.searchTerm&&t.searchTerm.trim().length>0&&r.append("SearchTerm",t.searchTerm.trim()),t.genreIds&&t.genreIds.forEach(s=>r.append("GenreIds",s)),t.artistIds&&t.artistIds.forEach(s=>r.append("ArtistIds",s)),t.albumIds&&t.albumIds.forEach(s=>r.append("AlbumIds",s)),t.years&&t.years.forEach(s=>r.append("Years",s.toString())),t.minDateLastSaved&&r.append("MinDateLastSaved",t.minDateLastSaved.toISOString()),r.append("UserId",this.userId),r.append("Fields","PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,ProductionYear,DateCreated,DateModified,DateLastSaved"),n&&r.append("_t",Date.now().toString()),r.toString()}async getArtistById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get artist by ID:",r),null}}async getArtists(t={}){var s;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({...t,includeItemTypes:["MusicArtist"],recursive:!0});let r=await this.request(`/Artists?${n}`);return(((s=r.Items)==null?void 0:s.length)||0)===0&&(r.TotalRecordCount||0)===0&&(r=await this.request(`/Items?${n}`)),{Items:r.Items||[],TotalRecordCount:r.TotalRecordCount||0,StartIndex:r.StartIndex||0}}async getAlbumById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get album by ID:",r),null}}async getSongById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get song by ID:",r),null}}async getAlbums(t={}){const n=this.buildQueryString({...t,includeItemTypes:["MusicAlbum"],recursive:!0});return this.request(`/Items?${n}`)}async getSongs(t={},n=!1){const r=this.buildQueryString({...t,includeItemTypes:["Audio"],recursive:!0},n);return this.request(`/Items?${r}`)}async getGenres(t=!1){if(this.genresCache&&!t)return this.genresCache;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=xe.getState();if(!t&&n.genres.length>0&&n.genresLastUpdated){const r=Date.now(),s=n.genresLastChecked||0;if(!(r-s>=ic))return this.genresCache=n.genres,n.genres;try{const o=await this.getRecentlyAdded(50),i=await this.getSongs({limit:50,sortBy:["DateLastSaved"],sortOrder:"Descending"}),a=[...o.Items||[],...i.Items||[]];let u=0;for(const d of a){if(d.DateCreated){const f=new Date(d.DateCreated).getTime();f>u&&(u=f)}if(d.DateLastSaved){const f=new Date(d.DateLastSaved).getTime();f>u&&(u=f)}}if(xe.setState({genresLastChecked:r}),u<=n.genresLastUpdated)return this.genresCache=n.genres,n.genres}catch(o){return console.warn("[getGenres] Failed to check for new/modified tracks, using cached genres:",o),this.genresCache=n.genres,n.genres}}try{const r=new Map;let s=0,l=!0;for(;l;){const y=(await this.getAlbums({limit:Te,startIndex:s})).Items||[];if(y.forEach(x=>{x.Genres&&x.Genres.forEach(p=>{const m=p.toLowerCase();r.has(m)||r.set(m,p)})}),l=y.length===Te,s+=Te,s>1e4)break}const o=new Set;let i=0,a=!0;for(;a;){const y=(await this.getSongs({limit:Te,startIndex:i})).Items||[];if(y.forEach(x=>{x.Genres&&x.Genres.forEach(p=>{o.add(p.toLowerCase())})}),a=y.length===Te,i+=Te,i>1e4)break}const u=new Map,d=new Map;try{const S=new URLSearchParams({UserId:this.userId,Recursive:"true"}),y=await this.request(`/Genres?${S}`);let x=[];Array.isArray(y)?x=y:y&&typeof y=="object"&&"Items"in y&&(x=y.Items||[]),x.forEach(p=>{if(p.Name){const m=p.Name.toLowerCase();r.has(m)&&(u.set(m,p.Id),d.set(p.Id,p))}})}catch(S){console.warn("[getGenres] Failed to get genre IDs from API, will use synthetic IDs:",S)}const f=[],h=new Set;for(const[S,y]of r){if(h.has(S)||!o.has(S))continue;const x=u.get(S);if(x){const p=d.get(x);p&&(f.push(p),h.add(S))}else f.push({Id:`synthetic-${S.replace(/\s+/g,"-")}`,Name:y,Type:"Genre"}),h.add(S)}const k=Date.now();return xe.getState().setGenres(f),xe.setState({genresLastUpdated:k,genresLastChecked:k}),this.genresCache=f,f}catch(r){return console.error("[getGenres] Failed to build music genres:",r),n.genres.length>0?(this.genresCache=n.genres,n.genres):(this.genresCache=[],[])}}async getYears(t=!1){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=xe.getState();if(!t&&n.years.length>0&&n.yearsLastUpdated){const r=Date.now(),s=n.yearsLastChecked||0;if(!(r-s>=ic))return n.years;try{const i=(await this.getRecentlyAdded(50)).Items||[];let a=0;for(const u of i)if(u.DateCreated){const d=new Date(u.DateCreated).getTime();d>a&&(a=d)}if(xe.setState({yearsLastChecked:r}),a<=n.yearsLastUpdated)return n.years}catch(o){return console.warn("[getYears] Failed to check for new tracks, using cached years:",o),n.years}}try{const r=new Set;let s=0,l=!0;for(;l;){const u=(await this.getSongs({limit:Te,startIndex:s})).Items||[];if(u.forEach(d=>{d.ProductionYear&&d.ProductionYear>0&&r.add(d.ProductionYear)}),l=u.length===Te,s+=Te,s>1e4)break}const o=Array.from(r).sort((a,u)=>a-u),i=Date.now();return xe.getState().setYears(o),xe.setState({yearsLastUpdated:i,yearsLastChecked:i}),o}catch(r){return console.error("[getYears] Failed to extract years:",r),n.years.length>0?n.years:[]}}async getGenreSongs(t,n,r=!1){let s=[];if(t.startsWith("synthetic-")||r){let i=0,a=!0;for(;a;){const d=(await this.getSongs({limit:Te,startIndex:i},!0)).Items||[];if(s.push(...d),a=d.length===Te,i+=Te,i>uc)break}}else{let i=0,a=!0;for(;a;){const d=(await this.getSongs({genreIds:[t],limit:Te,startIndex:i})).Items||[];if(s.push(...d),a=d.length===Te,i+=Te,i>uc)break}}return s.filter(i=>{var u;return(u=i.Genres)==null?void 0:u.some(d=>d.toLowerCase()===n.toLowerCase())}).map(i=>({Id:i.Id,Name:i.Name,AlbumArtist:i.AlbumArtist,ArtistItems:i.ArtistItems,Album:i.Album,AlbumId:i.AlbumId,IndexNumber:i.IndexNumber,ProductionYear:i.ProductionYear,PremiereDate:i.PremiereDate,RunTimeTicks:i.RunTimeTicks,Genres:i.Genres}))}async syncLibrary(t={scope:"incremental"}){const n=xe.getState();if(t.scope==="incremental"){const l=n.lastSyncCompleted,o=await this.getGenres(!1);let i=[];if(l){let y=0,x=!0;for(;x;){const m=(await this.getSongs({minDateLastSaved:new Date(l),limit:Te,startIndex:y},!0)).Items||[];if(i.push(...m),x=m.length===Te,y+=Te,y>1e4)break}}else i=(await this.getSongs({limit:ac,sortBy:["DateLastSaved"],sortOrder:"Descending"})).Items||[];const a=i.map(y=>({Id:y.Id,Name:y.Name,AlbumArtist:y.AlbumArtist,ArtistItems:y.ArtistItems,Album:y.Album,AlbumId:y.AlbumId,IndexNumber:y.IndexNumber,ProductionYear:y.ProductionYear,PremiereDate:y.PremiereDate,RunTimeTicks:y.RunTimeTicks,Genres:y.Genres})),u=n.songs,d=new Set(u.map(y=>y.Id)),f=a.filter(y=>!d.has(y.Id)),h=[...u,...f];try{n.setSongs(h)}catch(y){throw y instanceof DOMException&&y.name==="QuotaExceededError"?new Error("Storage quota exceeded. Please clear some data or use a smaller sync scope."):y}const k=new Set;f.forEach(y=>{var x;(x=y.Genres)==null||x.forEach(p=>{o.forEach(m=>{var g;((g=m.Name)==null?void 0:g.toLowerCase())===p.toLowerCase()&&k.add(m.Id)})})});const S=Array.from(k).map(async y=>{const x=o.find(I=>I.Id===y);if(!(x!=null&&x.Name))return;const p=n.genreSongs[y]||[];new Set(p.map(I=>I.Id));const m=f.filter(I=>{var w;return(w=I.Genres)==null?void 0:w.some(N=>N.toLowerCase()===x.Name.toLowerCase())}),g=[...p,...m];n.setGenreSongs(y,g)});await Promise.all(S);return}this.clearGenresCache(),n.clearGenreSongs();const s=(await this.getGenres(!0)).map(async l=>{if(!(!l.Name||!l.Id))try{const o=await this.getGenreSongs(l.Id,l.Name);n.setGenreSongs(l.Id,o)}catch(o){console.warn(`[syncLibrary] Failed to load songs for genre ${l.Name}:`,o)}});await Promise.all(s)}async search(t,n=20){const r=t?Ks(t.trim()):"",s=r.length>0,l=r.length,o=s&&l<3,i={limit:n,includeItemTypes:["MusicAlbum","Playlist","Audio"],recursive:!0};s&&(i.searchTerm=r,l>=3&&(i.includeItemTypes=["MusicArtist","MusicAlbum","Playlist","Audio"]));const a=this.buildQueryString(i),u=await this.request(`/Items?${a}`);let d=[];const f=[],h=[],k=[],S=new Set;if(u.Items.forEach(y=>{y.Type==="MusicArtist"?d.push(y):y.Type==="MusicAlbum"?f.push(y):y.Type==="Playlist"?h.push(y):y.Type==="Audio"&&(k.push(y),S.add(y.Id))}),o)try{const y=await this.getArtists({limit:ac}),x=r.toLowerCase();d=(y.Items||[]).filter(p=>Ks(p.Name||"").toLowerCase().includes(x))}catch(y){console.error("Failed to fetch all artists for short query:",y)}if(s&&d.length>0){const y=r.toLowerCase(),p=d.filter(g=>Ks(g.Name||"").toLowerCase().includes(y)).map(g=>this.getArtistItems(g.Id).catch(I=>(console.error(`Failed to fetch songs for artist ${g.Id}:`,I),{albums:[],songs:[]})));(await Promise.all(p)).forEach(({songs:g})=>{g.forEach(I=>{S.has(I.Id)||(k.push(I),S.add(I.Id))})})}return{Artists:{Items:d,TotalRecordCount:d.length,StartIndex:0},Albums:{Items:f,TotalRecordCount:f.length,StartIndex:0},Playlists:{Items:h,TotalRecordCount:h.length,StartIndex:0},Songs:{Items:k,TotalRecordCount:k.length,StartIndex:0}}}async getRecentlyAdded(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({limit:t,includeItemTypes:["MusicAlbum"],recursive:!0,sortBy:["DateCreated"],sortOrder:"Descending"});return await this.request(`/Items?${n}`)}async getRecentlyPlayed(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({Limit:t.toString(),IncludeItemTypes:"Audio",Recursive:"true",SortBy:"DatePlayed",SortOrder:"Descending",Filters:"IsPlayed",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return await this.request(`/Items?${n}`)}async getAlbumTracks(t){const n=new URLSearchParams({ParentId:t,IncludeItemTypes:"Audio",SortBy:"IndexNumber",SortOrder:"Ascending",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return(await this.request(`/Items?${n}`)).Items}async getArtistItems(t){const n=new URLSearchParams({ArtistIds:t,IncludeItemTypes:"MusicAlbum,Audio",Recursive:"true",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"}),r=await this.request(`/Items?${n}`),s=[],l=[];return r.Items.forEach(o=>{o.Type==="MusicAlbum"?s.push(o):o.Type==="Audio"&&l.push(o)}),{albums:s,songs:l}}async getGenreItems(t,n=50){const r=this.buildQueryString({genreIds:[t],includeItemTypes:["MusicAlbum"],recursive:!0,limit:n,sortBy:["DateCreated"],sortOrder:"Descending"});return this.request(`/Items?${r}`)}async getPlaylists(t={}){const n=this.buildQueryString({...t,includeItemTypes:["Playlist"],recursive:!0});return this.request(`/Items?${n}`)}async markItemAsPlayed(t){if(!this.userId||!this.baseUrl||!t)throw new Error("Not authenticated or invalid item ID");try{await this.request(`/Users/${this.userId}/PlayedItems/${t}`,{method:"POST"})}catch(n){console.warn("Failed to mark item as played:",n)}}async getLyrics(t){if(!this.userId||!this.baseUrl||!t)return null;try{const n=[`/Items/${t}/Lyrics`,`/Items/${t}/RemoteLyrics`,`/Audio/${t}/Lyrics`];let r=null;for(const s of n){const l=new URLSearchParams({UserId:this.userId}),o=`${this.baseUrl}${s}?${l}`;try{const i=await fetch(o,{headers:this.getHeaders()});if(i.ok){const a=await i.json();if(a.Lyrics&&Array.isArray(a.Lyrics)&&a.Lyrics.length>0)return a.Lyrics.map(d=>d.Text||"").join(`
`);if(typeof a=="string")return a;if(a.Text)return a.Text}else if(i.status===404){r=`404 for ${s}`;continue}else{const a=await i.text().catch(()=>"");r=`${i.status}: ${a}`;continue}}catch(i){r=i instanceof Error?i.message:String(i);continue}}return null}catch(n){return console.warn("[getLyrics] Failed to fetch lyrics:",n),null}}}const W=new w0,ct=On()(gs(e=>({serverUrl:"",setServerUrl:t=>e({serverUrl:t}),pageVisibility:{artists:!0,albums:!0,songs:!0,genres:!0,playlists:!1,stats:!0},setPageVisibility:t=>e(n=>({pageVisibility:{...n.pageVisibility,...t}})),accentColor:"blue",setAccentColor:t=>e({accentColor:t}),showQueueRecommendations:!0,setShowQueueRecommendations:t=>e({showQueueRecommendations:t}),recommendationsQuality:"good",setRecommendationsQuality:t=>e({recommendationsQuality:t})}),{name:"settings-storage"})),Nl=On(e=>({toasts:[],addToast:(t,n="success",r=3e3)=>{const s=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,l={id:s,message:t,type:n,duration:r};e(o=>({toasts:[...o.toasts,l]})),r>0&&setTimeout(()=>{e(o=>({toasts:o.toasts.filter(i=>i.id!==s)}))},r)},removeToast:t=>{e(n=>({toasts:n.toasts.filter(r=>r.id!==t)}))}})),Ci="/api/stats";async function Co(e,t){const n=`${e}::${t}`,r=new TextEncoder,s=await crypto.subtle.digest("SHA-256",r.encode(n));return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}function S0(e,t){var n,r;return{ts:Date.now(),songId:e.Id,songName:e.Name||"Unknown",artistIds:((n=e.ArtistItems)==null?void 0:n.map(s=>s.Id))||[],artistNames:((r=e.ArtistItems)==null?void 0:r.map(s=>s.Name||"Unknown"))||[e.AlbumArtist||"Unknown"],albumId:e.AlbumId||"",albumName:e.Album||"Unknown",genres:e.Genres||[],year:e.ProductionYear||null,durationMs:t,fullDurationMs:e.RunTimeTicks?e.RunTimeTicks/1e4:0}}const Pt=On()(gs((e,t)=>({pendingEvents:[],lastSyncedAt:null,cachedEvents:[],cacheRange:null,currentPlay:null,cachedStatsKey:null,startPlay:n=>{e({currentPlay:{track:n,startedAt:Date.now()}})},recordPlay:(n,r)=>{const{pendingEvents:s}=t(),l=n.RunTimeTicks?n.RunTimeTicks/1e4:0,o=l>0&&l<6e4;if(!(r>=6e4||o&&r>=l*.8))return;const a=S0(n,r);e({pendingEvents:[...s,a],currentPlay:null}),s.length>=4&&t().syncToServer()},syncToServer:async()=>{const{pendingEvents:n}=t();if(n.length===0)return;const{serverUrl:r,userId:s}=Tn.getState();if(!r||!s)return;const l=[...n],o=await Co(r,s);e({cachedStatsKey:o});try{const i=await fetch(`${Ci}/${o}/events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});i.ok?e(a=>({pendingEvents:a.pendingEvents.filter(u=>!l.some(d=>d.ts===u.ts&&d.songId===u.songId)),lastSyncedAt:Date.now(),cacheRange:null})):console.warn("Failed to sync stats:",i.status)}catch(i){console.warn("Failed to sync stats:",i)}},updateStatsKey:async()=>{const{serverUrl:n,userId:r}=Tn.getState();if(!n||!r){e({cachedStatsKey:null});return}const s=await Co(n,r);e({cachedStatsKey:s})},fetchEvents:async(n,r)=>{const{cacheRange:s,cachedEvents:l,pendingEvents:o}=t(),{serverUrl:i,userId:a}=Tn.getState();if(!i||!a)return[];if(s&&s.from<=n&&s.to>=r){const d=l.filter(h=>h.ts>=n&&h.ts<=r),f=o.filter(h=>h.ts>=n&&h.ts<=r);return[...d,...f].sort((h,k)=>h.ts-k.ts)}const u=await Co(i,a);try{const d=await fetch(`${Ci}/${u}/events?from=${n}&to=${r}`);if(!d.ok)return console.warn("Failed to fetch stats:",d.status),[];const h=(await d.json()).events||[];e({cachedEvents:h,cacheRange:{from:n,to:r}});const k=o.filter(S=>S.ts>=n&&S.ts<=r);return[...h,...k].sort((S,y)=>S.ts-y.ts)}catch(d){return console.warn("Failed to fetch stats:",d),[]}},clearCache:()=>{e({cachedEvents:[],cacheRange:null})},updateEventMetadata:(n,r,s)=>{const{cachedEvents:l,pendingEvents:o}=t(),i=a=>{let u=!1;return(n==="song"&&a.songId===r||n==="album"&&a.albumId===r||n==="artist"&&a.artistIds.includes(r))&&(u=!0),u?{...a,...s.songName!==void 0&&{songName:s.songName},...s.artistNames!==void 0&&{artistNames:s.artistNames},...s.albumName!==void 0&&{albumName:s.albumName},...s.genres!==void 0&&{genres:s.genres},...s.year!==void 0&&{year:s.year}}:a};e({cachedEvents:l.map(i),pendingEvents:o.map(i)})}}),{name:"stats-storage",partialize:e=>({pendingEvents:e.pendingEvents,lastSyncedAt:e.lastSyncedAt})}));typeof document<"u"&&(document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Pt.getState().syncToServer()}),window.addEventListener("beforeunload",()=>{const{pendingEvents:e,cachedStatsKey:t}=Pt.getState();if(e.length>0&&t){const n=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon(`${Ci}/${t}/events`,n)}}),setTimeout(()=>{Tn.subscribe((n,r)=>{(n.serverUrl!==r.serverUrl||n.userId!==r.userId)&&Pt.getState().updateStatsKey()});const{serverUrl:e,userId:t}=Tn.getState();e&&t&&Pt.getState().updateStatsKey()},0));const Vf=new Set,El=new Map,Cl=new Set;let Ye=null;function k0(){Vf.clear();for(const e of El.values())clearTimeout(e);El.clear();for(const e of Cl)clearTimeout(e);Cl.clear(),Ye&&(clearTimeout(Ye),Ye=null)}function I0(e,t,n=5e3){const r=setTimeout(async()=>{const s=t();if((s==null?void 0:s.Id)===e)try{await W.markItemAsPlayed(e),Vf.add(e);const l=setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:e}})),Cl.delete(l)},4e3);Cl.add(l)}catch{}El.delete(e)},n);El.set(e,r)}function _t(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}const ee=On()(gs((e,t)=>({songs:[],currentIndex:-1,previousIndex:-1,standardOrder:[],shuffleOrder:[],isPlaying:!1,currentTime:0,duration:0,volume:1,shuffle:!1,repeat:"off",audioElement:null,isFetchingRecommendations:!1,isLoadingMoreSongs:!1,shuffleHasMoreSongs:!1,lastPlayedTrack:null,isShuffleAllActive:!1,isShuffleGenreActive:!1,manuallyCleared:!1,hasRecordedCurrentTrackStats:!1,isQueueSidebarOpen:!1,setAudioElement:n=>{e({audioElement:n}),n&&(n.volume=t().volume)},setIsFetchingRecommendations:n=>{e({isFetchingRecommendations:n})},setIsLoadingMoreSongs:n=>{e({isLoadingMoreSongs:n})},setCurrentTime:n=>{const{currentIndex:r,songs:s,hasRecordedCurrentTrackStats:l}=t();if(e({currentTime:n}),n>=60&&!l&&r>=0&&r<s.length){const o=s[r];Pt.getState().recordPlay(o,n*1e3),e({hasRecordedCurrentTrackStats:!0})}},setDuration:n=>{e({duration:n})},setVolume:n=>{e({volume:n});const r=t().audioElement;r&&(r.volume=n)},clearQueue:()=>{Ye&&(clearTimeout(Ye),Ye=null),e(n=>{const r=n.currentIndex>=0?[n.songs[n.currentIndex]]:[];return{songs:r,currentIndex:r.length>0?0:-1,previousIndex:-1,standardOrder:r.map(s=>s.Id),shuffleOrder:r.map(s=>s.Id),manuallyCleared:!0}})},addToQueue:(n,r=!1,s="user")=>{e(l=>{const o=l.currentIndex>=0?l.songs[l.currentIndex]:null,i=n.map(S=>({...S,source:s}));let a;const u=i;if(r){const S=l.shuffle?_t([...i]):i,y=l.currentIndex+1,x=l.songs.slice(0,y),p=l.songs.slice(y);a=[...x,...S,...p]}else if(s==="recommendation")a=[...l.songs,...u];else{const S=l.songs.findIndex((y,x)=>x>l.currentIndex&&y.source==="recommendation");S!==-1?a=[...l.songs.slice(0,S),...u,...l.songs.slice(S)]:a=[...l.songs,...u]}let d=l.currentIndex;if(l.currentIndex>=0&&o){const S=a.findIndex(y=>y.Id===o.Id);S!==-1?d=S:console.error("[addToQueue] CRITICAL: Could not find current song in new queue!")}let f=a;if(a.length>1e3){const S=a.slice(0,d),y=a.slice(d+1),x=S.slice(-5),p=y,m=1e3-x.length-(o?1:0)-p.length,g=S.slice(-Math.max(0,m));f=[...g,...o?[o]:[],...p],d=o?g.length:-1}const k=f.filter(S=>S.source==="user").map(S=>S.Id);return{songs:f,currentIndex:d,standardOrder:k,shuffleOrder:k,manuallyCleared:!1}})},addToQueueWithToast:n=>{t().addToQueue(n,!1,"user");const r=n.length,s=r===1?"Added to queue":`${r} songs added to queue`;Nl.getState().addToast(s,"success",2e3)},removeFromQueue:n=>{e(r=>{if(n<0||n>=r.songs.length)return r;const s=r.songs[n],l=r.songs.filter((d,f)=>f!==n);let o=r.standardOrder.filter(d=>d!==s.Id),i=r.shuffleOrder.filter(d=>d!==s.Id),a=r.currentIndex,u=r.previousIndex;return n<r.currentIndex?a=r.currentIndex-1:n===r.currentIndex&&(a=-1),n<r.previousIndex?u=r.previousIndex-1:n===r.previousIndex&&(u=-1),{songs:l,currentIndex:a,previousIndex:u,standardOrder:o,shuffleOrder:i}})},reorderQueue:(n,r)=>{e(s=>{if(n<0||r<0||n>=s.songs.length||r>=s.songs.length||n===r)return s;const l=s.songs[n],o=s.songs[r];if(l.source!==o.source)return s;const i=[...s.songs],[a]=i.splice(n,1);if(i.splice(r,0,a),l.source==="user"){const d=s.shuffle?"shuffleOrder":"standardOrder",f=s[d],h=f.indexOf(l.Id);if(h>=0){const k=[...f];k.splice(h,1);const y=i.slice(0,r+1).filter(p=>p.source==="user").length-1;k.splice(y,0,l.Id);const x=r===s.currentIndex||n===s.currentIndex?r:s.currentIndex;return{songs:i,[d]:k,currentIndex:x,previousIndex:r===s.previousIndex||n===s.previousIndex?r:s.previousIndex}}}const u=r===s.currentIndex||n===s.currentIndex?r:s.currentIndex;return{songs:i,currentIndex:u,previousIndex:r===s.previousIndex||n===s.previousIndex?r:s.previousIndex}})},play:()=>{const{audioElement:n,currentIndex:r,songs:s,currentTime:l}=t();if(n&&r>=0&&r<s.length){const o=s[r],i=W.serverBaseUrl,a=i?`${i}/Audio/${o.Id}/stream?static=true`:"";n.src!==a?(n.src=a,n.load()):l===0&&n.currentTime>.5&&(n.currentTime=0,n.duration&&!isNaN(n.duration)&&e({duration:n.duration})),n.play().then(()=>{e({isPlaying:!0,hasRecordedCurrentTrackStats:!1}),I0(o.Id,()=>t().songs[t().currentIndex]||null),xe.getState().addToRecentlyPlayed(o),Pt.getState().startPlay(o)}).catch(u=>{console.error("Playback error:",u),e({isPlaying:!1})})}},pause:()=>{const n=t().audioElement;n&&(n.pause(),e({isPlaying:!1}))},togglePlayPause:()=>{const{isPlaying:n,play:r,pause:s}=t();n?s():r()},next:()=>{const n=t();if(n.songs.length===0)return;if(!n.hasRecordedCurrentTrackStats&&n.currentIndex>=0&&n.currentIndex<n.songs.length){const l=n.songs[n.currentIndex],o=n.currentTime*1e3;Pt.getState().recordPlay(l,o)}if(n.repeat==="one"&&n.currentIndex>=0){t().seek(0),t().play();return}let r=n.currentIndex+1;if(r>=n.songs.length)if(n.repeat==="all")r=0;else{t().pause();return}const s=n.currentIndex>=0?n.songs[n.currentIndex]:null;e({previousIndex:n.currentIndex,currentIndex:r,lastPlayedTrack:s}),t().play()},previous:()=>{e(n=>{if(n.songs.length===0)return n;let r=n.currentIndex,s=n.currentIndex;if(n.currentIndex>0)r=n.currentIndex-1;else if(n.repeat==="all")r=n.songs.length-1;else return n;return{currentIndex:r,previousIndex:s}}),t().play()},seek:n=>{const r=t().audioElement;r&&(r.currentTime=n,e({currentTime:n}))},toggleShuffle:()=>{e(n=>{const r=!n.shuffle;if(r){const s=n.songs.slice(0,n.currentIndex),l=n.currentIndex>=0?n.songs[n.currentIndex]:null,o=n.songs.slice(n.currentIndex+1).filter(h=>h.source==="user"),i=n.songs.filter(h=>h.source==="recommendation"),a=_t(o.map(h=>h.Id)),u=a.map(h=>o.find(k=>k.Id===h)).filter(Boolean),d=[...s,...l?[l]:[],...u,...i],f=[...n.standardOrder.slice(0,n.currentIndex+1),...a];return{shuffle:r,shuffleOrder:f,songs:d}}else{const s=n.songs.slice(0,n.currentIndex),l=n.currentIndex>=0?n.songs[n.currentIndex]:null,i=n.standardOrder.slice(n.currentIndex+1).map(d=>n.songs.find(f=>f.Id===d&&f.source==="user")).filter(Boolean),a=n.songs.filter(d=>d.source==="recommendation"),u=[...s,...l?[l]:[],...i,...a];return{shuffle:r,songs:u}}})},toggleRepeat:()=>{e(n=>({repeat:n.repeat==="off"?"all":n.repeat==="all"?"one":"off"}))},playTrack:(n,r)=>{let s,l;r?(s=r,l=r.findIndex(i=>i.Id===n.Id),l===-1&&(s=[n,...r.filter(i=>i.Id!==n.Id)],l=0)):(s=[n],l=0);const o=s.map(i=>({...i,source:"user"}));e({songs:o,standardOrder:o.map(i=>i.Id),shuffleOrder:o.map(i=>i.Id),currentIndex:l,previousIndex:l>0?l-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playAlbum:(n,r=0)=>{const s=n.map(l=>({...l,source:"user"}));e({songs:s,standardOrder:s.map(l=>l.Id),shuffleOrder:s.map(l=>l.Id),currentIndex:r,previousIndex:r>0?r-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playNext:n=>{t().addToQueue(n,!0);const r=n.length,s=r===1?"Playing next":`${r} songs playing next`;Nl.getState().addToast(s,"success",2e3)},shuffleArtist:n=>{const s=_t(n).map(l=>({...l,source:"user"}));e({songs:s,standardOrder:s.map(l=>l.Id),shuffleOrder:s.map(l=>l.Id),currentIndex:0,previousIndex:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},shuffleAllSongs:async()=>{t().clearQueue();const{setShowQueueRecommendations:n}=ct.getState();n(!1);const s=typeof window<"u"&&window.innerWidth<768?400:800,l=xe.getState();let o=[];if(l.shufflePool.length>=1){const f=Math.min(5,l.shufflePool.length);o=l.shufflePool.slice(0,f);const h=l.shufflePool.slice(f),k=l.songs,S=new Set(l.recentlyPlayed.slice(0,10).map(m=>m.Id)),y=k.filter(m=>!S.has(m.Id)),x=_t(y).slice(0,f),p=[...h,...x];xe.setState({shufflePool:p,lastPoolUpdate:Date.now()})}else{let f=l.songs;if(!f||f.length===0)try{f=(await W.getSongs({limit:Math.max(50,s),sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]}catch(h){console.error("Failed to fetch songs for shuffle all:",h);return}o=_t(f).slice(0,5),f.filter(h=>!o.some(k=>k.Id===h.Id)),xe.setState({songs:f,shufflePool:_t(f).slice(0,30),lastPoolUpdate:Date.now()})}const i=o.map(f=>({...f,source:"user"})),a=o.length,d=l.songs.length+Object.values(l.genreSongs).flat().length>o.length;e({songs:i,standardOrder:i.map(f=>f.Id),shuffleOrder:i.map(f=>f.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:d,manuallyCleared:!0}),t().play(),Ye&&clearTimeout(Ye),Ye=setTimeout(async()=>{Ye=null;try{const f=t();if(!f.shuffle||f.songs.length!==a)return;let h=l.songs;(!h||h.length===0)&&(h=(await W.getSongs({limit:s,sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]);const k=Object.values(l.genreSongs).flat(),S=[...h,...k],y=new Map;S.forEach(g=>y.set(g.Id,g));const x=Array.from(y.values()),p=new Set(i.map(g=>g.Id)),m=x.filter(g=>!p.has(g.Id));if(m.length>0){const g=Math.min(s-a,m.length),w=_t(m).slice(0,g).map(N=>({...N,source:"user"}));e(N=>{const E=new Set(i.map(G=>G.Id)),P=N.songs.filter(G=>!E.has(G.Id)&&G.source==="user"),T=[...i,...P,...w];let A=N.currentIndex;if(P.length>0&&N.currentIndex>=i.length){const G=N.songs[N.currentIndex];G&&(A=T.findIndex(se=>se.Id===G.Id))}return{songs:T,currentIndex:A>=0?A:N.currentIndex,standardOrder:T.map(G=>G.Id),shuffleOrder:T.map(G=>G.Id),shuffleHasMoreSongs:m.length>g,manuallyCleared:!1}}),xe.getState().refreshShufflePool()}}catch(f){console.error("Failed to expand shuffle queue:",f)}},100)},shuffleGenreSongs:async(n,r)=>{t().clearQueue();const{setShowQueueRecommendations:s}=ct.getState();s(!1);const o=typeof window<"u"&&window.innerWidth<768?400:800,i=xe.getState().genreSongs[n];if(!i||i.length===0){console.warn(`No songs found for genre: ${r}`);return}const a=_t(i).slice(0,5),u=i.filter(h=>!a.some(k=>k.Id===h.Id)),d=a.map(h=>({...h,source:"user"})),f=i.length>5;e({songs:d,standardOrder:d.map(h=>h.Id),shuffleOrder:d.map(h=>h.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:f,manuallyCleared:!0}),t().play(),Ye&&clearTimeout(Ye),Ye=setTimeout(async()=>{Ye=null;try{const h=t();if(!h.shuffle||h.songs.length!==5)return;if(u.length>0){const k=Math.min(o-5,u.length),y=_t(u).slice(0,k).map(x=>({...x,source:"user"}));e(x=>{const p=new Set(d.map(w=>w.Id)),m=x.songs.filter(w=>!p.has(w.Id)&&w.source==="user"),g=[...d,...m,...y];let I=x.currentIndex;if(m.length>0&&x.currentIndex>=d.length){const w=x.songs[x.currentIndex];w&&(I=g.findIndex(N=>N.Id===w.Id))}return{songs:g,currentIndex:I>=0?I:x.currentIndex,standardOrder:g.map(w=>w.Id),shuffleOrder:g.map(w=>w.Id),shuffleHasMoreSongs:u.length>k,manuallyCleared:!1}})}}catch(h){console.error("Failed to expand genre shuffle queue:",h)}},100)},skipToTrack:n=>{const{songs:r,currentIndex:s}=t();if(n<0||n>=r.length)return;const l=s>=0?r[s]:null;e({previousIndex:s>=0?s:-1,currentIndex:n,lastPlayedTrack:l,currentTime:0}),t().play()},refreshCurrentTrack:async()=>{const{currentIndex:n,songs:r}=t();if(n<0||n>=r.length)return;const s=r[n];try{const l=await W.getSongById(s.Id);l&&e(o=>{const i=[...o.songs];return i[o.currentIndex]={...i[o.currentIndex],...l},{songs:i}})}catch(l){console.error("Failed to refresh current track:",l)}},toggleQueueSidebar:()=>{e(n=>({isQueueSidebarOpen:!n.isQueueSidebarOpen}))}}),{name:"player-storage",partialize:e=>({songs:e.songs,currentIndex:e.currentIndex,previousIndex:e.previousIndex,standardOrder:e.standardOrder,shuffleOrder:e.shuffleOrder,volume:e.volume,shuffle:e.shuffle,repeat:e.repeat,lastPlayedTrack:e.lastPlayedTrack,isShuffleAllActive:e.isShuffleAllActive,isShuffleGenreActive:e.isShuffleGenreActive,manuallyCleared:e.manuallyCleared,isQueueSidebarOpen:e.isQueueSidebarOpen}),onRehydrateStorage:e=>{e&&(e.isPlaying=!1,e.currentTime=0,e.duration=0,e.audioElement=null,e.isFetchingRecommendations=!1,e.isShuffleAllActive=!1,e.isShuffleGenreActive=!1)}})),Tn=On()(gs(e=>({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1,login:async(t,n,r)=>{try{const s=await W.authenticate(t,n,r);e({serverUrl:t,username:n,accessToken:s.AccessToken,userId:s.User.Id,isAuthenticated:!0}),W.setCredentials(t,s.AccessToken,s.User.Id)}catch(s){throw s}},logout:()=>{k0(),e({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1}),localStorage.removeItem("auth-storage")},setCredentials:(t,n,r)=>{e({serverUrl:t,accessToken:n,userId:r,isAuthenticated:!0}),W.setCredentials(t,n,r)}}),{name:"auth-storage",storage:{getItem:e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}},onRehydrateStorage:()=>e=>{e!=null&&e.isAuthenticated&&e.serverUrl&&e.accessToken&&e.userId&&W.setCredentials(e.serverUrl,e.accessToken,e.userId)}}));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cc=e=>{const t=E0(e);return t.charAt(0).toUpperCase()+t.slice(1)},Gf=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),C0=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:o,...i},a)=>v.createElement("svg",{ref:a,...P0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Gf("lucide",s),...!l&&!C0(i)&&{"aria-hidden":"true"},...i},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=v.forwardRef(({className:r,...s},l)=>v.createElement(j0,{ref:l,iconNode:t,className:Gf(`lucide-${N0(cc(e))}`,`lucide-${e}`,r),...s}));return n.displayName=cc(e),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],R0=re("chart-column",T0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A0=re("check",_0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M0=re("chevron-down",L0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z0=re("circle-alert",b0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ta=re("disc",O0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$0=re("eye-off",D0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F0=re("eye",U0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],V0=re("grip-horizontal",B0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.23 9.85A3 3 0 0 1 11 8a5 5 0 0 1 5 5 3 3 0 0 1-1.85 2.77l-.92.38A2 2 0 0 0 12 18a4 4 0 0 1-4 4 6 6 0 0 1-6-6 4 4 0 0 1 4-4 2 2 0 0 0 1.85-1.23z",key:"1de1vg"}]],Xs=re("guitar",G0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],H0=re("house",Q0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y0=re("info",W0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M9 19H3",key:"s61nz1"}],["path",{d:"m16 16-3 3 3 3",key:"117b85"}],["path",{d:"M21 5v12a2 2 0 0 1-2 2h-6",key:"hey24a"}]],Ms=re("list-end",q0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],X0=re("list-music",K0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M3 5h6",key:"1ltk0q"}],["path",{d:"M3 12h13",key:"ppymz1"}],["path",{d:"M3 19h13",key:"bpdczq"}],["path",{d:"m16 8-3-3 3-3",key:"1pjpp6"}],["path",{d:"M21 19V7a2 2 0 0 0-2-2h-6",key:"4zzq67"}]],bs=re("list-start",J0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 19H3",key:"108z41"}],["path",{d:"M15 12.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"ms4nik"}]],Pi=re("list-video",Z0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],ty=re("mic-vocal",ey);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ry=re("music",ny);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],us=re("pause",sy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],pn=re("play",ly);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Po=re("refresh-cw",oy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]],Ra=re("repeat-1",iy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],_a=re("repeat",ay);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],or=re("shuffle",uy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],Aa=re("skip-back",cy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],La=re("skip-forward",dy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],my=re("square-play",fy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pl=re("user",hy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],gy=re("volume-1",py);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],vy=re("volume-2",yy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]],wy=re("volume",xy);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ma=re("x",Sy);function Qf(){return window.__TUNETUNA_CONFIG__||{lockedServerUrl:""}}function Hf(){const e=Qf();return!!(e.lockedServerUrl&&e.lockedServerUrl!=="__JELLYFIN_SERVER_URL__"&&e.lockedServerUrl.trim()!=="")}function ky(){return Hf()?Qf().lockedServerUrl:null}const dc="last-server-url";function Iy(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,l]=v.useState(""),[o,i]=v.useState(!1),[a,u]=v.useState(""),[d,f]=v.useState(!1),h=Tn(x=>x.login),k=Hf(),S=ky();v.useEffect(()=>{if(k&&S)t(S);else{const x=Il.get(dc);x&&t(x)}},[k,S]);const y=async x=>{x.preventDefault(),u(""),f(!0);const p=k&&S?S:e;!k&&p.trim()&&Il.set(dc,p.trim());try{await h(p,n,s)}catch(m){u(m instanceof Error?m.message:"Login failed. Please check your credentials.")}finally{f(!1)}};return c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tunetuna"}),c.jsx("p",{className:"text-gray-400",children:"Sign in to your Jellyfin server"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!k&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"serverUrl",className:"block text-sm font-medium text-gray-300 mb-2",children:"Server URL"}),c.jsx("input",{id:"serverUrl",type:"url",value:e,onChange:x=>t(x.target.value),placeholder:"https://your-server.com",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),c.jsx("input",{id:"username",type:"text",value:n,onChange:x=>r(x.target.value),placeholder:"Your username",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",type:o?"text":"password",value:s,onChange:x=>l(x.target.value),placeholder:"Your password",required:!0,className:"w-full px-4 py-3 pr-12 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"}),c.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:o?c.jsx($0,{size:20}):c.jsx(F0,{size:20})})]})]}),a&&c.jsx("div",{className:"bg-red-900/30 border border-red-800 text-red-200 px-4 py-3 rounded-lg text-sm whitespace-pre-wrap",children:a}),c.jsx("button",{type:"submit",disabled:d,className:"w-full bg-[var(--accent-color)] hover:brightness-90 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:d?"Signing in...":"Sign In"})]})]})})}const Wl=On((e,t)=>({state:"idle",source:null,message:null,abortController:null,startSync:(n,r="Syncing...")=>{const s=new AbortController;e({state:"syncing",source:n,message:r,abortController:s})},completeSync:(n,r)=>{e({state:n?"success":"error",message:r||(n?"Sync complete":"Sync failed"),abortController:null}),setTimeout(()=>{t().reset()},3e3)},cancelSync:()=>{const{abortController:n}=t();n&&n.abort(),e({state:"idle",source:null,message:null,abortController:null})},reset:()=>{e({state:"idle",source:null,message:null,abortController:null})}}));function Ot({variant:e="horizontal",onClose:t,onOpenPopover:n,popoverPosition:r,popoverDirection:s="up",className:l,onRef:o}){const{volume:i,setVolume:a}=ee(),[u,d]=v.useState(!1),[f,h]=v.useState(1),k=v.useRef(null),S=z=>{o&&e==="compact"&&o(z)},y=z=>{o&&e==="horizontal"&&o(z)};v.useEffect(()=>{const z=localStorage.getItem("lastNonZeroVolume");z?h(Math.max(.01,Math.min(1,parseFloat(z)))):i>0&&h(i)},[]),v.useEffect(()=>{i>0&&(h(i),localStorage.setItem("lastNonZeroVolume",i.toString()))},[i]);const x=()=>i===0?wy:i<=.5?gy:vy,p=v.useCallback(z=>{if(!k.current)return;const me=k.current.getBoundingClientRect();let D,R;if(z instanceof TouchEvent||z.touches?(D=z.touches[0].clientX,R=z.touches[0].clientY):(D=z.clientX,R=z.clientY),e==="horizontal"){const C=D-me.left,_=Math.max(0,Math.min(1,C/me.width));a(_)}else{const C=me.bottom-R,_=Math.max(0,Math.min(1,C/me.height));a(_)}},[a,e]),m=z=>{z.preventDefault(),z.stopPropagation(),d(!0),p(z)},g=z=>{z.stopPropagation(),m(z)},I=z=>{z.stopPropagation(),E(z)},w=v.useCallback(z=>{u&&(z.preventDefault(),z.stopPropagation(),p(z))},[u,p]),N=v.useCallback(()=>{d(!1)},[]),E=z=>{z.preventDefault(),z.stopPropagation(),d(!0),p(z)},P=v.useCallback(z=>{u&&(z.preventDefault(),z.stopPropagation(),p(z))},[u,p]),T=v.useCallback(()=>{d(!1)},[]),A=z=>{z.stopPropagation(),ee.getState().volume>0?a(0):a(f)},G=z=>{z.stopPropagation()};v.useEffect(()=>{if(u)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",N),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",T),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",N),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",T)}},[u,w,N,P,T]);const se=x();if(e==="compact")return c.jsx("button",{ref:S,onClick:z=>{z.stopPropagation(),n&&n()},className:l||"text-white/70 hover:text-zinc-300 transition-colors",children:c.jsx(se,{className:"w-6 h-6"})});if(e==="horizontal")return c.jsxs("div",{ref:y,className:"flex items-center gap-2 px-2 select-none",style:{width:"120px"},onClick:G,children:[c.jsx("button",{onClick:A,className:"text-white/70 hover:text-white hover:bg-zinc-800 rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 transition-colors",children:c.jsx(se,{className:"w-5 h-5"})}),c.jsx("div",{ref:k,className:"flex-1 relative cursor-pointer",style:{height:"24px"},onMouseDown:g,onTouchStart:I,children:c.jsx("div",{className:"absolute top-1/2 left-0 right-0 -translate-y-1/2 h-1 bg-zinc-800/35 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gray-400 rounded-full transition-all duration-100",style:{width:`${i*100}%`}})})})]});const Ce=r?{position:"fixed",top:`${r.top}px`,left:`${r.left}px`,transform:s==="down"?"translate(-50%, 8px)":"translate(-50%, calc(-100% - 8px))"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return c.jsxs("div",{className:"fixed inset-0 z-50",children:[c.jsx("div",{className:"fixed inset-0",onClick:t,onTouchStart:z=>z.preventDefault(),onTouchMove:z=>z.preventDefault()}),c.jsx("div",{className:"relative z-10 bg-zinc-900 rounded-lg py-4 px-0 shadow-xl border border-zinc-700",style:Ce,children:c.jsxs("div",{className:"h-[200px] w-[38px] cursor-pointer group relative touch-none mx-auto",children:[c.jsx("div",{ref:k,onMouseDown:m,onTouchStart:E,className:"absolute inset-0"}),c.jsxs("div",{className:"h-full w-1 bg-zinc-800/35 rounded-full relative flex flex-col justify-end mx-auto",children:[c.jsx("div",{className:"w-full bg-gray-400 rounded-full transition-all",style:{height:`${i*100}%`}}),c.jsx("div",{className:"absolute left-1/2 w-4 h-4 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",style:{bottom:`${i*100}%`,transform:"translate(-50%, 50%)"}})]})]})})]})}const Ny=[{path:"/",label:"Home",icon:H0,key:"home"},{path:"/artists",label:"Artists",icon:Pl,key:"artists"},{path:"/albums",label:"Albums",icon:Ta,key:"albums"},{path:"/songs",label:"Songs",icon:ry,key:"songs"},{path:"/genres",label:"Genres",icon:Xs,key:"genres"},{path:"/playlists",label:"Playlists",icon:X0,key:"playlists"},{path:"/stats",label:"Stats",icon:R0,key:"stats"}];function Ey(){const e=Qt(),{pageVisibility:t}=ct(),{state:n}=Wl(),[r,s]=v.useState(!1),l=Ny.filter(a=>a.key==="home"?!0:t[a.key]),o=(a,u)=>{window.dispatchEvent(new CustomEvent("closePlayerModal")),e.pathname===u&&a.preventDefault()},i=e.pathname.startsWith("/artists/")&&e.pathname!=="/artists";return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 lg:hidden",style:{bottom:"calc(env(safe-area-inset-bottom) - 8px)"},children:[c.jsxs("div",{className:"relative h-16",children:[c.jsx("div",{className:"max-w-[600px] mx-auto h-full",children:c.jsx("div",{className:"flex justify-around items-center h-full",children:l.map(a=>{const u=e.pathname===a.path,d=a.icon;return c.jsxs(tc,{to:a.path,onClick:f=>o(f,a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${u?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:[c.jsx(d,{className:"w-5 h-5 mb-1"}),c.jsx("span",{className:"text-xs font-medium",children:a.label})]},a.path)})})}),c.jsx("div",{className:"absolute right-4 top-3.5 hidden lg:block",children:!zt()&&c.jsx(Ot,{variant:"horizontal"})})]}),r&&!zt()&&c.jsx(Ot,{variant:"vertical",onClose:()=>s(!1)})]}),c.jsx("nav",{className:"fixed left-0 top-0 bottom-16 bg-black z-30 hidden lg:flex flex-col",style:{width:"4rem",top:n!=="idle"?"28px":"0px"},children:c.jsx("div",{className:`absolute inset-0 flex flex-col items-center justify-center ${i?"border-r border-zinc-800":""}`,children:l.map((a,u)=>{const d=e.pathname===a.path,f=a.icon;return c.jsxs(tc,{to:a.path,onClick:h=>o(h,a.path),className:`flex flex-col items-center justify-center py-5 transition-colors ${d?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"} ${u<l.length-1?"mb-0":""}`,style:{marginBottom:u<l.length-1?"0px":"0"},children:[c.jsx(f,{className:"w-6 h-6 mb-2"}),c.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:a.label})]},a.path)})})})]})}function ba(){return ee(e=>{const{songs:t,currentIndex:n}=e;return n>=0&&t[n]?t[n]:null})}function za(){return ee(e=>e.lastPlayedTrack)}function jl({src:e,alt:t,className:n="",fallback:r,style:s,showOutline:l,rounded:o="rounded",onError:i}){const[a,u]=v.useState(e),[d,f]=v.useState(!1),[h,k]=v.useState(!1);v.useEffect(()=>{u(e),f(!1),k(!1)},[e]);const S=()=>{!d&&r?(u(r),f(!0)):i?(i(),k(!0)):u('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23333" width="300" height="300"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="20" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3ENo Image%3C/text%3E%3C/svg%3E')};return h?null:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:a,alt:t,className:`block ${n}`,onError:S,loading:"lazy",style:s}),l&&c.jsx("div",{className:`absolute inset-0 pointer-events-none border ${o}`,style:{borderColor:"rgba(24, 24, 27, 0.6)",borderWidth:"1px"}})]})}function fc(){return c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-zinc-800 border-t-[var(--accent-color)]"})}function Cy({isOpen:e,onClose:t,children:n,zIndex:r=110}){const[s,l]=v.useState(!1),[o,i]=v.useState(!1);if(v.useEffect(()=>{if(e)l(!1),i(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{l(!0)})}),document.body.style.overflow="hidden";else{l(!1);const u=setTimeout(()=>{i(!1),document.body.style.overflow=""},300);return()=>{clearTimeout(u),document.body.style.overflow=""}}},[e]),!o)return null;const a=c.jsxs("div",{className:"fixed inset-0",style:{zIndex:r},children:[c.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onClick:t}),c.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-zinc-900 rounded-t-2xl shadow-2xl transform transition-transform duration-300 ease-out ${s?"translate-y-0":"translate-y-full"}`,onClick:u=>u.stopPropagation(),children:c.jsx("div",{className:"pb-safe pt-4",children:c.jsx("div",{className:"max-w-[768px] mx-auto w-full",children:n})})})]});return Ia.createPortal(a,document.body)}function Py({item:e,itemType:t,isOpen:n,onClose:r,zIndex:s,onNavigate:l,mode:o="mobile",position:i}){const a=ps(),[u,d]=v.useState(!1),[f,h]=v.useState(null),[k,S]=v.useState(null),{playTrack:y,playAlbum:x,addToQueueWithToast:p,playNext:m,shuffleArtist:g,toggleShuffle:I}=ee(),{startSync:w,completeSync:N}=Wl(),{genres:E}=xe(),{updateEventMetadata:P}=Pt(),T=v.useRef(e),A=v.useRef(t);v.useEffect(()=>{T.current=e,A.current=t},[e,t]),v.useEffect(()=>{if(!n||!e){S(null);return}(async()=>{var R,C;try{if(t==="album"){const _=await W.getAlbumTracks(e.Id);_.length>0&&((R=_[0].Genres)!=null&&R[0])&&S(_[0].Genres[0])}else if(t==="artist"){const{songs:_}=await W.getArtistItems(e.Id);_.length>0&&((C=_[0].Genres)!=null&&C[0])&&S(_[0].Genres[0])}}catch(_){console.error("Failed to fetch genre:",_)}})()},[n,e==null?void 0:e.Id,t]);const G=D=>{if(!D)return null;const R=E.find(C=>{var _;return((_=C.Name)==null?void 0:_.toLowerCase())===D.toLowerCase()});return(R==null?void 0:R.Id)||null},se=v.useCallback(async D=>{var _,M,Q,Y,X,oe;const R=T.current,C=A.current;if(R){if(D.startsWith("goTo")){if(r(),l&&l(),D==="goToArtist"){const $=((M=(_=R.ArtistItems)==null?void 0:_[0])==null?void 0:M.Id)||("AlbumArtists"in R?(Y=(Q=R.AlbumArtists)==null?void 0:Q[0])==null?void 0:Y.Id:void 0);$&&a(`/artist/${$}`)}else if(D==="goToAlbum")R.AlbumId&&a(`/album/${R.AlbumId}`);else if(D==="goToGenre"){const $=C==="album"||C==="artist"?k:(X=R.Genres)==null?void 0:X[0];if($){const B=G($);if(B)a(`/genre/${B}`);else{const we=(await W.getGenres()).find(Ue=>{var Ie;return((Ie=Ue.Name)==null?void 0:Ie.toLowerCase())===$.toLowerCase()});we!=null&&we.Id&&a(`/genre/${we.Id}`)}}}return}d(!0),h(D);try{switch(C){case"album":{if(D==="play"){const $=await W.getAlbumTracks(R.Id),{shuffle:B}=ee.getState();B&&I(),x($)}else if(D==="shuffle"){const $=await W.getAlbumTracks(R.Id),{shuffle:B}=ee.getState();B&&I(),x($),requestAnimationFrame(()=>{const{shuffle:ie}=ee.getState();ie||I()})}else if(D==="playNext"){const $=await W.getAlbumTracks(R.Id);m($)}else if(D==="addToQueue"){const $=await W.getAlbumTracks(R.Id);p($)}else if(D==="sync"){w("context-menu",`Syncing ${R.Name}...`);try{(await W.getAlbumTracks(R.Id)).forEach(B=>{var ie;P("song",B.Id,{songName:B.Name||"Unknown",artistNames:((ie=B.ArtistItems)==null?void 0:ie.map(we=>we.Name||"Unknown"))||[B.AlbumArtist||"Unknown"],albumName:B.Album||"Unknown",genres:B.Genres||[],year:B.ProductionYear||null})}),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"song":{if(D==="play")console.log("ContextMenu: Playing song",R.Name),y(R);else if(D==="playNext")console.log("ContextMenu: Adding song to play next",R.Name),m([R]);else if(D==="addToQueue")console.log("ContextMenu: Adding song to queue",R.Name),p([R]);else if(D==="sync"){w("context-menu",`Syncing ${R.Name}...`);try{const $=await W.getSongById(R.Id);if($.Genres){const B=await W.getGenres();$.Genres.forEach(ie=>{const we=B.find(Ue=>{var Ie;return((Ie=Ue.Name)==null?void 0:Ie.toLowerCase())===ie.toLowerCase()});we!=null&&we.Id&&xe.getState().clearGenreSongsForGenre(we.Id)})}P("song",R.Id,{songName:$.Name||"Unknown",artistNames:((oe=$.ArtistItems)==null?void 0:oe.map(B=>B.Name||"Unknown"))||[$.AlbumArtist||"Unknown"],albumName:$.Album||"Unknown",genres:$.Genres||[],year:$.ProductionYear||null}),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"artist":{if(D==="shuffle"){const{songs:$}=await W.getArtistItems(R.Id);g($)}else if(D==="playNext"){const{songs:$}=await W.getArtistItems(R.Id);m($)}else if(D==="addToQueue"){const{songs:$}=await W.getArtistItems(R.Id);p($)}else if(D==="sync"){w("context-menu",`Syncing ${R.Name}...`);try{const{songs:$}=await W.getArtistItems(R.Id);$.forEach(B=>{var ie;P("song",B.Id,{songName:B.Name||"Unknown",artistNames:((ie=B.ArtistItems)==null?void 0:ie.map(we=>we.Name||"Unknown"))||[B.AlbumArtist||"Unknown"],albumName:B.Album||"Unknown",genres:B.Genres||[],year:B.ProductionYear||null})}),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"playlist":{if(D==="play"){const $=await W.getAlbumTracks(R.Id),{shuffle:B}=ee.getState();B&&I(),x($)}else if(D==="shuffle"){const $=await W.getAlbumTracks(R.Id),{shuffle:B}=ee.getState();B&&I(),x($),requestAnimationFrame(()=>{const{shuffle:ie}=ee.getState();ie||I()})}else if(D==="playNext"){const $=await W.getAlbumTracks(R.Id);m($)}else if(D==="addToQueue"){const $=await W.getAlbumTracks(R.Id);p($)}break}}r()}catch($){console.error("Context menu action failed:",$)}finally{d(!1),h(null)}}},[r,l,a,k,G,y,x,p,m,g,I,w,N]);if(!e||!t)return null;const z=(()=>{var D,R,C,_,M,Q,Y;switch(t){case"album":{const X=((R=(D=e.ArtistItems)==null?void 0:D[0])==null?void 0:R.Name)||("AlbumArtists"in e?(_=(C=e.AlbumArtists)==null?void 0:C[0])==null?void 0:_.Name:void 0)||"Artist",oe=k||"Genre";return[{id:"play",label:"Play",icon:pn},{id:"shuffle",label:"Shuffle",icon:or},{id:"playNext",label:"Play Next",icon:bs},{id:"addToQueue",label:"Add to Queue",icon:Ms},{id:"goToArtist",label:`Go to ${X}`,icon:Pl},{id:"goToGenre",label:`Go to ${oe}`,icon:Xs},{id:"sync",label:"Sync",icon:Po}]}case"song":{const X=((Q=(M=e.ArtistItems)==null?void 0:M[0])==null?void 0:Q.Name)||e.AlbumArtist||"Artist",oe=e.Album||"Album",$=((Y=e.Genres)==null?void 0:Y[0])||"Genre";return[{id:"play",label:"Play",icon:pn},{id:"playNext",label:"Play Next",icon:bs},{id:"addToQueue",label:"Add to Queue",icon:Ms},{id:"goToArtist",label:`Go to ${X}`,icon:Pl},{id:"goToAlbum",label:`Go to ${oe}`,icon:Ta},{id:"goToGenre",label:`Go to ${$}`,icon:Xs},{id:"sync",label:"Sync",icon:Po}]}case"artist":return[{id:"shuffle",label:"Shuffle",icon:or},{id:"playNext",label:"Play Next",icon:bs},{id:"addToQueue",label:"Add to Queue",icon:Ms},{id:"goToGenre",label:`Go to ${k||"Genre"}`,icon:Xs},{id:"sync",label:"Sync",icon:Po}];case"playlist":return[{id:"play",label:"Play",icon:pn},{id:"shuffle",label:"Shuffle",icon:or},{id:"playNext",label:"Play Next",icon:bs},{id:"addToQueue",label:"Add to Queue",icon:Ms}];default:return[]}})(),me=e.Name||"Unknown";if(o==="desktop"&&n){const R=Math.min(400,z.length*44+8);let C=(i==null?void 0:i.x)||100,_=(i==null?void 0:i.y)||100;return C+240>window.innerWidth&&(C=window.innerWidth-240-10),_+R>window.innerHeight&&(_=window.innerHeight-R-10),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:r,style:{zIndex:s-1}}),c.jsx("div",{className:"fixed z-50 bg-zinc-900 border border-zinc-700 rounded-lg shadow-2xl py-1 min-w-[200px]",style:{left:C,top:_,zIndex:s},onClick:M=>M.stopPropagation(),children:c.jsx("div",{className:"space-y-0",children:z.map(M=>{const Q=M.icon,Y=u&&f===M.id;return c.jsxs("button",{onClick:()=>se(M.id),disabled:u,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-zinc-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",children:[c.jsx(Q,{className:"w-4 h-4 text-white flex-shrink-0"}),c.jsx("span",{className:"flex-1 text-sm text-white",children:M.label}),Y&&c.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin flex-shrink-0"})]},M.id)})})})]})}return c.jsx(Cy,{isOpen:n,onClose:r,zIndex:s,children:c.jsxs("div",{className:"pb-6",children:[c.jsx("div",{className:"mb-4 ml-4",children:c.jsx("div",{className:"text-lg font-semibold text-white break-words",children:me})}),c.jsx("div",{className:"space-y-1",children:z.map(D=>{const R=D.icon,C=u&&f===D.id;return c.jsxs("button",{onClick:()=>se(D.id),disabled:u,className:"w-full flex items-center gap-4 pl-4 pr-4 py-3 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(R,{className:"w-5 h-5 text-white"}),c.jsx("span",{className:"flex-1 text-left text-white font-medium",children:D.label}),C&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]},D.id)})})]})})}function jy({onLongPress:e,onClick:t,delay:n=500,moveThreshold:r=10}){const s=v.useRef(null),l=v.useRef(null),o=v.useRef(!1),i=v.useRef(null),a=v.useRef(!1),u=v.useCallback(h=>{o.current=!1,a.current=!1,l.current=h.target,!("button"in h&&h.button!==0)&&(h.preventDefault(),"touches"in h&&h.touches.length>0?i.current={x:h.touches[0].clientX,y:h.touches[0].clientY}:i.current=null,s.current=setTimeout(()=>{a.current||(o.current=!0,e(h))},n))},[e,n]),d=v.useCallback(h=>{if(!i.current||h.touches.length===0)return;const k=h.touches[0].clientX,S=h.touches[0].clientY,y=Math.abs(k-i.current.x),x=Math.abs(S-i.current.y);Math.sqrt(y*y+x*x)>r&&(a.current=!0,s.current&&(clearTimeout(s.current),s.current=null))},[r]),f=v.useCallback(h=>{if("button"in h&&h.button!==0){o.current=!1,a.current=!1,l.current=null,i.current=null;return}const k=o.current;s.current&&(clearTimeout(s.current),s.current=null),t&&l.current===h.target&&!k&&!a.current&&t(h),o.current=!1,a.current=!1,l.current=null,i.current=null},[t]);return{onMouseDown:u,onTouchStart:u,onTouchMove:d,onMouseUp:f,onMouseLeave:h=>{s.current&&(clearTimeout(s.current),s.current=null),o.current=!1,a.current=!1,l.current=null,i.current=null},onTouchEnd:f}}const Ty=45,Ry=45,zs=v.memo(function({track:t,index:n,isCurrent:r,isPlaying:s,showRemoveButton:l=!0,onClick:o,onRemove:i,onReorderDragStart:a,onReorderDragEnd:u,onReorderDrop:d,onContextMenu:f,isDragOver:h,onDragEnterRow:k}){var w,N,E,P;const S=v.useRef(!1),y=jy({onLongPress:T=>{T.preventDefault(),S.current=!0,f(t,"mobile"),setTimeout(()=>{S.current=!1},300)}}),x=v.useCallback(T=>{if(S.current){T.preventDefault(),T.stopPropagation();return}o()},[o]),p=v.useCallback(T=>{T.preventDefault(),S.current=!0,f(t,"desktop",{x:T.clientX,y:T.clientY}),setTimeout(()=>{S.current=!1},300)},[f,t]),m=v.useCallback(T=>{T.preventDefault(),T.dataTransfer.dropEffect="move"},[]),g=v.useCallback(T=>{T.preventDefault(),r||k(n)},[r,k,n]),I=v.useCallback(T=>{r||d(T,n)},[r,d,n]);return c.jsxs("div",{onDragOver:m,onDragEnter:g,onDrop:I,className:`queue-row flex items-center gap-3 p-3 ${r?"cursor-pointer":"hover:bg-zinc-900 cursor-pointer"} ${r?"bg-zinc-900":""} relative focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] focus-visible:ring-inset`,onClick:r?void 0:x,onContextMenu:p,tabIndex:0,role:"button","aria-label":`${t.Name} by ${((N=(w=t.ArtistItems)==null?void 0:w[0])==null?void 0:N.Name)||t.AlbumArtist||"Unknown Artist"}`,...y,children:[h&&!r&&c.jsx("div",{className:"absolute left-3 right-3 top-0 h-0.5 bg-[var(--accent-color)] rounded-full pointer-events-none"}),c.jsx("div",{className:"queue-drag-art w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 ml-1",children:c.jsx(jl,{src:W.getAlbumArtUrl(t.AlbumId||t.Id,96),alt:t.Name,className:"w-full h-full object-cover",showOutline:!1,rounded:"rounded-sm"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-sm font-medium truncate ${r?"text-[var(--accent-color)]":"text-white"}`,children:t.Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((P=(E=t.ArtistItems)==null?void 0:E[0])==null?void 0:P.Name)||t.AlbumArtist||"Unknown Artist"})]}),r?c.jsx("button",{onClick:T=>{T.stopPropagation(),o()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":s?"Pause":"Play",children:s?c.jsx(us,{className:"w-5 h-5"}):c.jsx(pn,{className:"w-5 h-5"})}):c.jsx(c.Fragment,{children:l&&c.jsxs(c.Fragment,{children:[c.jsx("button",{draggable:!0,onMouseDown:T=>T.stopPropagation(),onTouchStart:T=>T.stopPropagation(),onDragStart:T=>{T.stopPropagation(),a(T,n)},onDragEnd:T=>{T.stopPropagation(),u()},className:"text-gray-500 hover:text-zinc-300 transition-colors p-2 cursor-grab active:cursor-grabbing focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Drag to reorder",children:c.jsx(V0,{className:"w-4 h-4"})}),i&&c.jsx("button",{onClick:T=>{T.stopPropagation(),i()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Remove from queue",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})});function Oa({onNavigateFromContextMenu:e,header:t,contentPaddingBottom:n="8rem"}){const[r,s]=v.useState(!1),[l,o]=v.useState(null),[i,a]=v.useState("mobile"),[u,d]=v.useState(null),[f,h]=v.useState(null),[k,S]=v.useState(null),[y,x]=v.useState(Ty),[p,m]=v.useState(!1),[g,I]=v.useState(!1),w=v.useRef(null),{songs:N,currentIndex:E,isPlaying:P,togglePlayPause:T,skipToTrack:A,removeFromQueue:G,reorderQueue:se,isFetchingRecommendations:Ce,isLoadingMoreSongs:z,repeat:me}=ee(),{showQueueRecommendations:D,setShowQueueRecommendations:R,recommendationsQuality:C}=ct(),_=v.useCallback((U,F)=>{U.dataTransfer.effectAllowed="move",U.dataTransfer.setData("text/plain",F.toString()),S(F),w.current=F;const V=U.currentTarget,Z=V==null?void 0:V.closest(".queue-row");if(Z&&U.dataTransfer.setDragImage){const Ne=Z.querySelector(".queue-drag-art")??Z,et=Ne.getBoundingClientRect();U.dataTransfer.setDragImage(Ne,et.width/2,et.height/2)}},[]),M=v.useCallback(()=>{S(null),h(null),w.current=null},[]),Q=v.useCallback((U,F)=>{U.preventDefault();const V=U.dataTransfer.getData("text/plain")||U.dataTransfer.getData("text/html"),Z=parseInt(V,10);if(Number.isNaN(Z))return;const be=w.current??Z,Ne=ee.getState().songs,et=Ne[be],Wt=Ne[F];if(et&&Wt&&et.source!==Wt.source){h(null),S(null),w.current=null;return}Z!==F&&se(Z,F),h(null),S(null),w.current=null},[se]),Y=v.useCallback((U,F="mobile",V)=>{o(U),a(F),d(V||null),s(!0)},[]),X=v.useCallback(U=>{if(w.current==null)return;const F=ee.getState().songs,V=F[w.current],Z=F[U];if(!(!V||!Z)){if(V.source!==Z.source){h(null);return}h(U)}},[]),oe=E>=0?N[E]:null,$=N.filter((U,F)=>F<E);let B=-1;for(let U=N.length-1;U>E;U--)if(N[U].source==="user"){B=U;break}const ie=N.filter((U,F)=>F<=E?!1:B!==-1?F<=B:!1),we=N.filter((U,F)=>U.source!=="recommendation"||F<=E?!1:B!==-1?F>B:!0);let Ue=y;const Ie=$.slice(-Math.min(Ue,$.length));Ue-=Ie.length,Ue-=oe?1:0;const ne=ie.slice(0,Math.max(0,Ue));Ue-=ne.length;const Ht=we.slice(0,Math.max(0,Ue));return v.useEffect(()=>{const U=document.querySelector(".queue-list-container");if(!U)return;const F=()=>{const V=U.scrollTop,Z=U.clientHeight,be=U.scrollHeight;V+Z*2.5>=be&&x(Ne=>Math.min(Ne+Ry,N.length))};return U.addEventListener("scroll",F,{passive:!0}),F(),()=>U.removeEventListener("scroll",F)},[N.length]),v.useEffect(()=>{if(Ce){const U=setTimeout(()=>{I(!0)},2e3);return()=>clearTimeout(U)}else I(!1)},[Ce]),c.jsx("div",{className:"flex-1 flex flex-col min-h-0 w-full relative",children:c.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 queue-list-container w-full",style:{paddingBottom:"8rem"},children:[c.jsxs("div",{className:"max-w-[864px] mx-auto w-full",children:[t,N.length===0&&!oe?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 py-10",children:c.jsx("p",{children:"Queue is empty"})}):c.jsxs("div",{children:[Ie.length>0&&p&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Previous"}),c.jsx("button",{onClick:()=>m(!1),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Hide"})]}),Ie.map((U,F)=>{const V=N.indexOf(U);return c.jsx(zs,{track:U,index:V,isCurrent:!1,isPlaying:!1,showRemoveButton:!1,onClick:()=>A(V),onReorderDragStart:_,onReorderDragEnd:M,onReorderDrop:Q,onContextMenu:Y,isDragOver:!1,onDragEnterRow:X},`${U.Id}-${F}`)})]}),oe&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Now Playing"}),Ie.length>0&&!p&&c.jsx("button",{onClick:()=>m(!0),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Show Previous"})]}),c.jsx(zs,{track:oe,index:E,isCurrent:!0,isPlaying:P,showRemoveButton:!1,onClick:T,onReorderDragStart:_,onReorderDragEnd:M,onReorderDrop:Q,onContextMenu:Y,isDragOver:!1,onDragEnterRow:X})]}),ne.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Coming Up"}),c.jsx("button",{onClick:()=>{const F=N.filter((Z,be)=>be<=E||Z.source==="recommendation"),V=Math.min(E,F.length-1);ee.setState({songs:F,currentIndex:V,standardOrder:F.filter(Z=>Z.source==="user").map(Z=>Z.Id),shuffleOrder:F.filter(Z=>Z.source==="user").map(Z=>Z.Id)})},className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Clear"})]}),ne.map((U,F)=>{const V=N.indexOf(U);return c.jsx(zs,{track:U,index:V,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>A(V),onRemove:()=>G(V),onReorderDragStart:_,onReorderDragEnd:M,onReorderDrop:Q,onContextMenu:Y,isDragOver:f===V,onDragEnterRow:X},`${U.Id}-${F}`)}),z&&c.jsxs("div",{className:"flex items-center justify-center py-4",children:[c.jsx(fc,{}),c.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Loading more songs..."})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Recommendations"}),c.jsx("button",{disabled:me!=="off",onClick:()=>{const U=!D;if(R(U),!U){const F=N.filter((V,Z)=>Z<=E?!0:V.source==="user");ee.setState({songs:F,currentIndex:E,standardOrder:F.filter(V=>V.source==="user").map(V=>V.Id),shuffleOrder:F.filter(V=>V.source==="user").map(V=>V.Id)})}},className:`relative w-12 h-6 rounded-full transition-colors ${D&&me==="off"?"bg-[var(--accent-color)]":"bg-zinc-600"} ${me!=="off"?"opacity-50 cursor-not-allowed":""}`,children:c.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${D&&me==="off"?"translate-x-6":"translate-x-0"}`})})]}),c.jsxs("div",{className:"px-4 pb-2",children:[me!=="off"&&c.jsx("span",{className:"text-xs text-gray-400 font-normal block mb-1",children:"Disabled when repeat mode is active"}),(g||C==="failed")&&c.jsxs(c.Fragment,{children:[g&&c.jsx("span",{className:"text-xs text-gray-400 font-normal block",children:"Syncing genres..."}),!Ce&&C==="failed"&&c.jsx("span",{className:"text-xs text-gray-400 font-normal block",children:"Sync library in settings"})]})]}),D&&me==="off"&&c.jsxs(c.Fragment,{children:[Ht.map((U,F)=>{const V=N.indexOf(U);return c.jsx(zs,{track:U,index:V,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>A(V),onRemove:()=>G(V),onReorderDragStart:_,onReorderDragEnd:M,onReorderDrop:Q,onContextMenu:Y,isDragOver:f===V,onDragEnterRow:X},`${U.Id}-${F}`)}),g&&c.jsx("div",{className:"px-4 pt-4 pb-6 flex justify-center",children:c.jsx(fc,{})})]})]})]})]}),c.jsx(Py,{item:l,itemType:l?"song":null,isOpen:r,onClose:()=>{s(!1),o(null)},onNavigate:e,mode:i,position:u||void 0})]})})}function _y({onClose:e,onNavigateFromContextMenu:t}){const{songs:n,currentIndex:r,isPlaying:s,shuffle:l,repeat:o,togglePlayPause:i,toggleShuffle:a,toggleRepeat:u,next:d,previous:f}=ee(),h=r>=0&&r<n.length-1,k=r>0;return c.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[c.jsx(Oa,{onNavigateFromContextMenu:t,contentPaddingBottom:"8rem"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:c.jsx("div",{className:"px-6 pt-2 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"calc(1.5rem + env(safe-area-inset-bottom))"},children:c.jsxs("div",{className:"flex items-center justify-center gap-8",children:[c.jsx("button",{onClick:a,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${l?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(or,{className:"w-6 h-6"})}),c.jsx("button",{onClick:f,disabled:!k,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${k?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(Aa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:i,className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:s?c.jsx(us,{className:"w-8 h-8"}):c.jsx(pn,{className:"w-8 h-8"})}),c.jsx("button",{onClick:d,disabled:!h,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${h?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(La,{className:"w-8 h-8"})}),c.jsx("button",{onClick:u,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${o!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:o==="one"?c.jsx(Ra,{className:"w-6 h-6"}):c.jsx(_a,{className:"w-6 h-6"})})]})})})]})}function Ay(){const e=ba(),t=za(),{isQueueSidebarOpen:n}=ee(),r=e||t,[s,l]=v.useState(null),[o,i]=v.useState(!1);return v.useEffect(()=>{(async()=>{if(!r){l(null);return}i(!0);try{const u=await W.getLyrics(r.Id);l(u)}catch(u){console.error("Failed to fetch lyrics:",u),l(null)}finally{i(!1)}})()},[r==null?void 0:r.Id]),r?c.jsxs("div",{className:`fixed left-0 right-0 z-[55] flex flex-col ${n?"lyrics-with-sidebar":""}`,style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top) + 4rem)",bottom:"calc(11rem + env(safe-area-inset-bottom))"},children:[c.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 py-4 relative",children:o?c.jsx("div",{className:"flex items-center justify-center h-full px-6",children:c.jsx("div",{className:"text-white/50",children:"Loading lyrics..."})}):s?c.jsx("div",{className:"max-w-[768px] lg:max-w-[864px] mx-auto pb-8 pl-8 pr-4",children:c.jsx("div",{className:"text-white text-center whitespace-pre-line leading-relaxed text-base lg:text-xl",children:s.split(`
`).map((a,u)=>c.jsx("div",{className:"mb-2",children:a},u))})}):c.jsx("div",{className:"flex items-center justify-center h-full px-6",children:c.jsx("div",{className:"text-white/50 text-center",children:"This song has no lyrics"})})}),c.jsx("div",{className:"h-px bg-white/20 flex-shrink-0"})]}):null}function Ly({onClose:e,onClosingStart:t,closeRef:n}){const r=ps(),{songs:s,currentIndex:l,isPlaying:o,currentTime:i,duration:a,shuffle:u,repeat:d,togglePlayPause:f,next:h,previous:k,seek:S,setVolume:y,toggleShuffle:x,toggleRepeat:p,playTrack:m,isQueueSidebarOpen:g,toggleQueueSidebar:I}=ee(),w=ba(),N=za(),E=w||N,[P,T]=v.useState(!1);v.useEffect(()=>{T(!1)},[]);const[A,G]=v.useState(!1),[se,Ce]=v.useState(!1),[z,me]=v.useState(null),[D,R]=v.useState("up"),[C,_]=v.useState(null),[M,Q]=v.useState(null),[Y,X]=v.useState(!1),[oe,$]=v.useState(!1),[B,ie]=v.useState(!1),[we,Ue]=v.useState(!1),[Ie,ne]=v.useState(null),[Ht,U]=v.useState(null),F=v.useRef(null),V=v.useRef(null),Z=v.useRef(null),be=v.useRef(null),Ne=v.useRef(!1),et=v.useRef(null);v.useEffect(()=>{const O=window.getComputedStyle(document.body).overflowY,H=window.getComputedStyle(document.documentElement).overflowY,q=document.getElementById("root")?window.getComputedStyle(document.getElementById("root")).overflowY:"N/A";document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden";const Fe=document.getElementById("root");return Fe&&(Fe.style.overflowY="hidden"),()=>{document.body.style.overflowY=O,document.documentElement.style.overflowY=H,Fe&&(Fe.style.overflowY=q!=="N/A"?q:"")}},[]),v.useEffect(()=>{requestAnimationFrame(()=>{ie(!0)})},[]);const Wt=s.length>0&&(l<0||l<s.length-1||d!=="off"),wr=l>0||d==="all"&&s.length>0;v.useEffect(()=>{(async()=>{if(!E){X(!1);return}try{const H=await W.getLyrics(E.Id),q=H!==null&&H.trim().length>0;X(q)}catch(H){console.warn("[PlayerModal] Lyrics check failed:",H),X(!1)}})()},[E]);const L=O=>{if(!O)return"Unknown";if(O.Name&&O.Name.trim())return O.Name;const H=O.Path;return H&&typeof H=="string"&&(H.split("/").pop()||H.split("\\").pop())||"Unknown"},ae=O=>{var H,q;return O&&(((q=(H=O.ArtistItems)==null?void 0:H[0])==null?void 0:q.Name)||O.AlbumArtist)||""};if(v.useEffect(()=>{"mediaSession"in navigator&&E&&(navigator.mediaSession.metadata=new MediaMetadata({title:L(E),artist:ae(E),album:E.Album||"",artwork:[{src:W.getAlbumArtUrl(E.AlbumId||E.Id,512),sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",f),navigator.mediaSession.setActionHandler("pause",f),navigator.mediaSession.setActionHandler("previoustrack",k),navigator.mediaSession.setActionHandler("nexttrack",h))},[E,o,f,h,k]),v.useEffect(()=>{if("mediaSession"in navigator&&"setPositionState"in navigator.mediaSession&&a>0)try{navigator.mediaSession.setPositionState({duration:a,playbackRate:1,position:Math.min(i,a)})}catch{}},[i,a]),v.useEffect(()=>{Ue(!1)},[E==null?void 0:E.Id]),v.useEffect(()=>{if(!E)return;const O=W.getAlbumArtUrl(E.AlbumId||E.Id);if(!Ie){ne(O);return}if(O===Ie)return;const H=new window.Image,q=()=>{U(Ie),ne(O),setTimeout(()=>{U(null)},1100)};H.onload=q,H.onerror=q,H.src=O},[E==null?void 0:E.Id,E==null?void 0:E.AlbumId]),!E)return null;const ue=a>0?i/a*100:0,pt=O=>{const H=Math.floor(O/60),q=Math.floor(O%60);return`${H}:${q.toString().padStart(2,"0")}`},Yt=()=>{if(E.Name&&E.Name.trim())return E.Name;const O=E.Path;return O&&typeof O=="string"&&(O.split("/").pop()||O.split("\\").pop())||"Unknown"},qt=()=>{var O,H;return((H=(O=E.ArtistItems)==null?void 0:O[0])==null?void 0:H.Name)||E.AlbumArtist},Kt=E.AlbumId&&E.Album&&E.Album.trim(),He=O=>{if(!F.current||!a||Ne.current)return;const H=F.current.getBoundingClientRect(),q=(O.clientX-H.left)/H.width;S(Math.max(0,Math.min(1,q))*a)},Rt=O=>{if(!F.current||!a)return;Ne.current=!0,et.current=O.clientX;const H=F.current.getBoundingClientRect(),q=(O.clientX-H.left)/H.width;S(Math.max(0,Math.min(1,q))*a)},Dn=()=>{Ne.current=!1,et.current=null},Wf=O=>{if(!F.current||!a)return;O.stopPropagation(),Ne.current=!0;const H=O.touches[0],q=F.current.getBoundingClientRect(),Fe=(H.clientX-q.left)/q.width;S(Math.max(0,Math.min(1,Fe))*a)},Yf=O=>{if(!Ne.current||!F.current||!a)return;O.stopPropagation(),O.preventDefault();const H=O.touches[0],q=F.current.getBoundingClientRect(),Fe=(H.clientX-q.left)/q.width;S(Math.max(0,Math.min(1,Fe))*a)},qf=O=>{O.stopPropagation(),Ne.current=!1,et.current=null};v.useEffect(()=>{const O=q=>{if(!Ne.current||!F.current||!a)return;const Fe=F.current.getBoundingClientRect(),Yl=(q.clientX-Fe.left)/Fe.width;S(Math.max(0,Math.min(1,Yl))*a)},H=()=>{Ne.current&&(Ne.current=!1,et.current=null)};return document.addEventListener("mousemove",O),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",H)}},[a,S]);const Sr=()=>{$(!0),t==null||t(),setTimeout(()=>{e()},300)},Kf=(O="up")=>{const H=O==="down"?M:C;if(H){const q=H.getBoundingClientRect();me({top:O==="down"?q.bottom:q.top,left:q.left+q.width/2}),R(O),Ce(!0)}};v.useEffect(()=>(n&&(n.current=Sr),()=>{n&&(n.current=null)}),[n]);const Xf=O=>{P||A||(V.current=O.touches[0].clientY,Z.current=Date.now())},Jf=O=>{if(P||A||V.current===null)return;const q=O.touches[0].clientY-V.current;if(q>0&&be.current){const Fe=Math.min(q,window.innerHeight*.5);be.current.style.transform=`translateY(${Fe}px)`}},Zf=O=>{if(P||A||V.current===null||Z.current===null){V.current=null,Z.current=null,be.current&&(be.current.style.transform="");return}const q=O.changedTouches[0].clientY-V.current,Fe=Date.now()-Z.current,Yl=50,em=.3;be.current&&(be.current.style.transform="");const tm=q/Fe;(q>Yl||q>30&&tm>em)&&Sr(),V.current=null,Z.current=null};return c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
      @media (min-aspect-ratio: 4/3) and (min-width: 768px) {
        .landscape\\:flex-row { flex-direction: row; }
        .landscape\\:items-center { align-items: center; }
        .landscape\\:gap-8 { gap: 2rem; }
        .landscape\\:order-1 { order: 1; }
        .landscape\\:flex-shrink-0 { flex-shrink: 0; }
        .landscape\\:order-2 { order: 2; }
        .landscape\\:text-left { text-align: left; }
        .landscape\\:flex-1 { flex: 1; }
        .landscape\\:max-w-xs { max-width: 20rem; }
        .landscape\\:justify-start { justify-content: flex-start; }
        .landscape\\:mx-0 { margin-left: 0; margin-right: 0; }
      }

      @media (min-width: 1024px) {
        .lg\\:max-w-\\[864px\\] { max-width: 864px; }
      }

      /* Queue sidebar in player modal - transparent backgrounds (exclude fixed elements like context menus) */
      .queue-xl-container .bg-zinc-900:not([style*="position: fixed"]):not(.fixed) { background-color: transparent; }
      .queue-xl-container .hover\\:bg-zinc-900:hover:not([style*="position: fixed"]):not(.fixed) { background-color: rgba(255, 255, 255, 0.1); }
      .queue-xl-container .hover\\:bg-zinc-800:hover { background-color: rgba(255, 255, 255, 0.1); }
      .queue-xl-container .text-\\[var\\(--accent-color\\)\\] { color: white; }

      /* Background crossfade animation - only on large screens */
      @keyframes bgFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .bg-fade-in {
        animation: none; /* Instant on smaller screens */
      }
      @media (min-width: 1280px) {
        .bg-fade-in {
          animation: bgFadeIn 1s ease-out forwards;
        }
      }

      /* Lyrics modal with sidebar - adjust right edge on xl screens */
      @media (min-width: 1280px) {
        .lyrics-with-sidebar { right: var(--sidebar-width) !important; }
      }
    `}),c.jsxs("div",{ref:be,onTouchStart:Xf,onTouchMove:Jf,onTouchEnd:Zf,className:`fixed left-0 right-0 bg-zinc-900 z-[70] flex transition-transform duration-300 ease-out overflow-hidden ${oe?"translate-y-full":B?"translate-y-0":"translate-y-full"}`,style:{top:"var(--header-offset, 0px)",paddingTop:"calc(env(safe-area-inset-top) + var(--header-offset, 0px))",bottom:"calc(-1 * env(safe-area-inset-bottom))",height:"calc(100% + env(safe-area-inset-bottom) + var(--header-offset, 0px))",transition:V.current===null?"transform 300ms ease-out":"none"},children:[!we&&(Ie||Ht)&&c.jsxs("div",{className:P?"hidden xl:contents":"contents",children:[Ht&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Ht})`,filter:"blur(100px)",transform:"scale(1.2)"}}),c.jsx("div",{className:"absolute top-0 left-0 right-0 h-[150px] bg-gradient-to-b from-black/40 to-transparent pointer-events-none"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[200px] bg-gradient-to-t from-zinc-900/50 to-transparent pointer-events-none"})]}),Ie&&c.jsxs("div",{className:"absolute inset-0 bg-fade-in",children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Ie})`,filter:"blur(100px)",transform:"scale(1.2)"}}),c.jsx("div",{className:"absolute top-0 left-0 right-0 h-[150px] bg-gradient-to-b from-black/40 to-transparent pointer-events-none"}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[200px] bg-gradient-to-t from-zinc-900/50 to-transparent pointer-events-none"})]},Ie)]}),c.jsx("div",{className:P?"hidden xl:contents":"contents",children:c.jsx("div",{className:"absolute inset-0 bg-black/40 z-[1] pointer-events-none"})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative z-[2]",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 relative",children:[c.jsx("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:c.jsx("button",{onClick:Sr,className:"text-white hover:text-zinc-300 transition-colors z-10 flex-shrink-0",children:c.jsx(M0,{className:"w-8 h-8"})})}),A&&E&&c.jsx("h2",{className:"absolute left-0 right-0 text-center text-white text-sm sm:text-base font-medium px-20 truncate",children:Yt()}),c.jsxs("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:[c.jsx("div",{className:`${P?"xl:hidden":"md:hidden"} ${A?"hidden":""}`,children:!zt()&&c.jsx(Ot,{variant:"compact",onOpenPopover:()=>Kf("down"),onRef:Q,className:"text-white hover:text-zinc-300 hover:bg-white/10 rounded-full transition-colors p-2"})}),c.jsx("button",{onClick:()=>{!Y&&!A||(P&&T(!1),G(!A))},className:`transition-colors p-2 rounded-full ${Y||A?`hover:bg-white/10 ${A?"text-[var(--accent-color)]":"text-white"}`:"invisible pointer-events-none"}`,children:c.jsx(ty,{className:"w-6 h-6"})}),c.jsx("button",{onClick:()=>{P||G(!1),T(!P)},className:"text-white hover:bg-white/10 rounded-full transition-colors p-2 xl:hidden",children:P?c.jsx(my,{className:"w-6 h-6"}):c.jsx(Pi,{className:"w-6 h-6"})}),!g&&c.jsx("button",{onClick:I,className:"text-white hover:bg-white/10 rounded-full transition-colors p-2 hidden xl:block",children:c.jsx(Pi,{className:"w-6 h-6"})})]})]}),P&&c.jsx("div",{className:"flex-1 bg-zinc-900 relative z-10 xl:hidden",children:c.jsx(_y,{onClose:()=>T(!1),onNavigateFromContextMenu:()=>{Sr()}})}),c.jsxs("div",{className:`flex-1 flex-col min-h-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full relative ${P?"hidden xl:flex":"flex"}`,style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("div",{className:`flex-1 overflow-hidden min-h-0 flex items-center justify-center ${A?"invisible":""}`,children:c.jsx("div",{className:"w-full flex flex-col items-center px-4 sm:px-8 md:pr-0",children:c.jsxs("div",{className:"w-full flex flex-col items-center landscape:flex-row landscape:items-center landscape:gap-8",children:[c.jsx("div",{className:"landscape:order-1 landscape:flex-shrink-0",children:c.jsx("div",{className:`rounded overflow-hidden mb-4 lg:mb-8 bg-zinc-900 ${we?"":"shadow-2xl"}`,style:{width:"clamp(224px, min(70vw, 50vh), 480px)",height:"clamp(224px, min(70vw, 50vh), 480px)",maxWidth:"100%"},children:we?c.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-zinc-900 flex items-center justify-center relative",children:c.jsx("img",{src:"/assets/vinyl.png",alt:"Vinyl Record",className:"w-full h-full object-cover",onError:O=>{console.error("Failed to load vinyl image"),O.currentTarget.style.display="none"}})}):c.jsx(jl,{src:W.getAlbumArtUrl(E.AlbumId||E.Id),alt:E.Name,className:"w-full h-full object-cover",rounded:"rounded",onError:()=>Ue(!0)})})}),c.jsxs("div",{className:"text-center landscape:text-left w-full landscape:order-2 landscape:flex-1 landscape:max-w-xs",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:Yt()}),qt()&&c.jsxs("button",{onClick:()=>{var H,q;const O=(q=(H=E.ArtistItems)==null?void 0:H[0])==null?void 0:q.Id;O&&(e(),r(`/artist/${O}`))},className:"flex items-center justify-start landscape:justify-start gap-2 text-white/70 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left max-w-full min-w-0",children:[c.jsx(Pl,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:qt()})]}),Kt&&c.jsxs("button",{onClick:()=>{e(),r(`/album/${E.AlbumId}`)},className:"flex items-center justify-start landscape:justify-start gap-2 text-white/70 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left mt-1 max-w-full min-w-0",children:[c.jsx(Ta,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:E.Album})]})]})]})})}),c.jsxs("div",{className:"pt-2 space-y-6 flex-shrink-0 mt-4 sm:mt-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"1.5rem"},children:[c.jsx("div",{className:"space-y-3 px-4 w-full",children:c.jsxs("div",{className:"max-w-[768px] lg:max-w-[864px] mx-auto",children:[c.jsx("div",{ref:F,className:"h-2 bg-zinc-800/35 rounded-full cursor-pointer w-full select-none overflow-hidden",onClick:He,onMouseDown:Rt,onMouseUp:Dn,onMouseLeave:Dn,onTouchStart:Wf,onTouchMove:Yf,onTouchEnd:qf,children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${ue}%`,borderTopLeftRadius:"9999px",borderBottomLeftRadius:"9999px",borderTopRightRadius:ue>=100?"9999px":"0",borderBottomRightRadius:ue>=100?"9999px":"0"}})}),c.jsxs("div",{className:"flex justify-between text-xs text-white/70 mt-2",children:[c.jsx("span",{children:pt(i)}),c.jsx("span",{children:pt(a)})]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 relative",children:[c.jsx("button",{onClick:x,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${u?"text-[var(--accent-color)]":"text-white/70 hover:text-white"}`,children:c.jsx(or,{className:"w-6 h-6"})}),c.jsx("button",{onClick:k,disabled:!wr,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${wr?"text-white hover:bg-zinc-800/35 active:bg-zinc-800/35":"text-white/30 cursor-not-allowed"}`,children:c.jsx(Aa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:()=>{w?f():E&&m(E)},className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:o&&w?c.jsx(us,{className:"w-8 h-8"}):c.jsx(pn,{className:"w-8 h-8"})}),c.jsx("button",{onClick:h,disabled:!Wt,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${Wt?"text-white hover:bg-zinc-800/35 active:bg-zinc-800/35":"text-white/30 cursor-not-allowed"}`,children:c.jsx(La,{className:"w-8 h-8"})}),c.jsx("button",{onClick:p,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${d!=="off"?"text-[var(--accent-color)]":"text-white/70 hover:text-white"}`,children:d==="one"?c.jsx(Ra,{className:"w-6 h-6"}):c.jsx(_a,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 hidden md:flex",children:!zt()&&c.jsx(Ot,{variant:"horizontal"})})]})]})]}),A&&c.jsx(Ay,{}),se&&z&&!zt()&&c.jsx(Ot,{variant:"vertical",onClose:()=>Ce(!1),popoverPosition:z,popoverDirection:D})]}),g&&c.jsxs("div",{className:"hidden xl:flex flex-col flex-shrink-0 border-l border-white/20 relative z-10",style:{width:"var(--sidebar-width)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/20 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:I,className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10 relative z-20",children:c.jsx(Ma,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 queue-xl-container [&_.text-gray-400]:text-white/60 [&_.text-gray-500]:text-white/50 [&_.text-gray-300]:text-white/70 [&_.border-zinc-800]:border-white/20 [&_.bg-zinc-600]:bg-white/30",children:c.jsx(Oa,{onNavigateFromContextMenu:Sr,contentPaddingBottom:"2rem"})})]})]})]})}function My(){var Ne,et,Wt,wr;const{songs:e,currentIndex:t,isPlaying:n,currentTime:r,duration:s,audioElement:l,setAudioElement:o,togglePlayPause:i,next:a,setCurrentTime:u,setDuration:d,playTrack:f,repeat:h,shuffle:k,toggleShuffle:S,toggleRepeat:y,previous:x,seek:p,skipToTrack:m,isQueueSidebarOpen:g,toggleQueueSidebar:I}=ee(),w=ba(),N=za(),[E,P]=v.useState(!1),[T,A]=v.useState(!1),[G,se]=v.useState(!1),[Ce,z]=v.useState(!1),[me,D]=v.useState(null),[R,C]=v.useState(null),[_,M]=v.useState(null),Q=v.useRef(null),Y=v.useRef(null),X=v.useRef(null),oe=v.useRef(!1),$=Qt(),B=v.useRef(null),ie=v.useRef(null),we=v.useRef(null);v.useEffect(()=>{E&&(A(!0),setTimeout(()=>{P(!1),A(!1)},300))},[$.pathname]),v.useEffect(()=>{P(!1),A(!1)},[]),v.useEffect(()=>{const L=()=>{E&&Y.current&&Y.current()};return window.addEventListener("closePlayerModal",L),()=>{window.removeEventListener("closePlayerModal",L)}},[E]);const Ue=()=>{A(!0),setTimeout(()=>{P(!1),A(!1)},300)};v.useEffect(()=>{Q.current||(Q.current=new Audio,Q.current.setAttribute("playsinline","true"),Q.current.setAttribute("preload","auto"),o(Q.current));const L=Q.current;if(!L)return;const ae=()=>{u(L.currentTime);const Kt=L.duration-L.currentTime;if(!oe.current&&L.duration>0&&Kt<=1&&Kt>0){oe.current=!0;const He=ee.getState(),Rt=He.currentIndex>=0&&He.currentIndex<He.songs.length?He.songs[He.currentIndex]:null;if(He.repeat==="one"){if(Rt&&!He.hasRecordedCurrentTrackStats){const Dn=L.currentTime*1e3;Pt.getState().recordPlay(Rt,Dn)}ee.setState({hasRecordedCurrentTrackStats:!1}),L.currentTime=0,oe.current=!1;return}if(Rt){W.markItemAsPlayed(Rt.Id).catch(()=>{}),X.current&&clearTimeout(X.current);const Dn=Rt.Id;X.current=setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:Dn}})),X.current=null},4e3)}a()}},ue=()=>{d(L.duration),oe.current=!1},pt=async()=>{if(oe.current){oe.current=!1;return}if(w)try{await W.markItemAsPlayed(w.Id),X.current&&clearTimeout(X.current);const He=w.Id;X.current=setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:He}})),X.current=null},4e3)}catch{}if(ee.getState().repeat==="one"&&L){const He=ee.getState().hasRecordedCurrentTrackStats;if(w&&!He){const Rt=L.currentTime*1e3;Pt.getState().recordPlay(w,Rt)}ee.setState({hasRecordedCurrentTrackStats:!1}),L.currentTime=0,L.play();return}a()},Yt=()=>{ee.setState({isPlaying:!0})},qt=()=>{ee.setState({isPlaying:!1})};return L.addEventListener("timeupdate",ae),L.addEventListener("loadedmetadata",ue),L.addEventListener("ended",pt),L.addEventListener("play",Yt),L.addEventListener("pause",qt),()=>{L.removeEventListener("timeupdate",ae),L.removeEventListener("loadedmetadata",ue),L.removeEventListener("ended",pt),L.removeEventListener("play",Yt),L.removeEventListener("pause",qt),X.current&&(clearTimeout(X.current),X.current=null)}},[o,u,d,a]),v.useEffect(()=>{Q.current&&(Q.current.volume=ee.getState().volume)},[]),v.useEffect(()=>{var L,ae;"mediaSession"in navigator&&w&&(navigator.mediaSession.metadata=new MediaMetadata({title:w.Name||"Unknown",artist:((ae=(L=w.ArtistItems)==null?void 0:L[0])==null?void 0:ae.Name)||w.AlbumArtist||"",album:w.Album||"",artwork:[{src:W.getAlbumArtUrl(w.AlbumId||w.Id,512),sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",i),navigator.mediaSession.setActionHandler("pause",i),navigator.mediaSession.setActionHandler("previoustrack",x),navigator.mediaSession.setActionHandler("nexttrack",a))},[w,i,a,x]),v.useEffect(()=>{if("mediaSession"in navigator&&"setPositionState"in navigator.mediaSession&&s>0)try{navigator.mediaSession.setPositionState({duration:s,playbackRate:1,position:Math.min(r,s)})}catch{}},[r,s]),v.useEffect(()=>{if(w&&!n&&l){const L=W.serverBaseUrl,ae=L?`${L}/Audio/${w.Id}/stream?static=true`:"";l.src!==ae&&(l.src=ae,l.load())}},[w,n,l]),v.useEffect(()=>{if(l&&w&&!n){const L=W.serverBaseUrl,ae=L?`${L}/Audio/${w.Id}/stream?static=true`:"";l.src!==ae&&(l.src=ae,l.load())}},[l,w,n]);const Ie=e.length>0?e[0]:null,ne=w||N||Ie;v.useEffect(()=>{se(!1)},[ne==null?void 0:ne.Id]);const Ht=s>0?r/s*100:0,U=e.length>0&&(t<0||t<e.length-1||h!=="off"),F=t>0||h==="all"&&e.length>0,V=()=>{const ae=window.innerWidth<768?_:R;if(ae){const ue=ae.getBoundingClientRect();D({top:ue.top,left:ue.left+ue.width/2}),z(!0)}},Z=L=>{B.current=L.touches[0].clientX,ie.current=Date.now()},be=L=>{if(B.current===null||ie.current===null){B.current=null,ie.current=null;return}const ue=L.changedTouches[0].clientX-B.current,pt=Date.now()-ie.current,Yt=50,qt=.3,Kt=Math.abs(ue)/pt;ue>Yt||ue>30&&Kt>qt?F&&x():(ue<-Yt||ue<-30&&Kt>qt)&&U&&a(),B.current=null,ie.current=null};return ne?c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:we,className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 cursor-pointer bottom-[calc(4rem-8px)] lg:bottom-0",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:()=>{P(!0)},onTouchStart:Z,onTouchEnd:be,children:[ne&&c.jsx("div",{className:"hidden lg:block absolute left-0 right-0 cursor-pointer group",style:{top:"-10px",height:"24px"},onClick:L=>{if(L.stopPropagation(),!s)return;const ae=L.currentTarget.getBoundingClientRect(),ue=(L.clientX-ae.left)/ae.width;p(Math.max(0,Math.min(1,ue))*s)},onTouchStart:L=>{if(L.stopPropagation(),!s)return;const ae=L.touches[0],ue=L.currentTarget.getBoundingClientRect(),pt=(ae.clientX-ue.left)/ue.width;p(Math.max(0,Math.min(1,pt))*s)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":s||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 bottom-[10px] h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${Ht}%`}})})}),c.jsxs("div",{className:"hidden md:block md:relative md:px-4 md:py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0 max-w-[37%]",children:[!G&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(jl,{src:W.getAlbumArtUrl((w||ne).AlbumId||(w||ne).Id,96),alt:(w||ne).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>se(!0)},(w==null?void 0:w.Id)||ne.Id)}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(w||ne).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((et=(Ne=(w||ne).ArtistItems)==null?void 0:Ne[0])==null?void 0:et.Name)||(w||ne).AlbumArtist||"Unknown Artist"})]})]}),c.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 md:right-16 md:left-auto md:translate-x-0 lg:left-1/2 lg:right-auto lg:-translate-x-1/2 flex items-center gap-2",children:[c.jsx("button",{onClick:L=>{L.stopPropagation(),S()},"aria-label":k?"Disable shuffle":"Enable shuffle",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${k?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(or,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),F&&x()},disabled:!F,"aria-label":"Previous track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${F?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(Aa,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),w?i():e.length>0?m(0):ne&&f(ne)},"aria-label":n&&w?"Pause":"Play",className:"w-10 h-10 mx-2 flex items-center justify-center rounded-full transition-colors text-white bg-[var(--accent-color)] hover:opacity-90",children:n&&w?c.jsx(us,{className:"w-5 h-5"}):c.jsx(pn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),U&&a()},disabled:!U,"aria-label":"Next track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${U?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(La,{className:"w-5 h-5"})}),c.jsx("button",{onClick:L=>{L.stopPropagation(),y()},"aria-label":h==="off"?"Enable repeat":h==="all"?"Repeat one":"Disable repeat",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${h!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:h==="one"?c.jsx(Ra,{className:"w-5 h-5"}):c.jsx(_a,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-4",children:[c.jsx("div",{className:"hidden xl:block",children:!g&&c.jsx("button",{onClick:L=>{L.stopPropagation(),I()},className:"text-gray-400 hover:text-white hover:bg-zinc-800 transition-colors flex items-center justify-center w-10 h-10 rounded-full",title:"Open Queue","aria-label":"Open queue",children:c.jsx(Pi,{className:"w-5 h-5"})})}),c.jsx("div",{className:"hidden lg:block",onClick:L=>L.stopPropagation(),children:!zt()&&c.jsx(Ot,{variant:"horizontal"})}),c.jsx("div",{className:"hidden md:block lg:hidden",children:!zt()&&c.jsx(Ot,{variant:"compact",onOpenPopover:V,onRef:C,className:"w-10 h-10 flex items-center justify-center text-white hover:text-zinc-300 hover:bg-zinc-800 rounded-full transition-colors"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 py-3 pr-3 pl-4 md:hidden",children:[!G&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(jl,{src:W.getAlbumArtUrl((w||ne).AlbumId||(w||ne).Id,96),alt:(w||ne).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>se(!0)},(w==null?void 0:w.Id)||ne.Id)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(w||ne).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:((wr=(Wt=(w||ne).ArtistItems)==null?void 0:Wt[0])==null?void 0:wr.Name)||(w||ne).AlbumArtist||"Unknown Artist"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!zt()&&c.jsx(Ot,{variant:"compact",onOpenPopover:V,onRef:M,className:"text-white hover:text-zinc-300 transition-colors"}),c.jsx("button",{onClick:L=>{L.stopPropagation(),w?i():e.length>0?m(0):ne&&f(ne)},"aria-label":n&&w?"Pause":"Play",className:"w-10 h-10 flex items-center justify-center text-white hover:bg-zinc-800 rounded-full transition-colors",children:n&&w?c.jsx(us,{className:"w-5 h-5"}):c.jsx(pn,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"lg:hidden",style:{marginBottom:"-10px"},children:ne&&c.jsx("div",{className:"relative cursor-pointer group flex items-center",style:{height:"24px"},onClick:L=>{if(L.stopPropagation(),!s)return;const ae=L.currentTarget.getBoundingClientRect(),ue=(L.clientX-ae.left)/ae.width;p(Math.max(0,Math.min(1,ue))*s)},onTouchStart:L=>{if(L.stopPropagation(),!s)return;const ae=L.touches[0],ue=L.currentTarget.getBoundingClientRect(),pt=(ae.clientX-ue.left)/ue.width;p(Math.max(0,Math.min(1,pt))*s)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":s||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${Ht}%`}})})})})]}),E&&c.jsx(Ly,{onClose:Ue,onClosingStart:()=>A(!0),closeRef:Y}),Ce&&me&&!zt()&&c.jsx(Ot,{variant:"vertical",onClose:()=>z(!1),popoverPosition:me})]}):null}function by(){const{state:e,message:t,cancelSync:n}=Wl(),{isQueueSidebarOpen:r}=ee();if(e==="idle")return null;const s=()=>{switch(e){case"syncing":return"bg-zinc-800";case"success":return"bg-green-800";case"error":return"bg-red-800";default:return"bg-zinc-800"}};return c.jsx("div",{className:`fixed top-0 left-0 right-0 z-[10002] ${s()} transition-colors duration-300 lg:pl-16`,style:{height:"28px",top:"0px",paddingRight:r?"var(--sidebar-width)":"0px"},children:c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center h-full",children:c.jsxs("div",{className:"w-full max-w-[768px] h-full flex items-center justify-between px-4",children:[c.jsx("span",{className:"text-white text-sm font-medium truncate",children:t}),e==="syncing"&&c.jsx("button",{onClick:n,className:"text-white text-sm font-medium hover:text-zinc-300 transition-colors",children:"Cancel"})]})})})}const K={log:(...e)=>{},warn:(...e)=>{},error:(...e)=>{console.error(...e)},debug:(...e)=>{}},jo=new Set;async function zy(e){const t=e.toLowerCase();if(!jo.has(t)){jo.add(t);try{K.log(`[Recommendations] Auto-syncing genre "${e}" for better recommendations...`);const{genres:n,setGenreSongs:r}=xe.getState();let s=n;s.length===0&&(s=await W.getGenres());const l=s.find(i=>i.Name&&e&&i.Name.toLowerCase()===e.toLowerCase());if(!l||!l.Id){K.warn(`[Recommendations] Genre "${e}" not found in server`);return}K.log(`[Recommendations] Fetching songs for genre "${e}"...`);const o=await W.getGenreSongs(l.Id,e);o.length>0?(r(l.Id,o),K.log(`[Recommendations]  Successfully cached ${o.length} songs for genre "${e}"`)):K.warn(`[Recommendations] No songs found for genre "${e}" on server`)}catch(n){K.error(`[Recommendations] Failed to sync genre "${e}":`,n)}finally{setTimeout(()=>{jo.delete(t)},1e4)}}}async function Oy({currentTrack:e,queue:t}){var I;if(!e)return{recommendations:[],hasGenreMatches:!1};const{songs:n,genreSongs:r,genres:s}=xe.getState(),l=e.Genres||[];let o=[];if(l.length>0&&s.length>0){const w=s.filter(N=>N.Name&&l.some(E=>E.toLowerCase()===N.Name.toLowerCase())).map(N=>N.Id).filter(N=>r[N]&&r[N].length>0);w.length>0&&(o=w.flatMap(N=>r[N]),K.log(`[Recommendations] Using ${o.length} pre-filtered songs from ${w.length} matching genres`))}if(o.length===0&&n.length>0&&(o=n,K.log(`[Recommendations] Using ${o.length} songs from main cache`)),o.length===0){const w=Object.values(r).flat();w.length>0&&(o=w,K.log(`[Recommendations] Using ${o.length} songs from all genre caches`))}if(o.length===0){const{setRecommendationsQuality:w}=ct.getState();return w("failed"),{recommendations:[],hasGenreMatches:!1}}K.log("[Recommendations] Using",o.length,"available songs"),K.log("[Recommendations] Current track genres:",l,"(count:",l.length+")"),K.log("[Recommendations] Current track year:",e.ProductionYear),K.log("[Recommendations] Queue size:",t.length),K.log("[Recommendations] Sample available songs:",o.slice(0,3).map(w=>{var N;return`${w.Name} (${w.ProductionYear}) [${(N=w.Genres)==null?void 0:N.join(", ")}]`}));let i=[],a=!1;const u=e.ProductionYear,d=u?[{range:3,years:Array.from({length:7},(w,N)=>u-3+N)},{range:6,years:Array.from({length:13},(w,N)=>u-6+N)},{range:10,years:Array.from({length:21},(w,N)=>u-10+N)}]:[],f=w=>{const N=w.Id!==e.Id,E=!t.some(T=>T.Id===w.Id),P=!i.some(T=>T.Id===w.Id);return N&&E&&P},h=w=>{var N;return l.length===0?!0:((N=w.Genres)==null?void 0:N.some(E=>l.some(P=>E.toLowerCase()===P.toLowerCase())))??!1},k=(w,N)=>u?w.ProductionYear!==void 0&&N.includes(w.ProductionYear):!0;let S=0;if(l.length>0&&(S=o.filter(w=>h(w)).length,S===0)){for(const w of l)zy(w).catch(N=>K.error(`[Recommendations] Genre sync failed for ${w}:`,N));return{recommendations:[],hasGenreMatches:!1,triggeredGenreSync:!0}}for(const{range:w,years:N}of d){if(i.length>=12){K.log(`[Recommendations] Have ${i.length} recommendations, stopping at ${w} year range`);break}const E=12-i.length,P=o.filter(T=>!(!f(T)||!h(T)||!k(T,N)));if(K.log(`[Recommendations] Year range ${w}: found ${P.length} candidates, need ${E}`),P.length>0){const A=Os(P).slice(0,E);i.push(...A),K.log(`[Recommendations] Added ${A.length} songs from ${w} year range`)}}if(i.length<12&&!u&&l.length>0){const w=12-i.length,N=o.filter(T=>!(!f(T)||!h(T))),P=Os(N).slice(0,w);i.push(...P),K.log(`[Recommendations] Added ${P.length} genre-only songs (no year on seed track)`)}if(i.length<12&&u&&l.length===0)for(const{range:w,years:N}of d){if(i.length>=12)break;const E=12-i.length,P=o.filter(G=>!(!f(G)||!k(G,N))),A=Os(P).slice(0,E);i.push(...A),K.log(`[Recommendations] Added ${A.length} year-only songs from ${w} range (no genre on seed track)`)}a=l.length>0&&i.some(w=>h(w)),K.log("[Recommendations] Matching results:",{totalRecommendations:i.length,genreMatchSuccess:a,hasGenres:l.length>0,hasYear:!!u});const y=Os(i),x=[],p=[...y];for(;p.length>0&&x.length<12;){let w=-1;if(x.length>0){const P=((I=x[x.length-1].ArtistItems)==null?void 0:I.map(T=>T.Id))||[];w=p.findIndex(T=>{var G;return!(((G=T.ArtistItems)==null?void 0:G.map(se=>se.Id))||[]).some(se=>P.includes(se))})}w===-1&&(w=0);const N=p.splice(w,1)[0];x.push(N)}const m=x,{setRecommendationsQuality:g}=ct.getState();return K.log("[Recommendations] Quality decision:",{finalRecommendationsCount:m.length,genreMatchSuccess:a,hasGenres:l.length>0,availableSongsCount:o.length}),m.length===0?g("failed"):!a&&l.length>0?g("degraded"):g("good"),K.log(`[Recommendations] Generated ${m.length} recommendations`),m.length>0&&K.log("[Recommendations] Sample:",m.slice(0,3).map(w=>w.Name)),{recommendations:m,hasGenreMatches:a,triggeredGenreSync:!1}}function Os(e){if(e.length<=1)return[...e];const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Dy(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function $y(e){var s;if(e.length<=1)return e;const t=Dy(e),n=[],r=[...t];for(;r.length>0;){let l=-1;if(n.length>0){const a=((s=n[n.length-1].ArtistItems)==null?void 0:s.map(u=>u.Id))||[];l=r.findIndex(u=>{var f;return!(((f=u.ArtistItems)==null?void 0:f.map(h=>h.Id))||[]).some(h=>a.includes(h))})}l===-1&&(l=0);const o=r.splice(l,1)[0];n.push(o)}return n}function Uy(){const{songs:e,currentIndex:t,addToQueue:n,refreshCurrentTrack:r,isFetchingRecommendations:s,setIsFetchingRecommendations:l,repeat:o}=ee(),{showQueueRecommendations:i}=ct(),a=v.useRef([]),u=v.useRef(!1),d=v.useRef(0),f=v.useRef(0),h=v.useRef(0),k=3;v.useEffect(()=>{a.current=e.slice(-20)},[e]),v.useEffect(()=>{d.current=0,f.current=0,h.current=0},[t]),v.useEffect(()=>{d.current=0,f.current=0,h.current=0},[i]),v.useEffect(()=>{const S=e.slice(t+1).filter(g=>g.source==="recommendation").length,y=Date.now()-d.current,x=Date.now()-f.current;if(!!!(i&&o==="off"&&!u.current&&!s&&t>=0&&S<12&&y>1e4&&x>5e3))return S>=12||o==="all",void 0;(async()=>{var I;u.current=!0,l(!0);const g=setTimeout(()=>{u.current=!1,l(!1)},3e4);try{await r();const w=e[t];if(!w)return;const N=[w],E=[t-1,t+1,t+2];for(const R of E)if(R>=0&&R<e.length&&N.length<3){const C=e[R];C&&!N.some(_=>_.Id===C.Id)&&N.push(C)}const P=[];for(const R of N){K.log(`[Recommendations] Generating recommendations for seed: ${R.Name}`);const C=await Oy({currentTrack:R,queue:e,recentQueue:a.current,lastPlayedTrack:null});if(K.log(`[Recommendations] Result for seed ${R.Name}:`,{recommendationsCount:((I=C.recommendations)==null?void 0:I.length)||0,hasGenreMatches:C.hasGenreMatches,triggeredGenreSync:C.triggeredGenreSync,resultType:typeof C,isArray:Array.isArray(C)}),C.triggeredGenreSync){if(h.current+=1,h.current>k){K.warn("[Recommendations] Max retries reached, giving up"),d.current=Date.now();const{setRecommendationsQuality:M}=ct.getState();M("failed");return}const _=15e3*Math.pow(2,h.current-1);K.log(`[Recommendations] Genre sync triggered (attempt ${h.current}/${k}), retry in ${_/1e3}s`),setTimeout(()=>{d.current=0},_);return}C.recommendations&&Array.isArray(C.recommendations)?P.push(C):K.warn(`[Recommendations] Invalid result for seed ${R.Name}:`,C)}const T=P.filter(R=>R.hasGenreMatches);if(K.log(`[Recommendations] ${T.length} out of ${N.length} seeds found genre matches`),T.length===0){const{setRecommendationsQuality:R}=ct.getState();R("degraded"),K.log("[Recommendations] No genre matches found - falling back to year/artist only")}const A=e.slice(t+1).filter(R=>R.source==="recommendation").length,G=Math.max(0,12-A);if(G===0){K.log("[Recommendations] Already have 12 upcoming recommendations, skipping");return}K.log(`[Recommendations] Currently have ${A} upcoming, need ${G} more to reach 12`);const se=T.length>0?T:P,Ce=Math.ceil(G/se.length),z=[];for(const R of se){const C=R.recommendations.filter(M=>{const Q=e.some(X=>X.Id===M.Id),Y=z.some(X=>X.Id===M.Id);return!Q&&!Y}),_=C.slice(0,Ce);z.push(..._),K.log(`[Recommendations] Added ${_.length} recommendations from seed (${C.length} available, genreMatch: ${R.hasGenreMatches})`)}const me=z.slice(0,G),D=$y(me);K.log(`[Recommendations] Final ${me.length} recommendations (distributed across ${N.length} seeds)`),D.length>0?(K.log(`[Recommendations] Adding ${D.length} recommendations (had ${A}, will have ${A+D.length})`),K.log("[Recommendations] Recommendations to add:",D.map(R=>R.Name)),d.current=0,f.current=Date.now(),h.current=0,n(D,!1,"recommendation"),K.log("[Recommendations] Successfully added recommendations to queue")):(K.log("[Recommendations] No safe recommendations to add - marking as failed attempt"),d.current=Date.now())}catch(w){K.error("[Recommendations Hook] Failed to get recommendations:",w),u.current=!1,l(!1)}finally{clearTimeout(g),u.current=!1,l(!1)}})()},[e,t,n,r,i,s,l,o]),v.useEffect(()=>{if(o!=="off"&&(i&&ct.getState().setShowQueueRecommendations(!1),e.some((y,x)=>x>t&&y.source==="recommendation"))){const y=e.filter((x,p)=>p<=t?!0:x.source==="user");ee.setState({songs:y,standardOrder:y.filter(x=>x.source==="user").map(x=>x.Id),shuffleOrder:y.filter(x=>x.source==="user").map(x=>x.Id)})}},[o,t,e,i])}function Fy(){const{isQueueSidebarOpen:e,toggleQueueSidebar:t}=ee();return v.useEffect(()=>{const n=r=>{r.key==="Escape"&&e&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t]),e?c.jsxs("div",{className:"fixed top-0 right-0 bottom-0 bg-black border-l border-zinc-800 z-30 flex flex-col hidden xl:flex shadow-xl",style:{width:"var(--sidebar-width)",paddingTop:"var(--header-offset, 0px)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-zinc-800",children:c.jsx(Ma,{className:"w-5 h-5"})})]}),c.jsx(Oa,{contentPaddingBottom:"8rem"})]}):null}const mc={slate:"#64748b",gray:"#6b7280",zinc:"#71717a",neutral:"#737373",stone:"#78716c",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"};function By({children:e}){Uy();const{accentColor:t}=ct(),{genres:n,songs:r,genreSongs:s}=xe(),{state:l}=Wl(),{isQueueSidebarOpen:o}=ee(),i=a=>{const u=[...a];for(let d=u.length-1;d>0;d--){const f=Math.floor(Math.random()*(d+1));[u[d],u[f]]=[u[f],u[d]]}return u};return v.useEffect(()=>{const a=mc[t]||mc.blue;document.documentElement.style.setProperty("--accent-color",a)},[t]),v.useEffect(()=>{const a=l!=="idle"?"28px":"0px";document.documentElement.style.setProperty("--header-offset",a)},[l]),v.useEffect(()=>{n.length===0&&W.getGenres().catch(a=>{console.warn("Background genre preload failed:",a)})},[n.length]),v.useEffect(()=>{const a=xe.getState(),u=r.length+Object.values(s).flat().length;u>0&&a.shufflePool.length===0?a.refreshShufflePool():u===0&&setTimeout(async()=>{try{const f=(await W.getSongs({limit:1})).TotalRecordCount||1e3,h=[];for(let x=0;x<3;x++){const p=Math.floor(Math.random()*f);h.push(p)}const k=h.map(x=>W.getSongs({limit:1,sortBy:["SortName"],sortOrder:"Ascending",startIndex:x})),y=(await Promise.all(k)).flatMap(x=>x.Items||[]);if(y.length>0){const x=y.map(p=>({Id:p.Id,Name:p.Name,AlbumArtist:p.AlbumArtist,ArtistItems:p.ArtistItems,Album:p.Album,AlbumId:p.AlbumId,IndexNumber:p.IndexNumber,ProductionYear:p.ProductionYear,PremiereDate:p.PremiereDate,RunTimeTicks:p.RunTimeTicks,Genres:p.Genres}));xe.setState({songs:x,shufflePool:i(x),lastPoolUpdate:Date.now()})}}catch(d){console.warn("Minimal song preload failed:",d)}},300)},[r.length,s]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed top-0 right-0 bg-black z-50 pointer-events-none left-0 lg:left-8",style:{height:"env(safe-area-inset-top)",top:l!=="idle"?"28px":"0px"}}),c.jsx(by,{}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-900 z-40 pointer-events-none lg:hidden",style:{height:"calc(4rem + env(safe-area-inset-bottom) - 8px)"}}),c.jsx("div",{className:"fixed top-0 left-0 bottom-0 bg-black z-30 pointer-events-none hidden lg:block",style:{width:"4rem"}}),c.jsxs("div",{className:`main-scrollable h-screen bg-black text-white lg:pl-16 transition-[padding] duration-300 ${o?"sidebar-open-padding":""}`,style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))",paddingTop:l!=="idle"?"28px":"0",overflowY:"auto",overflowX:"hidden",maxWidth:"100vw",width:"100%",scrollbarGutter:"stable"},children:[c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center",children:c.jsx("div",{className:"w-full max-w-[768px]",children:e})}),c.jsx(My,{}),c.jsx(Ey,{})]}),c.jsx(Fy,{})]})}function Vy(){const{pathname:e}=Qt();return v.useEffect(()=>{const t=document.querySelector(".main-scrollable");t&&t.scrollTo({top:0,behavior:"auto"})},[e]),null}const Gy=v.memo(function({toast:t}){const{removeToast:n}=Nl(),r={success:c.jsx(A0,{className:"w-4 h-4"}),error:c.jsx(z0,{className:"w-4 h-4"}),info:c.jsx(Y0,{className:"w-4 h-4"})},s={success:"bg-zinc-900 border border-zinc-700",error:"bg-red-900/90 border border-red-700",info:"bg-zinc-900 border border-zinc-700"};return c.jsxs("div",{className:`${s[t.type]} text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[200px] max-w-[320px] animate-slide-up`,role:"alert",children:[c.jsx("span",{className:"flex-shrink-0",children:r[t.type]}),c.jsx("span",{className:"flex-1 text-sm font-medium",children:t.message}),c.jsx("button",{onClick:()=>n(t.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50","aria-label":"Dismiss notification",children:c.jsx(Ma,{className:"w-4 h-4"})})]})});function hc(){const{toasts:e}=Nl();return Ia.createPortal(c.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[99999] flex flex-col gap-2 items-center pointer-events-none",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:e.map(t=>c.jsx("div",{className:"pointer-events-auto",children:c.jsx(Gy,{toast:t})},t.id))}),document.body)}const Qy=v.lazy(()=>ht(()=>import("./HomePage-BZ5vnBLX.js"),__vite__mapDeps([0,1,2,3]))),Hy=v.lazy(()=>ht(()=>import("./ArtistsPage-pSAtMZNR.js"),__vite__mapDeps([4,1,5,2,6]))),Wy=v.lazy(()=>ht(()=>import("./AlbumsPage-BYpCL8ik.js"),__vite__mapDeps([7,1,8,5,2,6,3]))),Yy=v.lazy(()=>ht(()=>import("./SongsPage-J_hb4Med.js"),__vite__mapDeps([9,1,8,10,5,2,6,3]))),qy=v.lazy(()=>ht(()=>import("./GenresPage-DDBL2cvs.js"),__vite__mapDeps([11,12]))),Ky=v.lazy(()=>ht(()=>import("./PlaylistsPage-DcjMhHSw.js"),__vite__mapDeps([13,1,6]))),Xy=v.lazy(()=>ht(()=>import("./PlaylistDetailPage-Di0CRG5P.js"),__vite__mapDeps([14,15,16]))),Jy=v.lazy(()=>ht(()=>import("./SettingsPage-Cq0VNX_8.js"),__vite__mapDeps([17,15]))),Zy=v.lazy(()=>ht(()=>import("./ArtistDetailPage-CPiL0Ibn.js"),__vite__mapDeps([18,19,15,16,20,6]))),ev=v.lazy(()=>ht(()=>import("./AlbumDetailPage-D_IkYkR2.js"),__vite__mapDeps([21,15,16,20]))),tv=v.lazy(()=>ht(()=>import("./GenreSongsPage-YjEZ4SLf.js"),__vite__mapDeps([22,19,10,5,15,6]))),nv=v.lazy(()=>ht(()=>import("./StatsPage-DlM1pALi.js"),__vite__mapDeps([23,12])));function rv(){return c.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:c.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-color)] border-t-transparent rounded-full animate-spin"})})}function sv(){const{isAuthenticated:e,logout:t}=Tn(),{pageVisibility:n}=ct();return v.useEffect(()=>{e&&window.location.search.includes("logout=true")&&(t(),window.location.search="")},[e]),e?c.jsxs(c.Fragment,{children:[c.jsxs(Lg,{children:[c.jsx(Vy,{}),c.jsx(By,{children:c.jsx(v.Suspense,{fallback:c.jsx(rv,{}),children:c.jsxs(Eg,{children:[c.jsx(We,{path:"/",element:c.jsx(Qy,{})}),c.jsx(We,{path:"/settings",element:c.jsx(Jy,{})}),n.artists&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/artists",element:c.jsx(Hy,{})}),c.jsx(We,{path:"/artist/:id",element:c.jsx(Zy,{})})]}),n.albums&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/albums",element:c.jsx(Wy,{})}),c.jsx(We,{path:"/album/:id",element:c.jsx(ev,{})})]}),n.songs&&c.jsx(We,{path:"/songs",element:c.jsx(Yy,{})}),n.genres&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/genres",element:c.jsx(qy,{})}),c.jsx(We,{path:"/genre/:id",element:c.jsx(tv,{})})]}),n.playlists&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/playlists",element:c.jsx(Ky,{})}),c.jsx(We,{path:"/playlist/:id",element:c.jsx(Xy,{})})]}),n.stats&&c.jsx(c.Fragment,{children:c.jsx(We,{path:"/stats",element:c.jsx(nv,{})})}),c.jsx(We,{path:"*",element:c.jsx(Ig,{to:"/",replace:!0})})]})})})]}),c.jsx(hc,{})]}):c.jsxs(c.Fragment,{children:[c.jsx(Iy,{}),c.jsx(hc,{})]})}class lv extends v.Component{constructor(){super(...arguments);It(this,"state",{hasError:!1,error:null,showCopied:!1});It(this,"handleCopyError",async()=>{var r,s;const n=`Error: ${(r=this.state.error)==null?void 0:r.message}

Stack: ${((s=this.state.error)==null?void 0:s.stack)||"N/A"}`;try{await navigator.clipboard.writeText(n),this.setState({showCopied:!0}),setTimeout(()=>this.setState({showCopied:!1}),2e3)}catch{console.log("Error details:",n)}});It(this,"handleReload",()=>{window.location.reload()});It(this,"handleClearAndReload",()=>{localStorage.clear(),indexedDB.deleteDatabase("tunetuna-storage"),window.location.reload()})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"The app encountered an unexpected error. You can try reloading, or clear data if the issue persists."}),c.jsx("div",{className:"bg-zinc-900 rounded-lg p-3 mb-4 text-left",children:c.jsx("p",{className:"text-red-400 text-sm font-mono break-all",children:((n=this.state.error)==null?void 0:n.message)||"Unknown error"})}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:this.handleReload,className:"w-full bg-[var(--accent-color)] hover:brightness-90 text-white font-semibold py-3 px-4 rounded-lg transition-all",children:"Reload App"}),c.jsx("button",{onClick:this.handleClearAndReload,className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Clear Data & Reload"}),c.jsx("button",{onClick:this.handleCopyError,className:"w-full text-gray-400 hover:text-white py-2 px-4 text-sm transition-colors",children:this.state.showCopied?" Copied to clipboard":"Copy error details"})]})]})}):this.props.children}}To.createRoot(document.getElementById("root")).render(c.jsx(Ai.StrictMode,{children:c.jsx(lv,{children:c.jsx(sv,{})})}));const ov=async()=>{try{const e=await navigator.serviceWorker.getRegistration();e&&(e.waiting&&(console.log("New app version available, activating..."),e.waiting.postMessage({type:"SKIP_WAITING"})),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("New app version installed and ready")})}))}catch(e){console.log("Update check failed:",e)}};"serviceWorker"in navigator&&ov();export{Cy as B,Py as C,Ta as D,Xs as G,jl as I,Ms as L,ty as M,pn as P,Po as R,or as S,Pl as U,Ma as X,ee as a,ps as b,re as c,uv as d,Ia as e,W as f,jy as g,ba as h,fc as i,c as j,av as k,us as l,ct as m,cv as n,Tn as o,Wl as p,Nl as q,v as r,Hf as s,M0 as t,xe as u,ry as v,Pt as w};
