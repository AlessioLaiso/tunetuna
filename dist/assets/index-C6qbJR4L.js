const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-Cy1wAVJA.js","assets/search-BgpX956b.js","assets/FilterBottomSheet-qn78qf1j.js","assets/calendar-qX2f8oCK.js","assets/ArtistsPage-1W3zHXj-.js","assets/Pagination-C-0-M95r.js","assets/arrow-up-down-9VykHRJE.js","assets/AlbumsPage-Bn38o18z.js","assets/SearchArtistItem-Dqdwcn21.js","assets/SongsPage-C_NHGkqk.js","assets/SongItem-CxR4MxNB.js","assets/PlaylistsPage-D5_SgP-c.js","assets/PlaylistDetailPage-BgEk-ARi.js","assets/arrow-left-DIKnSvdC.js","assets/ellipsis-BT_TK7wi.js","assets/SettingsPage-DjYiuh9L.js","assets/ArtistDetailPage-BPmEj2TK.js","assets/useScrollLazyLoad-DN0BVNns.js","assets/chevron-up-C5EX157g.js","assets/AlbumDetailPage-BuKLSrNZ.js","assets/GenreSongsPage-MR7kgmg6.js"])))=>i.map(i=>d[i]);
var $f=Object.defineProperty;var bf=(e,t,n)=>t in e?$f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kt=(e,t,n)=>bf(e,typeof t!="symbol"?t+"":t,n);function Uf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(r,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Xu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ku={exports:{}},xo={},Ju={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),Ff=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),Qf=Symbol.for("react.provider"),Hf=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),qf=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),ka=Symbol.iterator;function Kf(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var Zu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ec=Object.assign,tc={};function or(e,t,n){this.props=e,this.context=t,this.refs=tc,this.updater=n||Zu}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nc(){}nc.prototype=or.prototype;function hi(e,t,n){this.props=e,this.context=t,this.refs=tc,this.updater=n||Zu}var pi=hi.prototype=new nc;pi.constructor=hi;ec(pi,or.prototype);pi.isPureReactComponent=!0;var Ia=Array.isArray,rc=Object.prototype.hasOwnProperty,gi={current:null},lc={key:!0,ref:!0,__self:!0,__source:!0};function oc(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)rc.call(t,r)&&!lc.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var a=Array(i),u=0;u<i;u++)a[u]=arguments[u+2];l.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:tl,type:e,key:o,ref:s,props:l,_owner:gi.current}}function Jf(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yi(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function Zf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Na=/\/+/g;function Uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zf(""+e.key):t.toString(36)}function Tl(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case tl:case Ff:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+Uo(s,0):r,Ia(l)?(n="",e!=null&&(n=e.replace(Na,"$&/")+"/"),Tl(l,t,n,"",function(u){return u})):l!=null&&(yi(l)&&(l=Jf(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Na,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",Ia(e))for(var i=0;i<e.length;i++){o=e[i];var a=r+Uo(o,i);s+=Tl(o,t,n,a,l)}else if(a=Kf(e),typeof a=="function")for(e=a.call(e),i=0;!(o=e.next()).done;)o=o.value,a=r+Uo(o,i++),s+=Tl(o,t,n,a,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function al(e,t,n){if(e==null)return e;var r=[],l=0;return Tl(e,r,"","",function(o){return t.call(n,o,l++)}),r}function em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Rl={transition:null},tm={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:gi};function sc(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:al,forEach:function(e,t,n){al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!yi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=or;J.Fragment=Bf;J.Profiler=Gf;J.PureComponent=hi;J.StrictMode=Vf;J.Suspense=Yf;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm;J.act=sc;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ec({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=gi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)rc.call(t,a)&&!lc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var u=0;u<a;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:tl,type:e.type,key:l,ref:o,props:r,_owner:s}};J.createContext=function(e){return e={$$typeof:Hf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qf,_context:e},e.Consumer=e};J.createElement=oc;J.createFactory=function(e){var t=oc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Wf,render:e}};J.isValidElement=yi;J.lazy=function(e){return{$$typeof:Xf,_payload:{_status:-1,_result:e},_init:em}};J.memo=function(e,t){return{$$typeof:qf,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};J.unstable_act=sc;J.useCallback=function(e,t){return be.current.useCallback(e,t)};J.useContext=function(e){return be.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return be.current.useDeferredValue(e)};J.useEffect=function(e,t){return be.current.useEffect(e,t)};J.useId=function(){return be.current.useId()};J.useImperativeHandle=function(e,t,n){return be.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return be.current.useMemo(e,t)};J.useReducer=function(e,t,n){return be.current.useReducer(e,t,n)};J.useRef=function(e){return be.current.useRef(e)};J.useState=function(e){return be.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return be.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return be.current.useTransition()};J.version="18.3.1";Ju.exports=J;var v=Ju.exports;const vi=Xu(v),nm=Uf({__proto__:null,default:vi},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=v,lm=Symbol.for("react.element"),om=Symbol.for("react.fragment"),sm=Object.prototype.hasOwnProperty,im=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,am={key:!0,ref:!0,__self:!0,__source:!0};function ic(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)sm.call(t,r)&&!am.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:lm,type:e,key:o,ref:s,props:l,_owner:im.current}}xo.Fragment=om;xo.jsx=ic;xo.jsxs=ic;Ku.exports=xo;var c=Ku.exports,ys={},ac={exports:{}},Je={},uc={exports:{}},cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,_){var $=E.length;E.push(_);e:for(;0<$;){var B=$-1>>>1,W=E[B];if(0<l(W,_))E[B]=_,E[$]=W,$=B;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var _=E[0],$=E.pop();if($!==_){E[0]=$;e:for(var B=0,W=E.length,U=W>>>1;B<U;){var Z=2*(B+1)-1,de=E[Z],fe=Z+1,ze=E[fe];if(0>l(de,$))fe<W&&0>l(ze,de)?(E[B]=ze,E[fe]=$,B=fe):(E[B]=de,E[Z]=$,B=Z);else if(fe<W&&0>l(ze,$))E[B]=ze,E[fe]=$,B=fe;else break e}}return _}function l(E,_){var $=E.sortIndex-_.sortIndex;return $!==0?$:E.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var a=[],u=[],h=1,d=null,m=3,w=!1,k=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=E)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function I(E){if(x=!1,g(E),!k)if(n(a)!==null)k=!0,R(y);else{var _=n(u);_!==null&&F(I,_.startTime-E)}}function y(E,_){k=!1,x&&(x=!1,p(P),P=-1),w=!0;var $=m;try{for(g(_),d=n(a);d!==null&&(!(d.expirationTime>_)||E&&!G());){var B=d.callback;if(typeof B=="function"){d.callback=null,m=d.priorityLevel;var W=B(d.expirationTime<=_);_=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(a)&&r(a),g(_)}else r(a);d=n(a)}if(d!==null)var U=!0;else{var Z=n(u);Z!==null&&F(I,Z.startTime-_),U=!1}return U}finally{d=null,m=$,w=!1}}var N=!1,C=null,P=-1,T=5,A=-1;function G(){return!(e.unstable_now()-A<T)}function le(){if(C!==null){var E=e.unstable_now();A=E;var _=!0;try{_=C(!0,E)}finally{_?pe():(N=!1,C=null)}}else N=!1}var pe;if(typeof f=="function")pe=function(){f(le)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,O=D.port2;D.port1.onmessage=le,pe=function(){O.postMessage(null)}}else pe=function(){S(le,0)};function R(E){C=E,N||(N=!0,pe())}function F(E,_){P=S(function(){E(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,R(y))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var $=m;m=_;try{return E()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,_){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var $=m;m=E;try{return _()}finally{m=$}},e.unstable_scheduleCallback=function(E,_,$){var B=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,E){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,E={id:h++,callback:_,priorityLevel:E,startTime:$,expirationTime:W,sortIndex:-1},$>B?(E.sortIndex=$,t(u,E),n(a)===null&&E===n(u)&&(x?(p(P),P=-1):x=!0,F(I,$-B))):(E.sortIndex=W,t(a,E),k||w||(k=!0,R(y))),E},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(E){var _=m;return function(){var $=m;m=_;try{return E.apply(this,arguments)}finally{m=$}}}})(cc);uc.exports=cc;var um=uc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=v,Ke=um;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dc=new Set,Lr={};function Pn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Lr[e]=t,e=0;e<t.length;e++)dc.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=Object.prototype.hasOwnProperty,dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ea={},Ca={};function fm(e){return vs.call(Ca,e)?!0:vs.call(Ea,e)?!1:dm.test(e)?Ca[e]=!0:(Ea[e]=!0,!1)}function mm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hm(e,t,n,r){if(t===null||typeof t>"u"||mm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var xi=/[\-:]([a-z])/g;function wi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xi,wi);Re[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xi,wi);Re[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xi,wi);Re[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Si(e,t,n,r){var l=Re.hasOwnProperty(t)?Re[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hm(t,n,l,r)&&(n=null),r||l===null?fm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $t=cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),An=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),ki=Symbol.for("react.strict_mode"),xs=Symbol.for("react.profiler"),fc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),Ii=Symbol.for("react.forward_ref"),ws=Symbol.for("react.suspense"),Ss=Symbol.for("react.suspense_list"),Ni=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),hc=Symbol.for("react.offscreen"),Pa=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Pa&&e[Pa]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Fo;function wr(e){if(Fo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fo=t&&t[1]||""}return`
`+Fo+e}var Bo=!1;function Vo(e,t){if(!e||Bo)return"";Bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,i=o.length-1;1<=s&&0<=i&&l[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(l[s]!==o[i]){if(s!==1||i!==1)do if(s--,i--,0>i||l[s]!==o[i]){var a=`
`+l[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=i);break}}}finally{Bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wr(e):""}function pm(e){switch(e.tag){case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function ks(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case An:return"Portal";case xs:return"Profiler";case ki:return"StrictMode";case ws:return"Suspense";case Ss:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mc:return(e.displayName||"Context")+".Consumer";case fc:return(e._context.displayName||"Context")+".Provider";case Ii:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ni:return t=e.displayName||null,t!==null?t:ks(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return ks(e(t))}catch{}}return null}function gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ks(t);case 8:return t===ki?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e){var t=pc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=ym(e))}function gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Is(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ja(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yc(e,t){t=t.checked,t!=null&&Si(e,"checked",t,!1)}function Ns(e,t){yc(e,t);var n=an(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Es(e,t.type,n):t.hasOwnProperty("defaultValue")&&Es(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ta(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Es(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sr=Array.isArray;function Gn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Cs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(Sr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function vc(e,t){var n=an(t.value),r=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _a(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ps(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dl,wc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function Sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function kc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Sc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var xm=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function js(e,t){if(t){if(xm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Ts(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Qn=null,Hn=null;function Aa(e){if(e=ll(e)){if(typeof _s!="function")throw Error(j(280));var t=e.stateNode;t&&(t=No(t),_s(e.stateNode,e.type,t))}}function Ic(e){Qn?Hn?Hn.push(e):Hn=[e]:Qn=e}function Nc(){if(Qn){var e=Qn,t=Hn;if(Hn=Qn=null,Aa(e),t)for(e=0;e<t.length;e++)Aa(t[e])}}function Ec(e,t){return e(t)}function Cc(){}var Go=!1;function Pc(e,t,n){if(Go)return e(t,n);Go=!0;try{return Ec(e,t,n)}finally{Go=!1,(Qn!==null||Hn!==null)&&(Cc(),Nc())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var As=!1;if(Mt)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){As=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{As=!1}function wm(e,t,n,r,l,o,s,i,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Er=!1,Gl=null,Ql=!1,Ls=null,Sm={onError:function(e){Er=!0,Gl=e}};function km(e,t,n,r,l,o,s,i,a){Er=!1,Gl=null,wm.apply(Sm,arguments)}function Im(e,t,n,r,l,o,s,i,a){if(km.apply(this,arguments),Er){if(Er){var u=Gl;Er=!1,Gl=null}else throw Error(j(198));Ql||(Ql=!0,Ls=u)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function La(e){if(jn(e)!==e)throw Error(j(188))}function Nm(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return La(l),e;if(o===r)return La(l),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Tc(e){return e=Nm(e),e!==null?Rc(e):null}function Rc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rc(e);if(t!==null)return t;e=e.sibling}return null}var _c=Ke.unstable_scheduleCallback,Ma=Ke.unstable_cancelCallback,Em=Ke.unstable_shouldYield,Cm=Ke.unstable_requestPaint,Se=Ke.unstable_now,Pm=Ke.unstable_getCurrentPriorityLevel,Ci=Ke.unstable_ImmediatePriority,Ac=Ke.unstable_UserBlockingPriority,Hl=Ke.unstable_NormalPriority,jm=Ke.unstable_LowPriority,Lc=Ke.unstable_IdlePriority,wo=null,Ct=null;function Tm(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(wo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Am,Rm=Math.log,_m=Math.LN2;function Am(e){return e>>>=0,e===0?32:31-(Rm(e)/_m|0)|0}var fl=64,ml=4194304;function kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~l;i!==0?r=kr(i):(o&=s,o!==0&&(r=kr(o)))}else s=n&~l,s!==0?r=kr(s):o!==0&&(r=kr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),l=1<<n,r|=e[n],t&=~l;return r}function Lm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-gt(o),i=1<<s,a=l[s];a===-1?(!(i&n)||i&r)&&(l[s]=Lm(i,t)):a<=t&&(e.expiredLanes|=i),o&=~i}}function Ms(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mc(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function Qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-gt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function Pi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ne=0;function zc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dc,ji,Oc,$c,bc,zs=!1,hl=[],Kt=null,Jt=null,Zt=null,Dr=new Map,Or=new Map,Ht=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function za(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function hr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=ll(t),t!==null&&ji(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Om(e,t,n,r,l){switch(t){case"focusin":return Kt=hr(Kt,e,t,n,r,l),!0;case"dragenter":return Jt=hr(Jt,e,t,n,r,l),!0;case"mouseover":return Zt=hr(Zt,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Dr.set(o,hr(Dr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Or.set(o,hr(Or.get(o)||null,e,t,n,r,l)),!0}return!1}function Uc(e){var t=yn(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=jc(n),t!==null){e.blockedOn=t,bc(e.priority,function(){Oc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rs=r,n.target.dispatchEvent(r),Rs=null}else return t=ll(n),t!==null&&ji(t),e.blockedOn=n,!1;t.shift()}return!0}function Da(e,t,n){_l(e)&&n.delete(t)}function $m(){zs=!1,Kt!==null&&_l(Kt)&&(Kt=null),Jt!==null&&_l(Jt)&&(Jt=null),Zt!==null&&_l(Zt)&&(Zt=null),Dr.forEach(Da),Or.forEach(Da)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,zs||(zs=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,$m)))}function $r(e){function t(l){return pr(l,e)}if(0<hl.length){pr(hl[0],e);for(var n=1;n<hl.length;n++){var r=hl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kt!==null&&pr(Kt,e),Jt!==null&&pr(Jt,e),Zt!==null&&pr(Zt,e),Dr.forEach(t),Or.forEach(t),n=0;n<Ht.length;n++)r=Ht[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)Uc(n),n.blockedOn===null&&Ht.shift()}var Wn=$t.ReactCurrentBatchConfig,Yl=!0;function bm(e,t,n,r){var l=ne,o=Wn.transition;Wn.transition=null;try{ne=1,Ti(e,t,n,r)}finally{ne=l,Wn.transition=o}}function Um(e,t,n,r){var l=ne,o=Wn.transition;Wn.transition=null;try{ne=4,Ti(e,t,n,r)}finally{ne=l,Wn.transition=o}}function Ti(e,t,n,r){if(Yl){var l=Ds(e,t,n,r);if(l===null)ts(e,t,r,ql,n),za(e,r);else if(Om(l,e,t,n,r))r.stopPropagation();else if(za(e,r),t&4&&-1<Dm.indexOf(e)){for(;l!==null;){var o=ll(l);if(o!==null&&Dc(o),o=Ds(e,t,n,r),o===null&&ts(e,t,r,ql,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else ts(e,t,r,null,n)}}var ql=null;function Ds(e,t,n,r){if(ql=null,e=Ei(r),e=yn(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function Fc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pm()){case Ci:return 1;case Ac:return 4;case Hl:case jm:return 16;case Lc:return 536870912;default:return 16}default:return 16}}var Yt=null,Ri=null,Al=null;function Bc(){if(Al)return Al;var e,t=Ri,n=t.length,r,l="value"in Yt?Yt.value:Yt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return Al=l.slice(e,1<r?1-r:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pl(){return!0}function Oa(){return!1}function Ze(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pl:Oa,this.isPropagationStopped=Oa,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ze(sr),rl=ve({},sr,{view:0,detail:0}),Fm=Ze(rl),Ho,Wo,gr,So=ve({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(Ho=e.screenX-gr.screenX,Wo=e.screenY-gr.screenY):Wo=Ho=0,gr=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),$a=Ze(So),Bm=ve({},So,{dataTransfer:0}),Vm=Ze(Bm),Gm=ve({},rl,{relatedTarget:0}),Yo=Ze(Gm),Qm=ve({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=Ze(Qm),Wm=ve({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ym=Ze(Wm),qm=ve({},sr,{data:0}),ba=Ze(qm),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jm[e])?!!t[e]:!1}function Ai(){return Zm}var eh=ve({},rl,{key:function(e){if(e.key){var t=Xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Km[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),th=Ze(eh),nh=ve({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=Ze(nh),rh=ve({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),lh=Ze(rh),oh=ve({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sh=Ze(oh),ih=ve({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ah=Ze(ih),uh=[9,13,27,32],Li=Mt&&"CompositionEvent"in window,Cr=null;Mt&&"documentMode"in document&&(Cr=document.documentMode);var ch=Mt&&"TextEvent"in window&&!Cr,Vc=Mt&&(!Li||Cr&&8<Cr&&11>=Cr),Fa=" ",Ba=!1;function Gc(e,t){switch(e){case"keyup":return uh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function dh(e,t){switch(e){case"compositionend":return Qc(t);case"keypress":return t.which!==32?null:(Ba=!0,Fa);case"textInput":return e=t.data,e===Fa&&Ba?null:e;default:return null}}function fh(e,t){if(Mn)return e==="compositionend"||!Li&&Gc(e,t)?(e=Bc(),Al=Ri=Yt=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vc&&t.locale!=="ko"?null:t.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mh[e.type]:t==="textarea"}function Hc(e,t,n,r){Ic(r),t=Xl(t,"onChange"),0<t.length&&(n=new _i("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,br=null;function hh(e){rd(e,0)}function ko(e){var t=On(e);if(gc(t))return e}function ph(e,t){if(e==="change")return t}var Wc=!1;if(Mt){var qo;if(Mt){var Xo="oninput"in document;if(!Xo){var Ga=document.createElement("div");Ga.setAttribute("oninput","return;"),Xo=typeof Ga.oninput=="function"}qo=Xo}else qo=!1;Wc=qo&&(!document.documentMode||9<document.documentMode)}function Qa(){Pr&&(Pr.detachEvent("onpropertychange",Yc),br=Pr=null)}function Yc(e){if(e.propertyName==="value"&&ko(br)){var t=[];Hc(t,br,e,Ei(e)),Pc(hh,t)}}function gh(e,t,n){e==="focusin"?(Qa(),Pr=t,br=n,Pr.attachEvent("onpropertychange",Yc)):e==="focusout"&&Qa()}function yh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(br)}function vh(e,t){if(e==="click")return ko(t)}function xh(e,t){if(e==="input"||e==="change")return ko(t)}function wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:wh;function Ur(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!vs.call(t,l)||!xt(e[l],t[l]))return!1}return!0}function Ha(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wa(e,t){var n=Ha(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ha(n)}}function qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xc(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sh(e){var t=Xc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qc(n.ownerDocument.documentElement,n)){if(r!==null&&Mi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Wa(n,o);var s=Wa(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kh=Mt&&"documentMode"in document&&11>=document.documentMode,zn=null,Os=null,jr=null,$s=!1;function Ya(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$s||zn==null||zn!==Vl(r)||(r=zn,"selectionStart"in r&&Mi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&Ur(jr,r)||(jr=r,r=Xl(Os,"onSelect"),0<r.length&&(t=new _i("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zn)))}function gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dn={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},Ko={},Kc={};Mt&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Io(e){if(Ko[e])return Ko[e];if(!Dn[e])return e;var t=Dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kc)return Ko[e]=t[n];return e}var Jc=Io("animationend"),Zc=Io("animationiteration"),ed=Io("animationstart"),td=Io("transitionend"),nd=new Map,qa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){nd.set(e,t),Pn(t,[e])}for(var Jo=0;Jo<qa.length;Jo++){var Zo=qa[Jo],Ih=Zo.toLowerCase(),Nh=Zo[0].toUpperCase()+Zo.slice(1);cn(Ih,"on"+Nh)}cn(Jc,"onAnimationEnd");cn(Zc,"onAnimationIteration");cn(ed,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(td,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Xa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Im(r,t,void 0,e),e.currentTarget=null}function rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],a=i.instance,u=i.currentTarget;if(i=i.listener,a!==o&&l.isPropagationStopped())break e;Xa(l,i,u),o=a}else for(s=0;s<r.length;s++){if(i=r[s],a=i.instance,u=i.currentTarget,i=i.listener,a!==o&&l.isPropagationStopped())break e;Xa(l,i,u),o=a}}}if(Ql)throw e=Ls,Ql=!1,Ls=null,e}function ue(e,t){var n=t[Vs];n===void 0&&(n=t[Vs]=new Set);var r=e+"__bubble";n.has(r)||(ld(t,e,2,!1),n.add(r))}function es(e,t,n){var r=0;t&&(r|=4),ld(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[yl]){e[yl]=!0,dc.forEach(function(n){n!=="selectionchange"&&(Eh.has(n)||es(n,!1,e),es(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,es("selectionchange",!1,t))}}function ld(e,t,n,r){switch(Fc(t)){case 1:var l=bm;break;case 4:l=Um;break;default:l=Ti}n=l.bind(null,t,n,e),l=void 0,!As||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ts(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;i!==null;){if(s=yn(i),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}i=i.parentNode}}r=r.return}Pc(function(){var u=o,h=Ei(n),d=[];e:{var m=nd.get(e);if(m!==void 0){var w=_i,k=e;switch(e){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":w=th;break;case"focusin":k="focus",w=Yo;break;case"focusout":k="blur",w=Yo;break;case"beforeblur":case"afterblur":w=Yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=lh;break;case Jc:case Zc:case ed:w=Hm;break;case td:w=sh;break;case"scroll":w=Fm;break;case"wheel":w=ah;break;case"copy":case"cut":case"paste":w=Ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ua}var x=(t&4)!==0,S=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var f=u,g;f!==null;){g=f;var I=g.stateNode;if(g.tag===5&&I!==null&&(g=I,p!==null&&(I=zr(f,p),I!=null&&x.push(Br(f,I,g)))),S)break;f=f.return}0<x.length&&(m=new w(m,k,null,n,h),d.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==Rs&&(k=n.relatedTarget||n.fromElement)&&(yn(k)||k[zt]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=u,k=k?yn(k):null,k!==null&&(S=jn(k),k!==S||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=u),w!==k)){if(x=$a,I="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ua,I="onPointerLeave",p="onPointerEnter",f="pointer"),S=w==null?m:On(w),g=k==null?m:On(k),m=new x(I,f+"leave",w,n,h),m.target=S,m.relatedTarget=g,I=null,yn(h)===u&&(x=new x(p,f+"enter",k,n,h),x.target=g,x.relatedTarget=S,I=x),S=I,w&&k)t:{for(x=w,p=k,f=0,g=x;g;g=Tn(g))f++;for(g=0,I=p;I;I=Tn(I))g++;for(;0<f-g;)x=Tn(x),f--;for(;0<g-f;)p=Tn(p),g--;for(;f--;){if(x===p||p!==null&&x===p.alternate)break t;x=Tn(x),p=Tn(p)}x=null}else x=null;w!==null&&Ka(d,m,w,x,!1),k!==null&&S!==null&&Ka(d,S,k,x,!0)}}e:{if(m=u?On(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var y=ph;else if(Va(m))if(Wc)y=xh;else{y=yh;var N=gh}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(y=vh);if(y&&(y=y(e,u))){Hc(d,y,n,h);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Es(m,"number",m.value)}switch(N=u?On(u):window,e){case"focusin":(Va(N)||N.contentEditable==="true")&&(zn=N,Os=u,jr=null);break;case"focusout":jr=Os=zn=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,Ya(d,n,h);break;case"selectionchange":if(kh)break;case"keydown":case"keyup":Ya(d,n,h)}var C;if(Li)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Mn?Gc(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Vc&&n.locale!=="ko"&&(Mn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Mn&&(C=Bc()):(Yt=h,Ri="value"in Yt?Yt.value:Yt.textContent,Mn=!0)),N=Xl(u,P),0<N.length&&(P=new ba(P,e,null,n,h),d.push({event:P,listeners:N}),C?P.data=C:(C=Qc(n),C!==null&&(P.data=C)))),(C=ch?dh(e,n):fh(e,n))&&(u=Xl(u,"onBeforeInput"),0<u.length&&(h=new ba("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}rd(d,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=zr(e,n),o!=null&&r.unshift(Br(e,o,l)),o=zr(e,t),o!=null&&r.push(Br(e,o,l))),e=e.return}return r}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ka(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,a=i.alternate,u=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&u!==null&&(i=u,l?(a=zr(n,o),a!=null&&s.unshift(Br(n,a,i))):l||(a=zr(n,o),a!=null&&s.push(Br(n,a,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ch=/\r\n?/g,Ph=/\u0000|\uFFFD/g;function Ja(e){return(typeof e=="string"?e:""+e).replace(Ch,`
`).replace(Ph,"")}function vl(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(j(425))}function Kl(){}var bs=null,Us=null;function Fs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,jh=typeof clearTimeout=="function"?clearTimeout:void 0,Za=typeof Promise=="function"?Promise:void 0,Th=typeof queueMicrotask=="function"?queueMicrotask:typeof Za<"u"?function(e){return Za.resolve(null).then(e).catch(Rh)}:Bs;function Rh(e){setTimeout(function(){throw e})}function ns(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),$r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);$r(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Et="__reactFiber$"+ir,Vr="__reactProps$"+ir,zt="__reactContainer$"+ir,Vs="__reactEvents$"+ir,_h="__reactListeners$"+ir,Ah="__reactHandles$"+ir;function yn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eu(e);e!==null;){if(n=e[Et])return n;e=eu(e)}return t}e=n,n=e.parentNode}return null}function ll(e){return e=e[Et]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function On(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function No(e){return e[Vr]||null}var Gs=[],$n=-1;function dn(e){return{current:e}}function ce(e){0>$n||(e.current=Gs[$n],Gs[$n]=null,$n--)}function ie(e,t){$n++,Gs[$n]=e.current,e.current=t}var un={},Me=dn(un),Ge=dn(!1),kn=un;function Jn(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Qe(e){return e=e.childContextTypes,e!=null}function Jl(){ce(Ge),ce(Me)}function tu(e,t,n){if(Me.current!==un)throw Error(j(168));ie(Me,t),ie(Ge,n)}function od(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(j(108,gm(e)||"Unknown",l));return ve({},n,r)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,kn=Me.current,ie(Me,e),ie(Ge,Ge.current),!0}function nu(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=od(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,ce(Ge),ce(Me),ie(Me,e)):ce(Ge),ie(Ge,n)}var Rt=null,Eo=!1,rs=!1;function sd(e){Rt===null?Rt=[e]:Rt.push(e)}function Lh(e){Eo=!0,sd(e)}function fn(){if(!rs&&Rt!==null){rs=!0;var e=0,t=ne;try{var n=Rt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,Eo=!1}catch(l){throw Rt!==null&&(Rt=Rt.slice(e+1)),_c(Ci,fn),l}finally{ne=t,rs=!1}}return null}var bn=[],Un=0,eo=null,to=0,rt=[],lt=0,In=null,_t=1,At="";function pn(e,t){bn[Un++]=to,bn[Un++]=eo,eo=e,to=t}function id(e,t,n){rt[lt++]=_t,rt[lt++]=At,rt[lt++]=In,In=e;var r=_t;e=At;var l=32-gt(r)-1;r&=~(1<<l),n+=1;var o=32-gt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,_t=1<<32-gt(t)+l|n<<l|r,At=o+e}else _t=1<<o|n<<l|r,At=e}function zi(e){e.return!==null&&(pn(e,1),id(e,1,0))}function Di(e){for(;e===eo;)eo=bn[--Un],bn[Un]=null,to=bn[--Un],bn[Un]=null;for(;e===In;)In=rt[--lt],rt[lt]=null,At=rt[--lt],rt[lt]=null,_t=rt[--lt],rt[lt]=null}var Xe=null,qe=null,he=!1,mt=null;function ad(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ru(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,qe=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:_t,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,qe=null,!0):!1;default:return!1}}function Qs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hs(e){if(he){var t=qe;if(t){var n=t;if(!ru(e,t)){if(Qs(e))throw Error(j(418));t=en(n.nextSibling);var r=Xe;t&&ru(e,t)?ad(r,n):(e.flags=e.flags&-4097|2,he=!1,Xe=e)}}else{if(Qs(e))throw Error(j(418));e.flags=e.flags&-4097|2,he=!1,Xe=e}}}function lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function xl(e){if(e!==Xe)return!1;if(!he)return lu(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fs(e.type,e.memoizedProps)),t&&(t=qe)){if(Qs(e))throw ud(),Error(j(418));for(;t;)ad(e,t),t=en(t.nextSibling)}if(lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Xe?en(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=qe;e;)e=en(e.nextSibling)}function Zn(){qe=Xe=null,he=!1}function Oi(e){mt===null?mt=[e]:mt.push(e)}var Mh=$t.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var i=l.refs;s===null?delete i[o]:i[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function wl(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ou(e){var t=e._init;return t(e._payload)}function cd(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function l(p,f){return p=ln(p,f),p.index=0,p.sibling=null,p}function o(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,f,g,I){return f===null||f.tag!==6?(f=cs(g,p.mode,I),f.return=p,f):(f=l(f,g),f.return=p,f)}function a(p,f,g,I){var y=g.type;return y===Ln?h(p,f,g.props.children,I,g.key):f!==null&&(f.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Gt&&ou(y)===f.type)?(I=l(f,g.props),I.ref=yr(p,f,g),I.return=p,I):(I=Ul(g.type,g.key,g.props,null,p.mode,I),I.ref=yr(p,f,g),I.return=p,I)}function u(p,f,g,I){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=ds(g,p.mode,I),f.return=p,f):(f=l(f,g.children||[]),f.return=p,f)}function h(p,f,g,I,y){return f===null||f.tag!==7?(f=Sn(g,p.mode,I,y),f.return=p,f):(f=l(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=cs(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ul:return g=Ul(f.type,f.key,f.props,null,p.mode,g),g.ref=yr(p,null,f),g.return=p,g;case An:return f=ds(f,p.mode,g),f.return=p,f;case Gt:var I=f._init;return d(p,I(f._payload),g)}if(Sr(f)||fr(f))return f=Sn(f,p.mode,g,null),f.return=p,f;wl(p,f)}return null}function m(p,f,g,I){var y=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return y!==null?null:i(p,f,""+g,I);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return g.key===y?a(p,f,g,I):null;case An:return g.key===y?u(p,f,g,I):null;case Gt:return y=g._init,m(p,f,y(g._payload),I)}if(Sr(g)||fr(g))return y!==null?null:h(p,f,g,I,null);wl(p,g)}return null}function w(p,f,g,I,y){if(typeof I=="string"&&I!==""||typeof I=="number")return p=p.get(g)||null,i(f,p,""+I,y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ul:return p=p.get(I.key===null?g:I.key)||null,a(f,p,I,y);case An:return p=p.get(I.key===null?g:I.key)||null,u(f,p,I,y);case Gt:var N=I._init;return w(p,f,g,N(I._payload),y)}if(Sr(I)||fr(I))return p=p.get(g)||null,h(f,p,I,y,null);wl(f,I)}return null}function k(p,f,g,I){for(var y=null,N=null,C=f,P=f=0,T=null;C!==null&&P<g.length;P++){C.index>P?(T=C,C=null):T=C.sibling;var A=m(p,C,g[P],I);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(p,C),f=o(A,f,P),N===null?y=A:N.sibling=A,N=A,C=T}if(P===g.length)return n(p,C),he&&pn(p,P),y;if(C===null){for(;P<g.length;P++)C=d(p,g[P],I),C!==null&&(f=o(C,f,P),N===null?y=C:N.sibling=C,N=C);return he&&pn(p,P),y}for(C=r(p,C);P<g.length;P++)T=w(C,p,P,g[P],I),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),f=o(T,f,P),N===null?y=T:N.sibling=T,N=T);return e&&C.forEach(function(G){return t(p,G)}),he&&pn(p,P),y}function x(p,f,g,I){var y=fr(g);if(typeof y!="function")throw Error(j(150));if(g=y.call(g),g==null)throw Error(j(151));for(var N=y=null,C=f,P=f=0,T=null,A=g.next();C!==null&&!A.done;P++,A=g.next()){C.index>P?(T=C,C=null):T=C.sibling;var G=m(p,C,A.value,I);if(G===null){C===null&&(C=T);break}e&&C&&G.alternate===null&&t(p,C),f=o(G,f,P),N===null?y=G:N.sibling=G,N=G,C=T}if(A.done)return n(p,C),he&&pn(p,P),y;if(C===null){for(;!A.done;P++,A=g.next())A=d(p,A.value,I),A!==null&&(f=o(A,f,P),N===null?y=A:N.sibling=A,N=A);return he&&pn(p,P),y}for(C=r(p,C);!A.done;P++,A=g.next())A=w(C,p,P,A.value,I),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),f=o(A,f,P),N===null?y=A:N.sibling=A,N=A);return e&&C.forEach(function(le){return t(p,le)}),he&&pn(p,P),y}function S(p,f,g,I){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:e:{for(var y=g.key,N=f;N!==null;){if(N.key===y){if(y=g.type,y===Ln){if(N.tag===7){n(p,N.sibling),f=l(N,g.props.children),f.return=p,p=f;break e}}else if(N.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Gt&&ou(y)===N.type){n(p,N.sibling),f=l(N,g.props),f.ref=yr(p,N,g),f.return=p,p=f;break e}n(p,N);break}else t(p,N);N=N.sibling}g.type===Ln?(f=Sn(g.props.children,p.mode,I,g.key),f.return=p,p=f):(I=Ul(g.type,g.key,g.props,null,p.mode,I),I.ref=yr(p,f,g),I.return=p,p=I)}return s(p);case An:e:{for(N=g.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=l(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=ds(g,p.mode,I),f.return=p,p=f}return s(p);case Gt:return N=g._init,S(p,f,N(g._payload),I)}if(Sr(g))return k(p,f,g,I);if(fr(g))return x(p,f,g,I);wl(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=l(f,g),f.return=p,p=f):(n(p,f),f=cs(g,p.mode,I),f.return=p,p=f),s(p)):n(p,f)}return S}var er=cd(!0),dd=cd(!1),no=dn(null),ro=null,Fn=null,$i=null;function bi(){$i=Fn=ro=null}function Ui(e){var t=no.current;ce(no),e._currentValue=t}function Ws(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){ro=e,$i=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(ro===null)throw Error(j(308));Fn=e,ro.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var vn=null;function Fi(e){vn===null?vn=[e]:vn.push(e)}function fd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Fi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Dt(e,r)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Dt(e,n)}return l=r.interleaved,l===null?(t.next=t,Fi(r)):(t.next=l.next,l.next=t),r.interleaved=t,Dt(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pi(e,n)}}function su(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var l=e.updateQueue;Qt=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var a=i,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var h=e.alternate;h!==null&&(h=h.updateQueue,i=h.lastBaseUpdate,i!==s&&(i===null?h.firstBaseUpdate=u:i.next=u,h.lastBaseUpdate=a))}if(o!==null){var d=l.baseState;s=0,h=u=a=null,i=o;do{var m=i.lane,w=i.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,x=i;switch(m=t,w=n,x.tag){case 1:if(k=x.payload,typeof k=="function"){d=k.call(w,d,m);break e}d=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=x.payload,m=typeof k=="function"?k.call(w,d,m):k,m==null)break e;d=ve({},d,m);break e;case 2:Qt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[i]:m.push(i))}else w={eventTime:w,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},h===null?(u=h=w,a=d):h=h.next=w,s|=m;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;m=i,i=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(h===null&&(a=d),l.baseState=a,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);En|=s,e.lanes=s,e.memoizedState=d}}function iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(j(191,l));l.call(r)}}}var ol={},Pt=dn(ol),Gr=dn(ol),Qr=dn(ol);function xn(e){if(e===ol)throw Error(j(174));return e}function Vi(e,t){switch(ie(Qr,t),ie(Gr,e),ie(Pt,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ps(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ps(t,e)}ce(Pt),ie(Pt,t)}function tr(){ce(Pt),ce(Gr),ce(Qr)}function hd(e){xn(Qr.current);var t=xn(Pt.current),n=Ps(t,e.type);t!==n&&(ie(Gr,e),ie(Pt,n))}function Gi(e){Gr.current===e&&(ce(Pt),ce(Gr))}var ge=dn(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function Qi(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var zl=$t.ReactCurrentDispatcher,os=$t.ReactCurrentBatchConfig,Nn=0,ye=null,Ne=null,Ce=null,so=!1,Tr=!1,Hr=0,zh=0;function _e(){throw Error(j(321))}function Hi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Wi(e,t,n,r,l,o){if(Nn=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zl.current=e===null||e.memoizedState===null?bh:Uh,e=n(r,l),Tr){o=0;do{if(Tr=!1,Hr=0,25<=o)throw Error(j(301));o+=1,Ce=Ne=null,t.updateQueue=null,zl.current=Fh,e=n(r,l)}while(Tr)}if(zl.current=io,t=Ne!==null&&Ne.next!==null,Nn=0,Ce=Ne=ye=null,so=!1,t)throw Error(j(300));return e}function Yi(){var e=Hr!==0;return Hr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ye.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function at(){if(Ne===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?ye.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error(j(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?ye.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Wr(e,t){return typeof t=="function"?t(e):t}function ss(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=Ne,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var i=s=null,a=null,u=o;do{var h=u.lane;if((Nn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(i=a=d,s=r):a=a.next=d,ye.lanes|=h,En|=h}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=i,xt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ye.lanes|=o,En|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function is(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);xt(o,t.memoizedState)||(Ve=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pd(){}function gd(e,t){var n=ye,r=at(),l=t(),o=!xt(r.memoizedState,l);if(o&&(r.memoizedState=l,Ve=!0),r=r.queue,qi(xd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Yr(9,vd.bind(null,n,r,l,t),void 0,null),Pe===null)throw Error(j(349));Nn&30||yd(n,t,l)}return l}function yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&Sd(e)}function xd(e,t,n){return n(function(){wd(t)&&Sd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Sd(e){var t=Dt(e,1);t!==null&&yt(t,e,1,-1)}function au(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=$h.bind(null,ye,e),[t.memoizedState,e]}function Yr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kd(){return at().memoizedState}function Dl(e,t,n,r){var l=Nt();ye.flags|=e,l.memoizedState=Yr(1|t,n,void 0,r===void 0?null:r)}function Co(e,t,n,r){var l=at();r=r===void 0?null:r;var o=void 0;if(Ne!==null){var s=Ne.memoizedState;if(o=s.destroy,r!==null&&Hi(r,s.deps)){l.memoizedState=Yr(t,n,o,r);return}}ye.flags|=e,l.memoizedState=Yr(1|t,n,o,r)}function uu(e,t){return Dl(8390656,8,e,t)}function qi(e,t){return Co(2048,8,e,t)}function Id(e,t){return Co(4,2,e,t)}function Nd(e,t){return Co(4,4,e,t)}function Ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cd(e,t,n){return n=n!=null?n.concat([e]):null,Co(4,4,Ed.bind(null,t,e),n)}function Xi(){}function Pd(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jd(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return Nn&21?(xt(n,t)||(n=Mc(),ye.lanes|=n,En|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function Dh(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{ne=n,os.transition=r}}function Rd(){return at().memoizedState}function Oh(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_d(e))Ad(t,n);else if(n=fd(e,t,n,r),n!==null){var l=$e();yt(n,e,r,l),Ld(n,t,r)}}function $h(e,t,n){var r=rn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_d(e))Ad(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(l.hasEagerState=!0,l.eagerState=i,xt(i,s)){var a=t.interleaved;a===null?(l.next=l,Fi(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}n=fd(e,t,l,r),n!==null&&(l=$e(),yt(n,e,r,l),Ld(n,t,r))}}function _d(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Ad(e,t){Tr=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ld(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pi(e,n)}}var io={readContext:it,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},bh={readContext:it,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:uu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,Ed.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oh.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:Xi,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=Dh.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,l=Nt();if(he){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Pe===null)throw Error(j(349));Nn&30||yd(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,uu(xd.bind(null,r,o,e),[e]),r.flags|=2048,Yr(9,vd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Pe.identifierPrefix;if(he){var n=At,r=_t;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uh={readContext:it,useCallback:Pd,useContext:it,useEffect:qi,useImperativeHandle:Cd,useInsertionEffect:Id,useLayoutEffect:Nd,useMemo:jd,useReducer:ss,useRef:kd,useState:function(){return ss(Wr)},useDebugValue:Xi,useDeferredValue:function(e){var t=at();return Td(t,Ne.memoizedState,e)},useTransition:function(){var e=ss(Wr)[0],t=at().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:gd,useId:Rd,unstable_isNewReconciler:!1},Fh={readContext:it,useCallback:Pd,useContext:it,useEffect:qi,useImperativeHandle:Cd,useInsertionEffect:Id,useLayoutEffect:Nd,useMemo:jd,useReducer:is,useRef:kd,useState:function(){return is(Wr)},useDebugValue:Xi,useDeferredValue:function(e){var t=at();return Ne===null?t.memoizedState=e:Td(t,Ne.memoizedState,e)},useTransition:function(){var e=is(Wr)[0],t=at().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:gd,useId:Rd,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ys(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Po={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),l=rn(e),o=Lt(r,l);o.payload=t,n!=null&&(o.callback=n),t=tn(e,o,l),t!==null&&(yt(t,e,l,r),Ml(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),l=rn(e),o=Lt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=tn(e,o,l),t!==null&&(yt(t,e,l,r),Ml(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=rn(e),l=Lt(n,r);l.tag=2,t!=null&&(l.callback=t),t=tn(e,l,r),t!==null&&(yt(t,e,r,n),Ml(t,e,r))}};function cu(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ur(n,r)||!Ur(l,o):!0}function Md(e,t,n){var r=!1,l=un,o=t.contextType;return typeof o=="object"&&o!==null?o=it(o):(l=Qe(t)?kn:Me.current,r=t.contextTypes,o=(r=r!=null)?Jn(e,l):un),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Po,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function du(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Po.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Bi(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=it(o):(o=Qe(t)?kn:Me.current,l.context=Jn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ys(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Po.enqueueReplaceState(l,l.state,null),lo(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",r=t;do n+=pm(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function as(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bh=typeof WeakMap=="function"?WeakMap:Map;function zd(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uo||(uo=!0,si=r),Xs(e,t)},n}function Dd(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Xs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xs(e,t),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function fu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=np.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Vh=$t.ReactCurrentOwner,Ve=!1;function Oe(e,t,n,r){t.child=e===null?dd(t,null,n,r):er(t,e.child,n,r)}function pu(e,t,n,r,l){n=n.render;var o=t.ref;return Yn(t,l),r=Wi(e,t,n,r,o,l),n=Yi(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(he&&n&&zi(t),t.flags|=1,Oe(e,t,r,l),t.child)}function gu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!la(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Od(e,t,o,r,l)):(e=Ul(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(s,r)&&e.ref===t.ref)return Ot(e,t,l)}return t.flags|=1,e=ln(o,r),e.ref=t.ref,e.return=t,t.child=e}function Od(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Ur(o,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Ot(e,t,l)}return Ks(e,t,n,r,l)}function $d(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Vn,Ye),Ye|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Vn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ie(Vn,Ye),Ye|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ie(Vn,Ye),Ye|=r;return Oe(e,t,l,n),t.child}function bd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ks(e,t,n,r,l){var o=Qe(n)?kn:Me.current;return o=Jn(t,o),Yn(t,l),n=Wi(e,t,n,r,o,l),r=Yi(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(he&&r&&zi(t),t.flags|=1,Oe(e,t,n,l),t.child)}function yu(e,t,n,r,l){if(Qe(n)){var o=!0;Zl(t)}else o=!1;if(Yn(t,l),t.stateNode===null)Ol(e,t),Md(t,n,r),qs(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=it(u):(u=Qe(n)?kn:Me.current,u=Jn(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||a!==u)&&du(t,s,r,u),Qt=!1;var m=t.memoizedState;s.state=m,lo(t,r,s,l),a=t.memoizedState,i!==r||m!==a||Ge.current||Qt?(typeof h=="function"&&(Ys(t,n,h,r),a=t.memoizedState),(i=Qt||cu(t,n,i,r,m,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,md(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:dt(t.type,i),s.props=u,d=t.pendingProps,m=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=it(a):(a=Qe(n)?kn:Me.current,a=Jn(t,a));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==d||m!==a)&&du(t,s,r,a),Qt=!1,m=t.memoizedState,s.state=m,lo(t,r,s,l);var k=t.memoizedState;i!==d||m!==k||Ge.current||Qt?(typeof w=="function"&&(Ys(t,n,w,r),k=t.memoizedState),(u=Qt||cu(t,n,u,r,m,k,a)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),s.props=r,s.state=k,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Js(e,t,n,r,o,l)}function Js(e,t,n,r,l,o){bd(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&nu(t,n,!1),Ot(e,t,o);r=t.stateNode,Vh.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=er(t,e.child,null,o),t.child=er(t,null,i,o)):Oe(e,t,i,o),t.memoizedState=r.state,l&&nu(t,n,!0),t.child}function Ud(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),Vi(e,t.containerInfo)}function vu(e,t,n,r,l){return Zn(),Oi(l),t.flags|=256,Oe(e,t,n,r),t.child}var Zs={dehydrated:null,treeContext:null,retryLane:0};function ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fd(e,t,n){var r=t.pendingProps,l=ge.current,o=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ie(ge,l&1),e===null)return Hs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ro(s,r,0,null),e=Sn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ei(n),t.memoizedState=Zs,e):Ki(t,s));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Gh(e,t,s,r,i,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,i=l.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=ln(l,a),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=ln(i,o):(o=Sn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ei(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Zs,r}return o=e.child,e=o.sibling,r=ln(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ki(e,t){return t=Ro({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sl(e,t,n,r){return r!==null&&Oi(r),er(t,e.child,null,n),e=Ki(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gh(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=as(Error(j(422))),Sl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Ro({mode:"visible",children:r.children},l,0,null),o=Sn(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&er(t,e.child,null,s),t.child.memoizedState=ei(s),t.memoizedState=Zs,o);if(!(t.mode&1))return Sl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(j(419)),r=as(o,r,void 0),Sl(e,t,s,r)}if(i=(s&e.childLanes)!==0,Ve||i){if(r=Pe,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Dt(e,l),yt(r,e,l,-1))}return ra(),r=as(Error(j(421))),Sl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=rp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,qe=en(l.nextSibling),Xe=t,he=!0,mt=null,e!==null&&(rt[lt++]=_t,rt[lt++]=At,rt[lt++]=In,_t=e.id,At=e.overflow,In=t),t=Ki(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ws(e.return,t,n)}function us(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Bd(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Oe(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(ge,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),us(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&oo(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}us(t,!0,n,null,o);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qh(e,t,n){switch(t.tag){case 3:Ud(t),Zn();break;case 5:hd(t);break;case 1:Qe(t.type)&&Zl(t);break;case 4:Vi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ie(no,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Fd(e,t,n):(ie(ge,ge.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);ie(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,$d(e,t,n)}return Ot(e,t,n)}var Vd,ti,Gd,Qd;Vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ti=function(){};Gd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,xn(Pt.current);var o=null;switch(n){case"input":l=Is(e,l),r=Is(e,r),o=[];break;case"select":l=ve({},l,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":l=Cs(e,l),r=Cs(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kl)}js(n,r);var s;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(i=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&a!==i&&(a!=null||i!=null))if(u==="style")if(i){for(s in i)!i.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&i[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),o||i===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hh(e,t,n){var r=t.pendingProps;switch(Di(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Qe(t.type)&&Jl(),Ae(t),null;case 3:return r=t.stateNode,tr(),ce(Ge),ce(Me),Qi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(ui(mt),mt=null))),ti(e,t),Ae(t),null;case 5:Gi(t);var l=xn(Qr.current);if(n=t.type,e!==null&&t.stateNode!=null)Gd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return Ae(t),null}if(e=xn(Pt.current),xl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Et]=t,r[Vr]=o,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(l=0;l<Ir.length;l++)ue(Ir[l],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":ja(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":Ra(r,o),ue("invalid",r)}js(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var i=o[s];s==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&vl(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&vl(r.textContent,i,e),l=["children",""+i]):Lr.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":cl(r),Ta(r,o,!0);break;case"textarea":cl(r),_a(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Et]=t,e[Vr]=r,Vd(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ts(n,r),n){case"dialog":ue("cancel",e),ue("close",e),l=r;break;case"iframe":case"object":case"embed":ue("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ir.length;l++)ue(Ir[l],e);l=r;break;case"source":ue("error",e),l=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),l=r;break;case"details":ue("toggle",e),l=r;break;case"input":ja(e,r),l=Is(e,r),ue("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ve({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Ra(e,r),l=Cs(e,r),ue("invalid",e);break;default:l=r}js(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="style"?kc(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wc(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Mr(e,a):typeof a=="number"&&Mr(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ue("scroll",e):a!=null&&Si(e,o,a,s))}switch(n){case"input":cl(e),Ta(e,r,!1);break;case"textarea":cl(e),_a(e);break;case"option":r.value!=null&&e.setAttribute("value",""+an(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Gn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Gn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=xn(Qr.current),xn(Pt.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Et]=t,(o=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:vl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=t,t.stateNode=r}return Ae(t),null;case 13:if(ce(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&qe!==null&&t.mode&1&&!(t.flags&128))ud(),Zn(),t.flags|=98560,o=!1;else if(o=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(j(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[Et]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),o=!1}else mt!==null&&(ui(mt),mt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ee===0&&(Ee=3):ra())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return tr(),ti(e,t),e===null&&Fr(t.stateNode.containerInfo),Ae(t),null;case 10:return Ui(t.type._context),Ae(t),null;case 17:return Qe(t.type)&&Jl(),Ae(t),null;case 19:if(ce(ge),o=t.memoizedState,o===null)return Ae(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)vr(o,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=oo(e),s!==null){for(t.flags|=128,vr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>rr&&(t.flags|=128,r=!0,vr(o,!1),t.lanes=4194304)}else{if(!r)if(e=oo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!he)return Ae(t),null}else 2*Se()-o.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,r=!0,vr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=ge.current,ie(ge,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return na(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Wh(e,t){switch(Di(t),t.tag){case 1:return Qe(t.type)&&Jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),ce(Ge),ce(Me),Qi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gi(t),null;case 13:if(ce(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ge),null;case 4:return tr(),null;case 10:return Ui(t.type._context),null;case 22:case 23:return na(),null;case 24:return null;default:return null}}var kl=!1,Le=!1,Yh=typeof WeakSet=="function"?WeakSet:Set,L=null;function Bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function ni(e,t,n){try{n()}catch(r){xe(e,t,r)}}var wu=!1;function qh(e,t){if(bs=Yl,e=Xc(),Mi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,a=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var w;d!==n||l!==0&&d.nodeType!==3||(i=s+l),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(w=d.firstChild)!==null;)m=d,d=w;for(;;){if(d===e)break t;if(m===n&&++u===l&&(i=s),m===o&&++h===r&&(a=s),(w=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=w}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Us={focusedElem:e,selectionRange:n},Yl=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var x=k.memoizedProps,S=k.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:dt(t.type,x),S);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(I){xe(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return k=wu,wu=!1,k}function Rr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ni(t,n,o)}l=l.next}while(l!==r)}}function jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ri(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hd(e){var t=e.alternate;t!==null&&(e.alternate=null,Hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Vr],delete t[Vs],delete t[_h],delete t[Ah])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function Su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function li(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(r!==4&&(e=e.child,e!==null))for(li(e,t,n),e=e.sibling;e!==null;)li(e,t,n),e=e.sibling}function oi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oi(e,t,n),e=e.sibling;e!==null;)oi(e,t,n),e=e.sibling}var je=null,ft=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(wo,n)}catch{}switch(n.tag){case 5:Le||Bn(n,t);case 6:var r=je,l=ft;je=null,Vt(e,t,n),je=r,ft=l,je!==null&&(ft?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(ft?(e=je,n=n.stateNode,e.nodeType===8?ns(e.parentNode,n):e.nodeType===1&&ns(e,n),$r(e)):ns(je,n.stateNode));break;case 4:r=je,l=ft,je=n.stateNode.containerInfo,ft=!0,Vt(e,t,n),je=r,ft=l;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ni(n,t,s),l=l.next}while(l!==r)}Vt(e,t,n);break;case 1:if(!Le&&(Bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){xe(n,t,i)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,Vt(e,t,n),Le=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yh),t.forEach(function(r){var l=lp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:je=i.stateNode,ft=!1;break e;case 3:je=i.stateNode.containerInfo,ft=!0;break e;case 4:je=i.stateNode.containerInfo,ft=!0;break e}i=i.return}if(je===null)throw Error(j(160));Yd(o,s,l),je=null,ft=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(u){xe(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qd(t,e),t=t.sibling}function qd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),It(e),r&4){try{Rr(3,e,e.return),jo(3,e)}catch(x){xe(e,e.return,x)}try{Rr(5,e,e.return)}catch(x){xe(e,e.return,x)}}break;case 1:ct(t,e),It(e),r&512&&n!==null&&Bn(n,n.return);break;case 5:if(ct(t,e),It(e),r&512&&n!==null&&Bn(n,n.return),e.flags&32){var l=e.stateNode;try{Mr(l,"")}catch(x){xe(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,i=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&yc(l,o),Ts(i,s);var u=Ts(i,o);for(s=0;s<a.length;s+=2){var h=a[s],d=a[s+1];h==="style"?kc(l,d):h==="dangerouslySetInnerHTML"?wc(l,d):h==="children"?Mr(l,d):Si(l,h,d,u)}switch(i){case"input":Ns(l,o);break;case"textarea":vc(l,o);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Gn(l,!!o.multiple,w,!1):m!==!!o.multiple&&(o.defaultValue!=null?Gn(l,!!o.multiple,o.defaultValue,!0):Gn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Vr]=o}catch(x){xe(e,e.return,x)}}break;case 6:if(ct(t,e),It(e),r&4){if(e.stateNode===null)throw Error(j(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(x){xe(e,e.return,x)}}break;case 3:if(ct(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(x){xe(e,e.return,x)}break;case 4:ct(t,e),It(e);break;case 13:ct(t,e),It(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ea=Se())),r&4&&ku(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||h,ct(t,e),Le=u):ct(t,e),It(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(L=e,h=e.child;h!==null;){for(d=L=h;L!==null;){switch(m=L,w=m.child,m.tag){case 0:case 11:case 14:case 15:Rr(4,m,m.return);break;case 1:Bn(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(x){xe(r,n,x)}}break;case 5:Bn(m,m.return);break;case 22:if(m.memoizedState!==null){Nu(d);continue}}w!==null?(w.return=m,L=w):Nu(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{l=d.stateNode,u?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=Sc("display",s))}catch(x){xe(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){xe(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ct(t,e),It(e),r&4&&ku(e);break;case 21:break;default:ct(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wd(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Mr(l,""),r.flags&=-33);var o=Su(e);oi(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,i=Su(e);li(e,i,s);break;default:throw Error(j(161))}}catch(a){xe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e,t,n){L=e,Xd(e)}function Xd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||kl;if(!s){var i=l.alternate,a=i!==null&&i.memoizedState!==null||Le;i=kl;var u=Le;if(kl=s,(Le=a)&&!u)for(L=l;L!==null;)s=L,a=s.child,s.tag===22&&s.memoizedState!==null?Eu(l):a!==null?(a.return=s,L=a):Eu(l);for(;o!==null;)L=o,Xd(o),o=o.sibling;L=l,kl=i,Le=u}Iu(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,L=o):Iu(e)}}function Iu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||jo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&iu(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iu(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&$r(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Le||t.flags&512&&ri(t)}catch(m){xe(t,t.return,m)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Nu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Eu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jo(4,t)}catch(a){xe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(a){xe(t,l,a)}}var o=t.return;try{ri(t)}catch(a){xe(t,o,a)}break;case 5:var s=t.return;try{ri(t)}catch(a){xe(t,s,a)}}}catch(a){xe(t,t.return,a)}if(t===e){L=null;break}var i=t.sibling;if(i!==null){i.return=t.return,L=i;break}L=t.return}}var Kh=Math.ceil,ao=$t.ReactCurrentDispatcher,Ji=$t.ReactCurrentOwner,st=$t.ReactCurrentBatchConfig,ee=0,Pe=null,Ie=null,Te=0,Ye=0,Vn=dn(0),Ee=0,qr=null,En=0,To=0,Zi=0,_r=null,Be=null,ea=0,rr=1/0,Tt=null,uo=!1,si=null,nn=null,Il=!1,qt=null,co=0,Ar=0,ii=null,$l=-1,bl=0;function $e(){return ee&6?Se():$l!==-1?$l:$l=Se()}function rn(e){return e.mode&1?ee&2&&Te!==0?Te&-Te:Mh.transition!==null?(bl===0&&(bl=Mc()),bl):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Fc(e.type)),e):1}function yt(e,t,n,r){if(50<Ar)throw Ar=0,ii=null,Error(j(185));nl(e,n,r),(!(ee&2)||e!==Pe)&&(e===Pe&&(!(ee&2)&&(To|=n),Ee===4&&Wt(e,Te)),He(e,r),n===1&&ee===0&&!(t.mode&1)&&(rr=Se()+500,Eo&&fn()))}function He(e,t){var n=e.callbackNode;Mm(e,t);var r=Wl(e,e===Pe?Te:0);if(r===0)n!==null&&Ma(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ma(n),t===1)e.tag===0?Lh(Cu.bind(null,e)):sd(Cu.bind(null,e)),Th(function(){!(ee&6)&&fn()}),n=null;else{switch(zc(r)){case 1:n=Ci;break;case 4:n=Ac;break;case 16:n=Hl;break;case 536870912:n=Lc;break;default:n=Hl}n=lf(n,Kd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kd(e,t){if($l=-1,bl=0,ee&6)throw Error(j(327));var n=e.callbackNode;if(qn()&&e.callbackNode!==n)return null;var r=Wl(e,e===Pe?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fo(e,r);else{t=r;var l=ee;ee|=2;var o=Zd();(Pe!==e||Te!==t)&&(Tt=null,rr=Se()+500,wn(e,t));do try{ep();break}catch(i){Jd(e,i)}while(!0);bi(),ao.current=o,ee=l,Ie!==null?t=0:(Pe=null,Te=0,t=Ee)}if(t!==0){if(t===2&&(l=Ms(e),l!==0&&(r=l,t=ai(e,l))),t===1)throw n=qr,wn(e,0),Wt(e,r),He(e,Se()),n;if(t===6)Wt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Jh(l)&&(t=fo(e,r),t===2&&(o=Ms(e),o!==0&&(r=o,t=ai(e,o))),t===1))throw n=qr,wn(e,0),Wt(e,r),He(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:gn(e,Be,Tt);break;case 3:if(Wt(e,r),(r&130023424)===r&&(t=ea+500-Se(),10<t)){if(Wl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Bs(gn.bind(null,e,Be,Tt),t);break}gn(e,Be,Tt);break;case 4:if(Wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-gt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kh(r/1960))-r,10<r){e.timeoutHandle=Bs(gn.bind(null,e,Be,Tt),r);break}gn(e,Be,Tt);break;case 5:gn(e,Be,Tt);break;default:throw Error(j(329))}}}return He(e,Se()),e.callbackNode===n?Kd.bind(null,e):null}function ai(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=fo(e,t),e!==2&&(t=Be,Be=n,t!==null&&ui(t)),e}function ui(e){Be===null?Be=e:Be.push.apply(Be,e)}function Jh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!xt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Zi,t&=~To,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Cu(e){if(ee&6)throw Error(j(327));qn();var t=Wl(e,0);if(!(t&1))return He(e,Se()),null;var n=fo(e,t);if(e.tag!==0&&n===2){var r=Ms(e);r!==0&&(t=r,n=ai(e,r))}if(n===1)throw n=qr,wn(e,0),Wt(e,t),He(e,Se()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Be,Tt),He(e,Se()),null}function ta(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(rr=Se()+500,Eo&&fn())}}function Cn(e){qt!==null&&qt.tag===0&&!(ee&6)&&qn();var t=ee;ee|=1;var n=st.transition,r=ne;try{if(st.transition=null,ne=1,e)return e()}finally{ne=r,st.transition=n,ee=t,!(ee&6)&&fn()}}function na(){Ye=Vn.current,ce(Vn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jh(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Di(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jl();break;case 3:tr(),ce(Ge),ce(Me),Qi();break;case 5:Gi(r);break;case 4:tr();break;case 13:ce(ge);break;case 19:ce(ge);break;case 10:Ui(r.type._context);break;case 22:case 23:na()}n=n.return}if(Pe=e,Ie=e=ln(e.current,null),Te=Ye=t,Ee=0,qr=null,Zi=To=En=0,Be=_r=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}vn=null}return e}function Jd(e,t){do{var n=Ie;try{if(bi(),zl.current=io,so){for(var r=ye.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}so=!1}if(Nn=0,Ce=Ne=ye=null,Tr=!1,Hr=0,Ji.current=null,n===null||n.return===null){Ee=1,qr=t,Ie=null;break}e:{var o=e,s=n.return,i=n,a=t;if(t=Te,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=i,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=mu(s);if(w!==null){w.flags&=-257,hu(w,s,i,o,t),w.mode&1&&fu(o,u,t),t=w,a=u;var k=t.updateQueue;if(k===null){var x=new Set;x.add(a),t.updateQueue=x}else k.add(a);break e}else{if(!(t&1)){fu(o,u,t),ra();break e}a=Error(j(426))}}else if(he&&i.mode&1){var S=mu(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hu(S,s,i,o,t),Oi(nr(a,i));break e}}o=a=nr(a,i),Ee!==4&&(Ee=2),_r===null?_r=[o]:_r.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=zd(o,a,t);su(o,p);break e;case 1:i=a;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(nn===null||!nn.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Dd(o,i,t);su(o,I);break e}}o=o.return}while(o!==null)}tf(n)}catch(y){t=y,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Zd(){var e=ao.current;return ao.current=io,e===null?io:e}function ra(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Pe===null||!(En&268435455)&&!(To&268435455)||Wt(Pe,Te)}function fo(e,t){var n=ee;ee|=2;var r=Zd();(Pe!==e||Te!==t)&&(Tt=null,wn(e,t));do try{Zh();break}catch(l){Jd(e,l)}while(!0);if(bi(),ee=n,ao.current=r,Ie!==null)throw Error(j(261));return Pe=null,Te=0,Ee}function Zh(){for(;Ie!==null;)ef(Ie)}function ep(){for(;Ie!==null&&!Em();)ef(Ie)}function ef(e){var t=rf(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?tf(e):Ie=t,Ji.current=null}function tf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wh(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ie=null;return}}else if(n=Hh(n,t,Ye),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ee===0&&(Ee=5)}function gn(e,t,n){var r=ne,l=st.transition;try{st.transition=null,ne=1,tp(e,t,n,r)}finally{st.transition=l,ne=r}return null}function tp(e,t,n,r){do qn();while(qt!==null);if(ee&6)throw Error(j(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zm(e,o),e===Pe&&(Ie=Pe=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,lf(Hl,function(){return qn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=st.transition,st.transition=null;var s=ne;ne=1;var i=ee;ee|=4,Ji.current=null,qh(e,n),qd(n,e),Sh(Us),Yl=!!bs,Us=bs=null,e.current=n,Xh(n),Cm(),ee=i,ne=s,st.transition=o}else e.current=n;if(Il&&(Il=!1,qt=e,co=l),o=e.pendingLanes,o===0&&(nn=null),Tm(n.stateNode),He(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(uo)throw uo=!1,e=si,si=null,e;return co&1&&e.tag!==0&&qn(),o=e.pendingLanes,o&1?e===ii?Ar++:(Ar=0,ii=e):Ar=0,fn(),null}function qn(){if(qt!==null){var e=zc(co),t=st.transition,n=ne;try{if(st.transition=null,ne=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,co=0,ee&6)throw Error(j(331));var l=ee;for(ee|=4,L=e.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var i=o.deletions;if(i!==null){for(var a=0;a<i.length;a++){var u=i[a];for(L=u;L!==null;){var h=L;switch(h.tag){case 0:case 11:case 15:Rr(8,h,o)}var d=h.child;if(d!==null)d.return=h,L=d;else for(;L!==null;){h=L;var m=h.sibling,w=h.return;if(Hd(h),h===u){L=null;break}if(m!==null){m.return=w,L=m;break}L=w}}}var k=o.alternate;if(k!==null){var x=k.child;if(x!==null){k.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rr(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,L=p;break e}L=o.return}}var f=e.current;for(L=f;L!==null;){s=L;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,L=g;else e:for(s=f;L!==null;){if(i=L,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:jo(9,i)}}catch(y){xe(i,i.return,y)}if(i===s){L=null;break e}var I=i.sibling;if(I!==null){I.return=i.return,L=I;break e}L=i.return}}if(ee=l,fn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(wo,e)}catch{}r=!0}return r}finally{ne=n,st.transition=t}}return!1}function Pu(e,t,n){t=nr(n,t),t=zd(e,t,1),e=tn(e,t,1),t=$e(),e!==null&&(nl(e,1,t),He(e,t))}function xe(e,t,n){if(e.tag===3)Pu(e,e,n);else for(;t!==null;){if(t.tag===3){Pu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){e=nr(n,e),e=Dd(t,e,1),t=tn(t,e,1),e=$e(),t!==null&&(nl(t,1,e),He(t,e));break}}t=t.return}}function np(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Te&n)===n&&(Ee===4||Ee===3&&(Te&130023424)===Te&&500>Se()-ea?wn(e,0):Zi|=n),He(e,t)}function nf(e,t){t===0&&(e.mode&1?(t=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):t=1);var n=$e();e=Dt(e,t),e!==null&&(nl(e,t,n),He(e,n))}function rp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nf(e,n)}function lp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),nf(e,n)}var rf;rf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,Qh(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,he&&t.flags&1048576&&id(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ol(e,t),e=t.pendingProps;var l=Jn(t,Me.current);Yn(t,n),l=Wi(null,t,r,e,l,n);var o=Yi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(o=!0,Zl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Bi(t),l.updater=Po,t.stateNode=l,l._reactInternals=t,qs(t,r,e,n),t=Js(null,t,r,!0,o,n)):(t.tag=0,he&&o&&zi(t),Oe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ol(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=sp(r),e=dt(r,e),l){case 0:t=Ks(null,t,r,e,n);break e;case 1:t=yu(null,t,r,e,n);break e;case 11:t=pu(null,t,r,e,n);break e;case 14:t=gu(null,t,r,dt(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Ks(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),yu(e,t,r,l,n);case 3:e:{if(Ud(t),e===null)throw Error(j(387));r=t.pendingProps,o=t.memoizedState,l=o.element,md(e,t),lo(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=nr(Error(j(423)),t),t=vu(e,t,r,n,l);break e}else if(r!==l){l=nr(Error(j(424)),t),t=vu(e,t,r,n,l);break e}else for(qe=en(t.stateNode.containerInfo.firstChild),Xe=t,he=!0,mt=null,n=dd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===l){t=Ot(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&Hs(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,Fs(r,l)?s=null:o!==null&&Fs(r,o)&&(t.flags|=32),bd(e,t),Oe(e,t,s,n),t.child;case 6:return e===null&&Hs(t),null;case 13:return Fd(e,t,n);case 4:return Vi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=er(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),pu(e,t,r,l,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,ie(no,r._currentValue),r._currentValue=s,o!==null)if(xt(o.value,s)){if(o.children===l.children&&!Ge.current){t=Ot(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){s=o.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ws(o.return,n,t),i.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Ws(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Oe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Yn(t,n),l=it(l),r=r(l),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,l=dt(r,t.pendingProps),l=dt(r.type,l),gu(e,t,r,l,n);case 15:return Od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Ol(e,t),t.tag=1,Qe(r)?(e=!0,Zl(t)):e=!1,Yn(t,n),Md(t,r,l),qs(t,r,l,n),Js(null,t,r,!0,e,n);case 19:return Bd(e,t,n);case 22:return $d(e,t,n)}throw Error(j(156,t.tag))};function lf(e,t){return _c(e,t)}function op(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new op(e,t,n,r)}function la(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sp(e){if(typeof e=="function")return la(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ii)return 11;if(e===Ni)return 14}return 2}function ln(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")la(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ln:return Sn(n.children,l,o,t);case ki:s=8,l|=8;break;case xs:return e=ot(12,n,t,l|2),e.elementType=xs,e.lanes=o,e;case ws:return e=ot(13,n,t,l),e.elementType=ws,e.lanes=o,e;case Ss:return e=ot(19,n,t,l),e.elementType=Ss,e.lanes=o,e;case hc:return Ro(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fc:s=10;break e;case mc:s=9;break e;case Ii:s=11;break e;case Ni:s=14;break e;case Gt:s=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=ot(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Sn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function Ro(e,t,n,r){return e=ot(22,e,r,t),e.elementType=hc,e.lanes=n,e.stateNode={isHidden:!1},e}function cs(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function ds(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ip(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function oa(e,t,n,r,l,o,s,i,a){return e=new ip(e,t,n,i,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bi(o),e}function ap(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function of(e){if(!e)return un;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Qe(n))return od(e,n,t)}return t}function sf(e,t,n,r,l,o,s,i,a){return e=oa(n,r,!0,e,l,o,s,i,a),e.context=of(null),n=e.current,r=$e(),l=rn(n),o=Lt(r,l),o.callback=t??null,tn(n,o,l),e.current.lanes=l,nl(e,l,r),He(e,r),e}function _o(e,t,n,r){var l=t.current,o=$e(),s=rn(l);return n=of(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tn(l,t,s),e!==null&&(yt(e,l,s,o),Ml(e,l,s)),s}function mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sa(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function up(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function ia(e){this._internalRoot=e}Ao.prototype.render=ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));_o(e,t,null,null)};Ao.prototype.unmount=ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){_o(null,e,null,null)}),t[zt]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=$c();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&t!==0&&t<Ht[n].priority;n++);Ht.splice(n,0,e),n===0&&Uc(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function cp(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var u=mo(s);o.call(u)}}var s=sf(t,r,e,0,null,!1,!1,"",Tu);return e._reactRootContainer=s,e[zt]=s.current,Fr(e.nodeType===8?e.parentNode:e),Cn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var u=mo(a);i.call(u)}}var a=oa(e,0,!1,null,null,!1,!1,"",Tu);return e._reactRootContainer=a,e[zt]=a.current,Fr(e.nodeType===8?e.parentNode:e),Cn(function(){_o(t,a,n,r)}),a}function Mo(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var i=l;l=function(){var a=mo(s);i.call(a)}}_o(t,s,e,l)}else s=cp(n,t,e,l,r);return mo(s)}Dc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kr(t.pendingLanes);n!==0&&(Pi(t,n|1),He(t,Se()),!(ee&6)&&(rr=Se()+500,fn()))}break;case 13:Cn(function(){var r=Dt(e,1);if(r!==null){var l=$e();yt(r,e,1,l)}}),sa(e,1)}};ji=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=$e();yt(t,e,134217728,n)}sa(e,134217728)}};Oc=function(e){if(e.tag===13){var t=rn(e),n=Dt(e,t);if(n!==null){var r=$e();yt(n,e,t,r)}sa(e,t)}};$c=function(){return ne};bc=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};_s=function(e,t,n){switch(t){case"input":if(Ns(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=No(r);if(!l)throw Error(j(90));gc(r),Ns(r,l)}}}break;case"textarea":vc(e,n);break;case"select":t=n.value,t!=null&&Gn(e,!!n.multiple,t,!1)}};Ec=ta;Cc=Cn;var dp={usingClientEntryPoint:!1,Events:[ll,On,No,Ic,Nc,ta]},xr={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fp={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tc(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||up,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{wo=Nl.inject(fp),Ct=Nl}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(t))throw Error(j(200));return ap(e,t,null,n)};Je.createRoot=function(e,t){if(!aa(e))throw Error(j(299));var n=!1,r="",l=af;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=oa(e,1,!1,null,null,n,!1,r,l),e[zt]=t.current,Fr(e.nodeType===8?e.parentNode:e),new ia(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Tc(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Cn(e)};Je.hydrate=function(e,t,n){if(!Lo(t))throw Error(j(200));return Mo(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!aa(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=af;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=sf(t,null,e,1,n??null,l,!1,o,s),e[zt]=t.current,Fr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ao(t)};Je.render=function(e,t,n){if(!Lo(t))throw Error(j(200));return Mo(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Lo(e))throw Error(j(40));return e._reactRootContainer?(Cn(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};Je.unstable_batchedUpdates=ta;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lo(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Mo(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(e){console.error(e)}}uf(),ac.exports=Je;var ua=ac.exports,Ru=ua;ys.createRoot=Ru.createRoot,ys.hydrateRoot=Ru.hydrateRoot;const mp="modulepreload",hp=function(e){return"/"+e},_u={},wt=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(n.map(a=>{if(a=hp(a),a in _u)return;_u[a]=!0;const u=a.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":mp,u||(d.as="script"),d.crossOrigin="",d.href=a,i&&d.setAttribute("nonce",i),document.head.appendChild(d),u)return new Promise((m,w)=>{d.addEventListener("load",m),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return l.then(s=>{for(const i of s||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}var Xt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xt||(Xt={}));const Au="popstate";function pp(e){e===void 0&&(e={});function t(r,l){let{pathname:o,search:s,hash:i}=r.location;return ci("",{pathname:o,search:s,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:ho(l)}return yp(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ca(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gp(){return Math.random().toString(36).substr(2,8)}function Lu(e,t){return{usr:e.state,key:e.key,idx:t}}function ci(e,t,n,r){return n===void 0&&(n=null),Xr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ar(t):t,{state:n,key:t&&t.key||r||gp()})}function ho(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ar(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function yp(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:o=!1}=r,s=l.history,i=Xt.Pop,a=null,u=h();u==null&&(u=0,s.replaceState(Xr({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function d(){i=Xt.Pop;let S=h(),p=S==null?null:S-u;u=S,a&&a({action:i,location:x.location,delta:p})}function m(S,p){i=Xt.Push;let f=ci(x.location,S,p);u=h()+1;let g=Lu(f,u),I=x.createHref(f);try{s.pushState(g,"",I)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;l.location.assign(I)}o&&a&&a({action:i,location:x.location,delta:1})}function w(S,p){i=Xt.Replace;let f=ci(x.location,S,p);u=h();let g=Lu(f,u),I=x.createHref(f);s.replaceState(g,"",I),o&&a&&a({action:i,location:x.location,delta:0})}function k(S){let p=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof S=="string"?S:ho(S);return f=f.replace(/ $/,"%20"),ke(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let x={get action(){return i},get location(){return e(l,s)},listen(S){if(a)throw new Error("A history only accepts one active listener");return l.addEventListener(Au,d),a=S,()=>{l.removeEventListener(Au,d),a=null}},createHref(S){return t(l,S)},createURL:k,encodeLocation(S){let p=k(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:w,go(S){return s.go(S)}};return x}var Mu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mu||(Mu={}));function vp(e,t,n){return n===void 0&&(n="/"),xp(e,t,n)}function xp(e,t,n,r){let l=typeof t=="string"?ar(t):t,o=da(l.pathname||"/",n);if(o==null)return null;let s=cf(e);wp(s);let i=null;for(let a=0;i==null&&a<s.length;++a){let u=Ap(o);i=Tp(s[a],u)}return i}function cf(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(o,s,i)=>{let a={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(ke(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=on([r,a.relativePath]),h=n.concat(a);o.children&&o.children.length>0&&(ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cf(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Pp(u,o.index),routesMeta:h})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))l(o,s);else for(let a of df(o.path))l(o,s,a)}),t}function df(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let s=df(r.join("/")),i=[];return i.push(...s.map(a=>a===""?o:[o,a].join("/"))),l&&i.push(...s),i.map(a=>e.startsWith("/")&&a===""?"/":a)}function wp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sp=/^:[\w-]+$/,kp=3,Ip=2,Np=1,Ep=10,Cp=-2,zu=e=>e==="*";function Pp(e,t){let n=e.split("/"),r=n.length;return n.some(zu)&&(r+=Cp),t&&(r+=Ip),n.filter(l=>!zu(l)).reduce((l,o)=>l+(Sp.test(o)?kp:o===""?Np:Ep),r)}function jp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Tp(e,t,n){let{routesMeta:r}=e,l={},o="/",s=[];for(let i=0;i<r.length;++i){let a=r[i],u=i===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",d=Rp({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},h),m=a.route;if(!d)return null;Object.assign(l,d.params),s.push({params:l,pathname:on([o,d.pathname]),pathnameBase:Op(on([o,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(o=on([o,d.pathnameBase]))}return s}function Rp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_p(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],s=o.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:m,isOptional:w}=h;if(m==="*"){let x=i[d]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const k=i[d];return w&&!k?u[m]=void 0:u[m]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function _p(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ca(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,a)=>(r.push({paramName:i,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Ap(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ca(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function da(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=e=>Lp.test(e);function zp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?ar(e):e,o;if(n)if(Mp(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),ca(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=Du(n.substring(1),"/"):o=Du(n,t)}else o=t;return{pathname:o,search:$p(r),hash:bp(l)}}function Du(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function fs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fa(e,t){let n=Dp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ma(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=ar(e):(l=Xr({},e),ke(!l.pathname||!l.pathname.includes("?"),fs("?","pathname","search",l)),ke(!l.pathname||!l.pathname.includes("#"),fs("#","pathname","hash",l)),ke(!l.search||!l.search.includes("#"),fs("#","search","hash",l)));let o=e===""||l.pathname==="",s=o?"/":l.pathname,i;if(s==null)i=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),d-=1;l.pathname=m.join("/")}i=d>=0?t[d]:"/"}let a=zp(l,i),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||h)&&(a.pathname+="/"),a}const on=e=>e.join("/").replace(/\/\/+/g,"/"),Op=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$p=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Up(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ff=["post","put","patch","delete"];new Set(ff);const Fp=["get",...ff];new Set(Fp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}const ha=v.createContext(null),Bp=v.createContext(null),mn=v.createContext(null),zo=v.createContext(null),bt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),mf=v.createContext(null);function Vp(e,t){let{relative:n}=t===void 0?{}:t;ur()||ke(!1);let{basename:r,navigator:l}=v.useContext(mn),{hash:o,pathname:s,search:i}=pf(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:on([r,s])),l.createHref({pathname:a,search:i,hash:o})}function ur(){return v.useContext(zo)!=null}function Ut(){return ur()||ke(!1),v.useContext(zo).location}function hf(e){v.useContext(mn).static||v.useLayoutEffect(e)}function sl(){let{isDataRoute:e}=v.useContext(bt);return e?ng():Gp()}function Gp(){ur()||ke(!1);let e=v.useContext(ha),{basename:t,future:n,navigator:r}=v.useContext(mn),{matches:l}=v.useContext(bt),{pathname:o}=Ut(),s=JSON.stringify(fa(l,n.v7_relativeSplatPath)),i=v.useRef(!1);return hf(()=>{i.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!i.current)return;if(typeof u=="number"){r.go(u);return}let d=ma(u,JSON.parse(s),o,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:on([t,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[t,r,s,o,e])}function _y(){let{matches:e}=v.useContext(bt),t=e[e.length-1];return t?t.params:{}}function pf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(mn),{matches:l}=v.useContext(bt),{pathname:o}=Ut(),s=JSON.stringify(fa(l,r.v7_relativeSplatPath));return v.useMemo(()=>ma(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function Qp(e,t){return Hp(e,t)}function Hp(e,t,n,r){ur()||ke(!1);let{navigator:l}=v.useContext(mn),{matches:o}=v.useContext(bt),s=o[o.length-1],i=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Ut(),h;if(t){var d;let S=typeof t=="string"?ar(t):t;a==="/"||(d=S.pathname)!=null&&d.startsWith(a)||ke(!1),h=S}else h=u;let m=h.pathname||"/",w=m;if(a!=="/"){let S=a.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=vp(e,{pathname:w}),x=Kp(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},i,S.params),pathname:on([a,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:on([a,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&x?v.createElement(zo.Provider,{value:{location:Kr({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xt.Pop}},x):x}function Wp(){let e=tg(),t=Up(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:l},n):null,null)}const Yp=v.createElement(Wp,null);class qp extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(bt.Provider,{value:this.props.routeContext},v.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xp(e){let{routeContext:t,match:n,children:r}=e,l=v.useContext(ha);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(bt.Provider,{value:t},r)}function Kp(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let h=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);h>=0||ke(!1),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:w}=n,k=d.route.loader&&m[d.route.id]===void 0&&(!w||w[d.route.id]===void 0);if(d.route.lazy||k){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,d,m)=>{let w,k=!1,x=null,S=null;n&&(w=i&&d.route.id?i[d.route.id]:void 0,x=d.route.errorElement||Yp,a&&(u<0&&m===0?(rg("route-fallback"),k=!0,S=null):u===m&&(k=!0,S=d.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,m+1)),f=()=>{let g;return w?g=x:k?g=S:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=h,v.createElement(Xp,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?v.createElement(qp,{location:n.location,revalidation:n.revalidation,component:x,error:w,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var gf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gf||{}),yf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yf||{});function Jp(e){let t=v.useContext(ha);return t||ke(!1),t}function Zp(e){let t=v.useContext(Bp);return t||ke(!1),t}function eg(e){let t=v.useContext(bt);return t||ke(!1),t}function vf(e){let t=eg(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function tg(){var e;let t=v.useContext(mf),n=Zp(),r=vf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ng(){let{router:e}=Jp(gf.UseNavigateStable),t=vf(yf.UseNavigateStable),n=v.useRef(!1);return hf(()=>{n.current=!0}),v.useCallback(function(l,o){o===void 0&&(o={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Kr({fromRouteId:t},o)))},[e,t])}const Ou={};function rg(e,t,n){Ou[e]||(Ou[e]=!0)}function lg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function og(e){let{to:t,replace:n,state:r,relative:l}=e;ur()||ke(!1);let{future:o,static:s}=v.useContext(mn),{matches:i}=v.useContext(bt),{pathname:a}=Ut(),u=sl(),h=ma(t,fa(i,o.v7_relativeSplatPath),a,l==="path"),d=JSON.stringify(h);return v.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:l}),[u,d,l,n,r]),null}function We(e){ke(!1)}function sg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Xt.Pop,navigator:o,static:s=!1,future:i}=e;ur()&&ke(!1);let a=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:a,navigator:o,static:s,future:Kr({v7_relativeSplatPath:!1},i)}),[a,i,o,s]);typeof r=="string"&&(r=ar(r));let{pathname:h="/",search:d="",hash:m="",state:w=null,key:k="default"}=r,x=v.useMemo(()=>{let S=da(h,a);return S==null?null:{location:{pathname:S,search:d,hash:m,state:w,key:k},navigationType:l}},[a,h,d,m,w,k,l]);return x==null?null:v.createElement(mn.Provider,{value:u},v.createElement(zo.Provider,{children:n,value:x}))}function ig(e){let{children:t,location:n}=e;return Qp(di(t),n)}new Promise(()=>{});function di(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,l)=>{if(!v.isValidElement(r))return;let o=[...t,l];if(r.type===v.Fragment){n.push.apply(n,di(r.props.children,o));return}r.type!==We&&ke(!1),!r.props.index||!r.props.children||ke(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=di(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}function ag(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,o;for(o=0;o<r.length;o++)l=r[o],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function ug(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cg(e,t){return e.button===0&&(!t||t==="_self")&&!ug(e)}function mi(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function dg(e,t){let n=mi(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(o=>{n.append(l,o)})}),n}const fg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mg="6";try{window.__reactRouterVersion=mg}catch{}const hg="startTransition",$u=nm[hg];function pg(e){let{basename:t,children:n,future:r,window:l}=e,o=v.useRef();o.current==null&&(o.current=pp({window:l,v5Compat:!0}));let s=o.current,[i,a]=v.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=v.useCallback(d=>{u&&$u?$u(()=>a(d)):a(d)},[a,u]);return v.useLayoutEffect(()=>s.listen(h),[s,h]),v.useEffect(()=>lg(r),[r]),v.createElement(sg,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:s,future:r})}const gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bu=v.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:o,replace:s,state:i,target:a,to:u,preventScrollReset:h,viewTransition:d}=t,m=ag(t,fg),{basename:w}=v.useContext(mn),k,x=!1;if(typeof u=="string"&&yg.test(u)&&(k=u,gg))try{let g=new URL(window.location.href),I=u.startsWith("//")?new URL(g.protocol+u):new URL(u),y=da(I.pathname,w);I.origin===g.origin&&y!=null?u=y+I.search+I.hash:x=!0}catch{}let S=Vp(u,{relative:l}),p=vg(u,{replace:s,state:i,target:a,preventScrollReset:h,relative:l,viewTransition:d});function f(g){r&&r(g),g.defaultPrevented||p(g)}return v.createElement("a",fi({},m,{href:k||S,onClick:x||o?r:f,ref:n,target:a}))});var Uu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uu||(Uu={}));var Fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fu||(Fu={}));function vg(e,t){let{target:n,replace:r,state:l,preventScrollReset:o,relative:s,viewTransition:i}=t===void 0?{}:t,a=sl(),u=Ut(),h=pf(e,{relative:s});return v.useCallback(d=>{if(cg(d,n)){d.preventDefault();let m=r!==void 0?r:ho(u)===ho(h);a(e,{replace:m,state:l,preventScrollReset:o,relative:s,viewTransition:i})}},[u,a,h,r,l,n,e,o,s,i])}function Ay(e){let t=v.useRef(mi(e)),n=v.useRef(!1),r=Ut(),l=v.useMemo(()=>dg(r.search,n.current?null:t.current),[r.search]),o=sl(),s=v.useCallback((i,a)=>{const u=mi(typeof i=="function"?i(l):i);n.current=!0,o("?"+u,a)},[o,l]);return[l,s]}const xg={},Bu=e=>{let t;const n=new Set,r=(h,d)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const w=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(k=>k(t,w))}},l=()=>t,a={setState:r,getState:l,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(xg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,l,a);return a},wg=e=>e?Bu(e):Bu;var xf={exports:{}},wf={},Sf={exports:{}},kf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=v;function Sg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kg=typeof Object.is=="function"?Object.is:Sg,Ig=lr.useState,Ng=lr.useEffect,Eg=lr.useLayoutEffect,Cg=lr.useDebugValue;function Pg(e,t){var n=t(),r=Ig({inst:{value:n,getSnapshot:t}}),l=r[0].inst,o=r[1];return Eg(function(){l.value=n,l.getSnapshot=t,ms(l)&&o({inst:l})},[e,n,t]),Ng(function(){return ms(l)&&o({inst:l}),e(function(){ms(l)&&o({inst:l})})},[e]),Cg(n),n}function ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kg(e,n)}catch{return!0}}function jg(e,t){return t()}var Tg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jg:Pg;kf.useSyncExternalStore=lr.useSyncExternalStore!==void 0?lr.useSyncExternalStore:Tg;Sf.exports=kf;var Rg=Sf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=v,_g=Rg;function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lg=typeof Object.is=="function"?Object.is:Ag,Mg=_g.useSyncExternalStore,zg=Do.useRef,Dg=Do.useEffect,Og=Do.useMemo,$g=Do.useDebugValue;wf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var o=zg(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Og(function(){function a(w){if(!u){if(u=!0,h=w,w=r(w),l!==void 0&&s.hasValue){var k=s.value;if(l(k,w))return d=k}return d=w}if(k=d,Lg(h,w))return k;var x=r(w);return l!==void 0&&l(k,x)?(h=w,k):(h=w,d=x)}var u=!1,h,d,m=n===void 0?null:n;return[function(){return a(t())},m===null?void 0:function(){return a(m())}]},[t,n,r,l]);var i=Mg(e,o[0],o[1]);return Dg(function(){s.hasValue=!0,s.value=i},[i]),$g(i),i};xf.exports=wf;var bg=xf.exports;const Ug=Xu(bg),If={},{useDebugValue:Fg}=vi,{useSyncExternalStoreWithSelector:Bg}=Ug;let Vu=!1;const Vg=e=>e;function Gg(e,t=Vg,n){(If?"production":void 0)!=="production"&&n&&!Vu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Vu=!0);const r=Bg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Fg(r),r}const Gu=e=>{(If?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?wg(e):e,n=(r,l)=>Gg(t,r,l);return Object.assign(n,t),n},cr=e=>e?Gu(e):Gu,Qg={};function Hg(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var o;const s=a=>a===null?null:JSON.parse(a,void 0),i=(o=n.getItem(l))!=null?o:null;return i instanceof Promise?i.then(s):s(i)},setItem:(l,o)=>n.setItem(l,JSON.stringify(o,void 0)),removeItem:l=>n.removeItem(l)}}const Jr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Jr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Jr(r)(n)}}}},Wg=(e,t)=>(n,r,l)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,p)=>({...p,...S}),...t},s=!1;const i=new Set,a=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...S)},r,l);const h=Jr(o.serialize),d=()=>{const S=o.partialize({...r()});let p;const f=h({state:S,version:o.version}).then(g=>u.setItem(o.name,g)).catch(g=>{p=g});if(p)throw p;return f},m=l.setState;l.setState=(S,p)=>{m(S,p),d()};const w=e((...S)=>{n(...S),d()},r,l);let k;const x=()=>{var S;if(!u)return;s=!1,i.forEach(f=>f(r()));const p=((S=o.onRehydrateStorage)==null?void 0:S.call(o,r()))||void 0;return Jr(u.getItem.bind(u))(o.name).then(f=>{if(f)return o.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return o.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var g;return k=o.merge(f,(g=r())!=null?g:w),n(k,!0),d()}).then(()=>{p==null||p(k,void 0),s=!0,a.forEach(f=>f(k))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:S=>{o={...o,...S},S.getStorage&&(u=S.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:S=>(i.add(S),()=>{i.delete(S)}),onFinishHydration:S=>(a.add(S),()=>{a.delete(S)})},x(),k||w},Yg=(e,t)=>(n,r,l)=>{let o={storage:Hg(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...t},s=!1;const i=new Set,a=new Set;let u=o.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,l);const h=()=>{const x=o.partialize({...r()});return u.setItem(o.name,{state:x,version:o.version})},d=l.setState;l.setState=(x,S)=>{d(x,S),h()};const m=e((...x)=>{n(...x),h()},r,l);l.getInitialState=()=>m;let w;const k=()=>{var x,S;if(!u)return;s=!1,i.forEach(f=>{var g;return f((g=r())!=null?g:m)});const p=((S=o.onRehydrateStorage)==null?void 0:S.call(o,(x=r())!=null?x:m))||void 0;return Jr(u.getItem.bind(u))(o.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return[!0,o.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var g;const[I,y]=f;if(w=o.merge(y,(g=r())!=null?g:m),n(w,!0),I)return h()}).then(()=>{p==null||p(w,void 0),w=r(),s=!0,a.forEach(f=>f(w))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:x=>{o={...o,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>s,onHydrate:x=>(i.add(x),()=>{i.delete(x)}),onFinishHydration:x=>(a.add(x),()=>{a.delete(x)})},o.skipHydration||k(),w||m},qg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Qg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Wg(e,t)):Yg(e,t),Oo=qg,Zr={get(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}},set(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save to localStorage:",n)}},remove(e){try{localStorage.removeItem(e)}catch(t){console.error("Failed to remove from localStorage:",t)}},clear(){try{localStorage.clear()}catch(e){console.error("Failed to clear localStorage:",e)}}};function Xg(){if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("");return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}let Rn=null,_n=null;function hs(){return Rn?Promise.resolve(Rn):_n||(_n=new Promise((e,t)=>{const n=indexedDB.open("tunetuna-storage",1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains("zustand")||r.createObjectStore("zustand")},n.onsuccess=()=>{Rn=n.result,Rn.onclose=()=>{Rn=null,_n=null},e(Rn)},n.onerror=()=>{_n=null,t(n.error)}}),_n)}const Kg={getItem:async e=>{try{const t=await hs();return new Promise(n=>{const o=t.transaction(["zustand"],"readonly").objectStore("zustand").get(e);o.onsuccess=()=>{n(o.result||null)},o.onerror=()=>{n(null)}})}catch{return null}},setItem:async(e,t)=>{const n=await hs();return new Promise((r,l)=>{const i=n.transaction(["zustand"],"readwrite").objectStore("zustand").put(t,e);i.onsuccess=()=>{r()},i.onerror=()=>{l(i.error)}})},removeItem:async e=>{try{const t=await hs();return new Promise(n=>{const o=t.transaction(["zustand"],"readwrite").objectStore("zustand").delete(e);o.onsuccess=()=>{n()},o.onerror=()=>{n()}})}catch{}}},we=cr()(Oo(e=>({artists:[],albums:[],songs:[],genres:[],genresLastUpdated:null,genresLastChecked:null,genreSongs:{},years:[],yearsLastUpdated:null,yearsLastChecked:null,lastSyncCompleted:null,recentlyAdded:[],recentlyPlayed:[],shufflePool:[],lastPoolUpdate:null,loading:{artists:!1,albums:!1,songs:!1,genres:!1,recentlyAdded:!1,recentlyPlayed:!1},sortPreferences:{artists:"RecentlyAdded",albums:"RecentlyAdded",songs:"RecentlyAdded",playlists:"RecentlyAdded"},setArtists:t=>e({artists:t}),setAlbums:t=>e({albums:t}),setGenres:t=>e({genres:t}),setGenreSongs:(t,n)=>e(r=>({genreSongs:{...r.genreSongs,[t]:n}})),clearGenreSongs:()=>e({genreSongs:{}}),clearGenreSongsForGenre:t=>e(n=>{const r={...n.genreSongs};return delete r[t],{genreSongs:r}}),setYears:t=>e({years:t}),setRecentlyAdded:t=>e({recentlyAdded:t}),setRecentlyPlayed:t=>e({recentlyPlayed:t}),addToRecentlyPlayed:t=>e(n=>{const r=n.recentlyPlayed.filter(o=>o.Id!==t.Id);return{recentlyPlayed:[t,...r].slice(0,10)}}),setLoading:(t,n)=>e(r=>({loading:{...r.loading,[t]:n}})),setSortPreference:(t,n)=>e(r=>({sortPreferences:{...r.sortPreferences,[t]:n}})),setSongs:t=>e({songs:t}),setLastSyncCompleted:t=>e({lastSyncCompleted:t}),refreshShufflePool:()=>e(t=>{let r=t.songs;const l=Object.values(t.genreSongs).flat().length;if(t.songs.length===0&&l>0&&(r=Object.values(t.genreSongs).flat()),r.length===0)return{shufflePool:[]};const o=new Set(t.recentlyPlayed.slice(0,10).map(u=>u.Id));r=r.filter(u=>!o.has(u.Id));let s=r;if(s.length<30){const u=t.recentlyPlayed.slice(0,30-s.length);s=[...s,...u.map(h=>t.songs.find(d=>d.Id===h.Id)).filter(Boolean)]}const i=[...s];for(let u=i.length-1;u>0;u--){const h=Math.floor(Math.random()*(u+1));[i[u],i[h]]=[i[h],i[u]]}return{shufflePool:i.slice(0,30),lastPoolUpdate:Date.now()}})}),{name:"music-storage",storage:Kg,partialize:e=>({genres:e.genres,genresLastUpdated:e.genresLastUpdated,genresLastChecked:e.genresLastChecked,genreSongs:e.genreSongs,songs:e.songs,shufflePool:e.shufflePool,lastPoolUpdate:e.lastPoolUpdate,years:e.years,yearsLastUpdated:e.yearsLastUpdated,yearsLastChecked:e.yearsLastChecked,lastSyncCompleted:e.lastSyncCompleted,recentlyPlayed:e.recentlyPlayed})}));function Fl(e){return e&&e.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"').replace(/[\u2032\u2033]/g,"'")}function Ly(e){return e&&Fl(e).replace(/'/g,"")}function ht(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}class Jg{constructor(){kt(this,"baseUrl","");kt(this,"accessToken","");kt(this,"userId","");kt(this,"genresCache",null);kt(this,"isPreloading",!1)}get serverBaseUrl(){return this.baseUrl}setCredentials(t,n,r){this.baseUrl=t.replace(/\/$/,""),this.accessToken=n,this.userId=r,this.genresCache=null}clearGenresCache(){this.genresCache=null}getHeaders(){return{Authorization:`MediaBrowser Token="${this.accessToken}"`,"Content-Type":"application/json","X-Emby-Authorization":`MediaBrowser Client="Tunetuna", Device="Web", DeviceId="${this.getDeviceId()}", Version="1.0.0"`}}getDeviceId(){let t=Zr.get("deviceId");return t||(t=Xg(),Zr.set("deviceId",t)),t}async request(t,n={}){const r=`${this.baseUrl}${t}`,l=await fetch(r,{...n,headers:{...this.getHeaders(),...n.headers}});if(!l.ok)throw l.status===401?new Error("Unauthorized - please login again"):new Error(`API request failed: ${l.statusText}`);return l.json()}async authenticate(t,n,r){const l=t.replace(/\/$/,"")+"/Users/authenticatebyname",o=new AbortController,s=setTimeout(()=>{console.warn("Authentication request timed out after 30 seconds"),o.abort()},3e4);let i;try{i=await fetch(l,{method:"POST",signal:o.signal,headers:{"Content-Type":"application/json","X-Emby-Authorization":`MediaBrowser Client="Tunetuna", Device="Web", DeviceId="${this.getDeviceId()}", Version="1.0.0"`},body:JSON.stringify({Username:n,Pw:r})}),clearTimeout(s)}catch(u){if(clearTimeout(s),u instanceof Error&&u.name==="AbortError"){const d=/^https?:\/\/100\.\d+\.\d+\.\d+/.test(t)?`
  VPN/Tailscale IP detected (100.x.x.x). Your phone may not be on the same VPN network.
   Try using your local network IP instead (e.g., http://192.168.1.x:8096)
`:"";throw new Error(`Request timeout - server did not respond within 30 seconds.

Possible issues:
- Server URL may be incorrect: ${l}
- Server may be down or unreachable${d}- CORS may be blocking the request (check browser console/Network tab)
- Network connectivity issues

If this was working earlier, check:
- Is the Jellyfin server still running?
- Are there any CORS errors in the browser console?
- Try accessing ${l} directly in your browser
- If using VPN/Tailscale IP, ensure your phone is on the same network`)}if(u instanceof TypeError){const h=u.message.toLowerCase();if(h.includes("failed to fetch")||h.includes("networkerror")){const m=/^https?:\/\/100\.\d+\.\d+\.\d+/.test(t)?`
  VPN/Tailscale IP detected. Your phone may not be able to access this IP.
   Try using your local network IP instead (e.g., http://192.168.1.x:8096)
`:"";throw new Error(`Network error - unable to reach server at ${l}

Possible issues:
- CORS is blocking the request (check Jellyfin server CORS settings)${m}- Server is not accessible from this network
- Invalid server URL

Check browser console for detailed error information.`)}throw new Error(`Network error: ${u.message}`)}throw u}if(!i.ok){const u=await i.text().catch(()=>"");throw new Error(u||`Authentication failed (${i.status})`)}const a=await i.json();return this.setCredentials(t,a.AccessToken,a.User.Id),a}getImageUrl(t,n="Primary",r){if(!this.baseUrl||!t)return"";const l=r??300,i=[`quality=${l<=128?75:90}`,`fillHeight=${l}`,`fillWidth=${l}`];return r&&i.push(`maxWidth=${r}`),`${this.baseUrl}/Items/${t}/Images/${n}?${i.join("&")}`}getArtistImageUrl(t,n){return this.getImageUrl(t,"Primary",n)}getArtistBackdropUrl(t,n){return this.getImageUrl(t,"Backdrop",n)}getAlbumArtUrl(t,n){return this.getImageUrl(t,"Primary",n)}buildQueryString(t,n=!1){const r=new URLSearchParams;return t.sortBy&&t.sortBy.forEach(l=>r.append("SortBy",l)),t.sortOrder&&r.append("SortOrder",t.sortOrder),t.limit&&r.append("Limit",t.limit.toString()),t.startIndex&&r.append("StartIndex",t.startIndex.toString()),t.includeItemTypes&&t.includeItemTypes.forEach(l=>r.append("IncludeItemTypes",l)),t.recursive!==void 0&&r.append("Recursive",t.recursive.toString()),t.parentId&&r.append("ParentId",t.parentId),t.searchTerm&&t.searchTerm.trim().length>0&&r.append("SearchTerm",t.searchTerm.trim()),t.genreIds&&t.genreIds.forEach(l=>r.append("GenreIds",l)),t.artistIds&&t.artistIds.forEach(l=>r.append("ArtistIds",l)),t.albumIds&&t.albumIds.forEach(l=>r.append("AlbumIds",l)),t.years&&t.years.forEach(l=>r.append("Years",l.toString())),t.minDateLastSaved&&r.append("MinDateLastSaved",t.minDateLastSaved.toISOString()),r.append("UserId",this.userId),r.append("Fields","PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,ProductionYear,DateCreated,DateModified,DateLastSaved"),n&&r.append("_t",Date.now().toString()),r.toString()}async getArtistById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get artist by ID:",r),null}}async getArtists(t={}){var l;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({...t,includeItemTypes:["MusicArtist"],recursive:!0});let r=await this.request(`/Artists?${n}`);return(((l=r.Items)==null?void 0:l.length)||0)===0&&(r.TotalRecordCount||0)===0&&(r=await this.request(`/Items?${n}`)),{Items:r.Items||[],TotalRecordCount:r.TotalRecordCount||0,StartIndex:r.StartIndex||0}}async getAlbumById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres,Overview"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get album by ID:",r),null}}async getSongById(t){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({UserId:this.userId,Fields:"PrimaryImageAspectRatio,BasicSyncInfo,CanDelete,MediaSourceCount,Genres"});try{return await this.request(`/Items/${t}?${n}`)}catch(r){return console.error("Failed to get song by ID:",r),null}}async getAlbums(t={}){const n=this.buildQueryString({...t,includeItemTypes:["MusicAlbum"],recursive:!0});return this.request(`/Items?${n}`)}async getSongs(t={},n=!1){const r=this.buildQueryString({...t,includeItemTypes:["Audio"],recursive:!0},n);return this.request(`/Items?${r}`)}async getGenres(t=!1){if(this.genresCache&&!t)return this.genresCache;if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=we.getState(),r=12*60*60*1e3;if(!t&&n.genres.length>0&&n.genresLastUpdated){const l=Date.now(),o=n.genresLastChecked||0;if(!(l-o>=r))return this.genresCache=n.genres,n.genres;try{const i=await this.getRecentlyAdded(50),a=await this.getSongs({limit:50,sortBy:["DateLastSaved"],sortOrder:"Descending"}),u=[...i.Items||[],...a.Items||[]];let h=0;for(const d of u){if(d.DateCreated){const m=new Date(d.DateCreated).getTime();m>h&&(h=m)}if(d.DateLastSaved){const m=new Date(d.DateLastSaved).getTime();m>h&&(h=m)}}if(we.setState({genresLastChecked:l}),h<=n.genresLastUpdated)return this.genresCache=n.genres,n.genres}catch(i){return console.warn("[getGenres] Failed to check for new/modified tracks, using cached genres:",i),this.genresCache=n.genres,n.genres}}try{const l=new Map;let o=0;const s=200;let i=!0;for(;i;){const p=(await this.getAlbums({limit:s,startIndex:o})).Items||[];if(p.forEach(f=>{f.Genres&&f.Genres.forEach(g=>{const I=g.toLowerCase();l.has(I)||l.set(I,g)})}),i=p.length===s,o+=s,o>1e4)break}const a=new Set;let u=0,h=!0;for(;h;){const p=(await this.getSongs({limit:200,startIndex:u})).Items||[];if(p.forEach(f=>{f.Genres&&f.Genres.forEach(g=>{a.add(g.toLowerCase())})}),h=p.length===200,u+=200,u>1e4)break}const d=new Map,m=new Map;try{const S=new URLSearchParams({UserId:this.userId,Recursive:"true"}),p=await this.request(`/Genres?${S}`);let f=[];Array.isArray(p)?f=p:p&&typeof p=="object"&&"Items"in p&&(f=p.Items||[]),f.forEach(g=>{if(g.Name){const I=g.Name.toLowerCase();l.has(I)&&(d.set(I,g.Id),m.set(g.Id,g))}})}catch(S){console.warn("[getGenres] Failed to get genre IDs from API, will use synthetic IDs:",S)}const w=[],k=new Set;for(const[S,p]of l){if(k.has(S)||!a.has(S))continue;const f=d.get(S);if(f){const g=m.get(f);g&&(w.push(g),k.add(S))}else w.push({Id:`synthetic-${S.replace(/\s+/g,"-")}`,Name:p,Type:"Genre"}),k.add(S)}const x=Date.now();return we.getState().setGenres(w),we.setState({genresLastUpdated:x,genresLastChecked:x}),this.genresCache=w,w}catch(l){return console.error("[getGenres] Failed to build music genres:",l),n.genres.length>0?(this.genresCache=n.genres,n.genres):(this.genresCache=[],[])}}async getYears(t=!1){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=we.getState(),r=12*60*60*1e3;if(!t&&n.years.length>0&&n.yearsLastUpdated){const l=Date.now(),o=n.yearsLastChecked||0;if(!(l-o>=r))return n.years;try{const a=(await this.getRecentlyAdded(50)).Items||[];let u=0;for(const h of a)if(h.DateCreated){const d=new Date(h.DateCreated).getTime();d>u&&(u=d)}if(we.setState({yearsLastChecked:l}),u<=n.yearsLastUpdated)return n.years}catch(i){return console.warn("[getYears] Failed to check for new tracks, using cached years:",i),n.years}}try{const l=new Set;let o=0;const s=200;let i=!0;for(;i;){const d=(await this.getSongs({limit:s,startIndex:o})).Items||[];if(d.forEach(m=>{m.ProductionYear&&m.ProductionYear>0&&l.add(m.ProductionYear)}),i=d.length===s,o+=s,o>1e4)break}const a=Array.from(l).sort((h,d)=>h-d),u=Date.now();return we.getState().setYears(a),we.setState({yearsLastUpdated:u,yearsLastChecked:u}),a}catch(l){return console.error("[getYears] Failed to extract years:",l),n.years.length>0?n.years:[]}}async getGenreSongs(t,n,r=!1){let l=[];if(t.startsWith("synthetic-")||r){let i=0;const a=200;let u=!0;for(;u;){const d=(await this.getSongs({limit:a,startIndex:i},!0)).Items||[];if(l.push(...d),u=d.length===a,i+=a,i>5e4)break}}else{let i=0;const a=200;let u=!0;for(;u;){const d=(await this.getSongs({genreIds:[t],limit:a,startIndex:i})).Items||[];if(l.push(...d),u=d.length===a,i+=a,i>5e4)break}}return l.filter(i=>{var u;return(u=i.Genres)==null?void 0:u.some(h=>h.toLowerCase()===n.toLowerCase())}).map(i=>({Id:i.Id,Name:i.Name,AlbumArtist:i.AlbumArtist,ArtistItems:i.ArtistItems,Album:i.Album,AlbumId:i.AlbumId,IndexNumber:i.IndexNumber,ProductionYear:i.ProductionYear,PremiereDate:i.PremiereDate,RunTimeTicks:i.RunTimeTicks,Genres:i.Genres}))}async syncLibrary(t={scope:"incremental"}){const n=we.getState();if(t.scope==="incremental"){const o=n.lastSyncCompleted,s=await this.getGenres(!1);let i=[];if(o){let x=0;const S=200;let p=!0;for(;p;){const g=(await this.getSongs({minDateLastSaved:new Date(o),limit:S,startIndex:x},!0)).Items||[];if(i.push(...g),p=g.length===S,x+=S,x>1e4)break}}else i=(await this.getSongs({limit:1e3,sortBy:["DateLastSaved"],sortOrder:"Descending"})).Items||[];const a=i.map(x=>({Id:x.Id,Name:x.Name,AlbumArtist:x.AlbumArtist,ArtistItems:x.ArtistItems,Album:x.Album,AlbumId:x.AlbumId,IndexNumber:x.IndexNumber,ProductionYear:x.ProductionYear,PremiereDate:x.PremiereDate,RunTimeTicks:x.RunTimeTicks,Genres:x.Genres})),u=n.songs,h=new Set(u.map(x=>x.Id)),d=a.filter(x=>!h.has(x.Id)),m=[...u,...d];try{n.setSongs(m)}catch(x){throw x instanceof DOMException&&x.name==="QuotaExceededError"?new Error("Storage quota exceeded. Please clear some data or use a smaller sync scope."):x}const w=new Set;d.forEach(x=>{var S;(S=x.Genres)==null||S.forEach(p=>{s.forEach(f=>{var g;((g=f.Name)==null?void 0:g.toLowerCase())===p.toLowerCase()&&w.add(f.Id)})})});const k=Array.from(w).map(async x=>{const S=s.find(I=>I.Id===x);if(!(S!=null&&S.Name))return;const p=n.genreSongs[x]||[];new Set(p.map(I=>I.Id));const f=d.filter(I=>{var y;return(y=I.Genres)==null?void 0:y.some(N=>N.toLowerCase()===S.Name.toLowerCase())}),g=[...p,...f];n.setGenreSongs(x,g)});await Promise.all(k);return}this.clearGenresCache(),n.clearGenreSongs();const l=(await this.getGenres(!0)).map(async o=>{if(!(!o.Name||!o.Id))try{const s=await this.getGenreSongs(o.Id,o.Name);n.setGenreSongs(o.Id,s)}catch(s){console.warn(`[syncLibrary] Failed to load songs for genre ${o.Name}:`,s)}});await Promise.all(l)}async search(t,n=20){const r=t?Fl(t.trim()):"",l=r.length>0,o=r.length,s=l&&o<3,i={limit:n,includeItemTypes:["MusicAlbum","Playlist","Audio"],recursive:!0};l&&(i.searchTerm=r,o>=3&&(i.includeItemTypes=["MusicArtist","MusicAlbum","Playlist","Audio"]));const a=this.buildQueryString(i),u=await this.request(`/Items?${a}`);let h=[];const d=[],m=[],w=[],k=new Set;if(u.Items.forEach(x=>{x.Type==="MusicArtist"?h.push(x):x.Type==="MusicAlbum"?d.push(x):x.Type==="Playlist"?m.push(x):x.Type==="Audio"&&(w.push(x),k.add(x.Id))}),s)try{const x=await this.getArtists({limit:1e3}),S=r.toLowerCase();h=(x.Items||[]).filter(p=>Fl(p.Name||"").toLowerCase().includes(S))}catch(x){console.error("Failed to fetch all artists for short query:",x)}if(l&&h.length>0){const x=r.toLowerCase(),p=h.filter(g=>Fl(g.Name||"").toLowerCase().includes(x)).map(g=>this.getArtistItems(g.Id).catch(I=>(console.error(`Failed to fetch songs for artist ${g.Id}:`,I),{albums:[],songs:[]})));(await Promise.all(p)).forEach(({songs:g})=>{g.forEach(I=>{k.has(I.Id)||(w.push(I),k.add(I.Id))})})}return{Artists:{Items:h,TotalRecordCount:h.length,StartIndex:0},Albums:{Items:d,TotalRecordCount:d.length,StartIndex:0},Playlists:{Items:m,TotalRecordCount:m.length,StartIndex:0},Songs:{Items:w,TotalRecordCount:w.length,StartIndex:0}}}async getRecentlyAdded(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=this.buildQueryString({limit:t,includeItemTypes:["MusicAlbum"],recursive:!0,sortBy:["DateCreated"],sortOrder:"Descending"});return await this.request(`/Items?${n}`)}async getRecentlyPlayed(t=20){if(!this.userId||!this.baseUrl)throw new Error("Not authenticated");const n=new URLSearchParams({Limit:t.toString(),IncludeItemTypes:"Audio",Recursive:"true",SortBy:"DatePlayed",SortOrder:"Descending",Filters:"IsPlayed",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return await this.request(`/Items?${n}`)}async getAlbumTracks(t){const n=new URLSearchParams({ParentId:t,IncludeItemTypes:"Audio",SortBy:"IndexNumber",SortOrder:"Ascending",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"});return(await this.request(`/Items?${n}`)).Items}async getArtistItems(t){const n=new URLSearchParams({ArtistIds:t,IncludeItemTypes:"MusicAlbum,Audio",Recursive:"true",UserId:this.userId,Fields:"PrimaryImageAspectRatio,Genres"}),r=await this.request(`/Items?${n}`),l=[],o=[];return r.Items.forEach(s=>{s.Type==="MusicAlbum"?l.push(s):s.Type==="Audio"&&o.push(s)}),{albums:l,songs:o}}async getGenreItems(t,n=50){const r=this.buildQueryString({genreIds:[t],includeItemTypes:["MusicAlbum"],recursive:!0,limit:n,sortBy:["DateCreated"],sortOrder:"Descending"});return this.request(`/Items?${r}`)}async getPlaylists(t={}){const n=this.buildQueryString({...t,includeItemTypes:["Playlist"],recursive:!0});return this.request(`/Items?${n}`)}async markItemAsPlayed(t){if(!this.userId||!this.baseUrl||!t)throw new Error("Not authenticated or invalid item ID");try{await this.request(`/Users/${this.userId}/PlayedItems/${t}`,{method:"POST"})}catch(n){console.warn("Failed to mark item as played:",n)}}async getLyrics(t){if(!this.userId||!this.baseUrl||!t)return null;try{const n=[`/Items/${t}/Lyrics`,`/Items/${t}/RemoteLyrics`,`/Audio/${t}/Lyrics`];let r=null;for(const l of n){const o=new URLSearchParams({UserId:this.userId}),s=`${this.baseUrl}${l}?${o}`;try{const i=await fetch(s,{headers:this.getHeaders()});if(i.ok){const a=await i.json();if(a.Lyrics&&Array.isArray(a.Lyrics)&&a.Lyrics.length>0)return a.Lyrics.map(h=>h.Text||"").join(`
`);if(typeof a=="string")return a;if(a.Text)return a.Text}else if(i.status===404){r=`404 for ${l}`;continue}else{const a=await i.text().catch(()=>"");r=`${i.status}: ${a}`;continue}}catch(i){r=i instanceof Error?i.message:String(i);continue}}return null}catch(n){return console.warn("[getLyrics] Failed to fetch lyrics:",n),null}}}const H=new Jg,vt=cr()(Oo(e=>({serverUrl:"",setServerUrl:t=>e({serverUrl:t}),pageVisibility:{artists:!0,albums:!0,songs:!0,genres:!0,playlists:!0},setPageVisibility:t=>e(n=>({pageVisibility:{...n.pageVisibility,...t}})),accentColor:"blue",setAccentColor:t=>e({accentColor:t}),showQueueRecommendations:!0,setShowQueueRecommendations:t=>e({showQueueRecommendations:t}),recommendationsQuality:"good",setRecommendationsQuality:t=>e({recommendationsQuality:t})}),{name:"settings-storage"})),po=cr(e=>({toasts:[],addToast:(t,n="success",r=3e3)=>{const l=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o={id:l,message:t,type:n,duration:r};e(s=>({toasts:[...s.toasts,o]})),r>0&&setTimeout(()=>{e(s=>({toasts:s.toasts.filter(i=>i.id!==l)}))},r)},removeToast:t=>{e(n=>({toasts:n.toasts.filter(r=>r.id!==t)}))}})),Nf=new Set,go=new Map;function Zg(){Nf.clear();for(const e of go.values())clearTimeout(e);go.clear()}function e0(e,t,n=5e3){const r=setTimeout(async()=>{const l=t();if((l==null?void 0:l.Id)===e)try{await H.markItemAsPlayed(e),Nf.add(e),setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:e}}))},4e3)}catch{}go.delete(e)},n);go.set(e,r)}function jt(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}const se=cr()(Oo((e,t)=>({songs:[],currentIndex:-1,previousIndex:-1,standardOrder:[],shuffleOrder:[],isPlaying:!1,currentTime:0,duration:0,volume:1,shuffle:!1,repeat:"off",audioElement:null,isFetchingRecommendations:!1,isLoadingMoreSongs:!1,shuffleHasMoreSongs:!1,lastPlayedTrack:null,isShuffleAllActive:!1,isShuffleGenreActive:!1,manuallyCleared:!1,isQueueSidebarOpen:!1,setAudioElement:n=>{e({audioElement:n}),n&&(n.volume=t().volume)},setIsFetchingRecommendations:n=>{e({isFetchingRecommendations:n})},setIsLoadingMoreSongs:n=>{e({isLoadingMoreSongs:n})},setCurrentTime:n=>{e({currentTime:n})},setDuration:n=>{e({duration:n})},setVolume:n=>{e({volume:n});const r=t().audioElement;r&&(r.volume=n)},clearQueue:()=>{e(n=>{const r=n.currentIndex>=0?[n.songs[n.currentIndex]]:[];return{songs:r,currentIndex:r.length>0?0:-1,previousIndex:-1,standardOrder:r.map(l=>l.Id),shuffleOrder:r.map(l=>l.Id),manuallyCleared:!0}})},addToQueue:(n,r=!1,l="user")=>{e(o=>{const s=o.currentIndex>=0?o.songs[o.currentIndex]:null,i=n.map(k=>({...k,source:l}));let a;const u=i;if(r){const k=o.shuffle?jt([...i]):i,x=o.currentIndex+1,S=o.songs.slice(0,x),p=o.songs.slice(x);a=[...S,...k,...p]}else if(l==="recommendation")a=[...o.songs,...u];else{const k=o.songs.findIndex((x,S)=>S>o.currentIndex&&x.source==="recommendation");k!==-1?a=[...o.songs.slice(0,k),...u,...o.songs.slice(k)]:a=[...o.songs,...u]}let h=o.currentIndex;if(o.currentIndex>=0&&s){const k=a.findIndex(x=>x.Id===s.Id);k!==-1?h=k:console.error("[addToQueue] CRITICAL: Could not find current song in new queue!")}let d=a;if(a.length>1e3){const k=a.slice(0,h),x=a.slice(h+1),S=k.slice(-5),p=x,f=1e3-S.length-(s?1:0)-p.length,g=k.slice(-Math.max(0,f));d=[...g,...s?[s]:[],...p],h=s?g.length:-1}const w=d.filter(k=>k.source==="user").map(k=>k.Id);return{songs:d,currentIndex:h,standardOrder:w,shuffleOrder:w,manuallyCleared:!1}})},addToQueueWithToast:n=>{t().addToQueue(n,!1,"user");const r=n.length,l=r===1?"Added to queue":`${r} songs added to queue`;po.getState().addToast(l,"success",2e3)},removeFromQueue:n=>{e(r=>{if(n<0||n>=r.songs.length)return r;const l=r.songs[n],o=r.songs.filter((h,d)=>d!==n);let s=r.standardOrder.filter(h=>h!==l.Id),i=r.shuffleOrder.filter(h=>h!==l.Id),a=r.currentIndex,u=r.previousIndex;return n<r.currentIndex?a=r.currentIndex-1:n===r.currentIndex&&(a=-1),n<r.previousIndex?u=r.previousIndex-1:n===r.previousIndex&&(u=-1),{songs:o,currentIndex:a,previousIndex:u,standardOrder:s,shuffleOrder:i}})},reorderQueue:(n,r)=>{e(l=>{if(n<0||r<0||n>=l.songs.length||r>=l.songs.length||n===r)return l;const o=l.songs[n],s=l.songs[r];if(o.source!==s.source)return l;const i=[...l.songs],[a]=i.splice(n,1);if(i.splice(r,0,a),o.source==="user"){const h=l.shuffle?"shuffleOrder":"standardOrder",d=l[h],m=d.indexOf(o.Id);if(m>=0){const w=[...d];w.splice(m,1);const x=i.slice(0,r+1).filter(p=>p.source==="user").length-1;w.splice(x,0,o.Id);const S=r===l.currentIndex||n===l.currentIndex?r:l.currentIndex;return{songs:i,[h]:w,currentIndex:S,previousIndex:r===l.previousIndex||n===l.previousIndex?r:l.previousIndex}}}const u=r===l.currentIndex||n===l.currentIndex?r:l.currentIndex;return{songs:i,currentIndex:u,previousIndex:r===l.previousIndex||n===l.previousIndex?r:l.previousIndex}})},play:()=>{const{audioElement:n,currentIndex:r,songs:l}=t();if(n&&r>=0&&r<l.length){const o=l[r],s=H.serverBaseUrl,i=s?`${s}/Audio/${o.Id}/stream?static=true`:"";n.src!==i&&(n.src=i,n.load()),n.play().then(()=>{e({isPlaying:!0}),e0(o.Id,()=>t().songs[t().currentIndex]||null),we.getState().addToRecentlyPlayed(o)}).catch(a=>{console.error("Playback error:",a),e({isPlaying:!1})})}},pause:()=>{const n=t().audioElement;n&&(n.pause(),e({isPlaying:!1}))},togglePlayPause:()=>{const{isPlaying:n,play:r,pause:l}=t();n?l():r()},next:()=>{const n=t();if(n.songs.length===0)return;let r=n.currentIndex+1;if(r>=n.songs.length)if(n.repeat==="all")r=0;else{t().pause();return}const l=n.currentIndex>=0?n.songs[n.currentIndex]:null;e({previousIndex:n.currentIndex,currentIndex:r,lastPlayedTrack:l}),t().play()},previous:()=>{e(n=>{if(n.songs.length===0)return n;let r=n.currentIndex,l=n.currentIndex;if(n.currentIndex>0)r=n.currentIndex-1;else if(n.repeat==="all")r=n.songs.length-1;else return n;return{currentIndex:r,previousIndex:l}}),t().play()},seek:n=>{const r=t().audioElement;r&&(r.currentTime=n,e({currentTime:n}))},toggleShuffle:()=>{e(n=>{const r=!n.shuffle;if(r){const l=n.songs.slice(0,n.currentIndex),o=n.currentIndex>=0?n.songs[n.currentIndex]:null,s=n.songs.slice(n.currentIndex+1).filter(m=>m.source==="user"),i=n.songs.filter(m=>m.source==="recommendation"),a=jt(s.map(m=>m.Id)),u=a.map(m=>s.find(w=>w.Id===m)).filter(Boolean),h=[...l,...o?[o]:[],...u,...i],d=[...n.standardOrder.slice(0,n.currentIndex+1),...a];return{shuffle:r,shuffleOrder:d,songs:h}}else{const l=n.songs.slice(0,n.currentIndex),o=n.currentIndex>=0?n.songs[n.currentIndex]:null,i=n.standardOrder.slice(n.currentIndex+1).map(h=>n.songs.find(d=>d.Id===h&&d.source==="user")).filter(Boolean),a=n.songs.filter(h=>h.source==="recommendation"),u=[...l,...o?[o]:[],...i,...a];return{shuffle:r,songs:u}}})},toggleRepeat:()=>{e(n=>({repeat:n.repeat==="off"?"all":n.repeat==="all"?"one":"off"}))},playTrack:(n,r)=>{let l,o;r?(l=r,o=r.findIndex(i=>i.Id===n.Id),o===-1&&(l=[n,...r.filter(i=>i.Id!==n.Id)],o=0)):(l=[n],o=0);const s=l.map(i=>({...i,source:"user"}));e({songs:s,standardOrder:s.map(i=>i.Id),shuffleOrder:s.map(i=>i.Id),currentIndex:o,previousIndex:o>0?o-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playAlbum:(n,r=0)=>{const l=n.map(o=>({...o,source:"user"}));e({songs:l,standardOrder:l.map(o=>o.Id),shuffleOrder:l.map(o=>o.Id),currentIndex:r,previousIndex:r>0?r-1:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},playNext:n=>{t().addToQueue(n,!0);const r=n.length,l=r===1?"Playing next":`${r} songs playing next`;po.getState().addToast(l,"success",2e3)},shuffleArtist:n=>{const l=jt(n).map(o=>({...o,source:"user"}));e({songs:l,standardOrder:l.map(o=>o.Id),shuffleOrder:l.map(o=>o.Id),currentIndex:0,previousIndex:-1,shuffle:!1,isPlaying:!1,currentTime:0,duration:0,manuallyCleared:!1}),t().play()},shuffleAllSongs:async()=>{t().clearQueue();const{setShowQueueRecommendations:n}=vt.getState();n(!1);const l=typeof window<"u"&&window.innerWidth<768?400:800,o=we.getState();let s=[];if(o.shufflePool.length>=1){const d=Math.min(5,o.shufflePool.length);s=o.shufflePool.slice(0,d);const m=o.shufflePool.slice(d),w=o.songs,k=new Set(o.recentlyPlayed.slice(0,10).map(f=>f.Id)),x=w.filter(f=>!k.has(f.Id)),S=jt(x).slice(0,d),p=[...m,...S];we.setState({shufflePool:p,lastPoolUpdate:Date.now()})}else{let d=o.songs;if(!d||d.length===0)try{d=(await H.getSongs({limit:Math.max(50,l),sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]}catch(m){console.error("Failed to fetch songs for shuffle all:",m);return}s=jt(d).slice(0,5),d.filter(m=>!s.some(w=>w.Id===m.Id)),we.setState({songs:d,shufflePool:jt(d).slice(0,30),lastPoolUpdate:Date.now()})}const i=s.map(d=>({...d,source:"user"})),a=s.length,h=o.songs.length+Object.values(o.genreSongs).flat().length>s.length;e({songs:i,standardOrder:i.map(d=>d.Id),shuffleOrder:i.map(d=>d.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:h,manuallyCleared:!0}),t().play(),setTimeout(async()=>{try{const d=t();if(!d.shuffle||d.songs.length!==a)return;let m=o.songs;(!m||m.length===0)&&(m=(await H.getSongs({limit:l,sortBy:["SortName"],sortOrder:"Ascending"})).Items||[]);const w=Object.values(o.genreSongs).flat(),k=[...m,...w],x=new Map;k.forEach(g=>x.set(g.Id,g));const S=Array.from(x.values()),p=new Set(i.map(g=>g.Id)),f=S.filter(g=>!p.has(g.Id));if(f.length>0){const g=Math.min(l-a,f.length),y=jt(f).slice(0,g).map(N=>({...N,source:"user"}));e(N=>{const C=new Set(i.map(G=>G.Id)),P=N.songs.filter(G=>!C.has(G.Id)&&G.source==="user"),T=[...i,...P,...y];let A=N.currentIndex;if(P.length>0&&N.currentIndex>=i.length){const G=N.songs[N.currentIndex];G&&(A=T.findIndex(le=>le.Id===G.Id))}return{songs:T,currentIndex:A>=0?A:N.currentIndex,standardOrder:T.map(G=>G.Id),shuffleOrder:T.map(G=>G.Id),shuffleHasMoreSongs:f.length>g,manuallyCleared:!1}}),we.getState().refreshShufflePool()}}catch(d){console.error("Failed to expand shuffle queue:",d)}},100)},shuffleGenreSongs:async(n,r)=>{t().clearQueue();const{setShowQueueRecommendations:l}=vt.getState();l(!1);const s=typeof window<"u"&&window.innerWidth<768?400:800,i=we.getState().genreSongs[n];if(!i||i.length===0){console.warn(`No songs found for genre: ${r}`);return}const a=jt(i).slice(0,5),u=i.filter(m=>!a.some(w=>w.Id===m.Id)),h=a.map(m=>({...m,source:"user"})),d=i.length>5;e({songs:h,standardOrder:h.map(m=>m.Id),shuffleOrder:h.map(m=>m.Id),currentIndex:0,previousIndex:-1,shuffle:!0,isPlaying:!1,currentTime:0,duration:0,isLoadingMoreSongs:!1,shuffleHasMoreSongs:d,manuallyCleared:!0}),t().play(),setTimeout(async()=>{try{const m=t();if(!m.shuffle||m.songs.length!==5)return;if(u.length>0){const w=Math.min(s-5,u.length),x=jt(u).slice(0,w).map(S=>({...S,source:"user"}));e(S=>{const p=new Set(h.map(y=>y.Id)),f=S.songs.filter(y=>!p.has(y.Id)&&y.source==="user"),g=[...h,...f,...x];let I=S.currentIndex;if(f.length>0&&S.currentIndex>=h.length){const y=S.songs[S.currentIndex];y&&(I=g.findIndex(N=>N.Id===y.Id))}return{songs:g,currentIndex:I>=0?I:S.currentIndex,standardOrder:g.map(y=>y.Id),shuffleOrder:g.map(y=>y.Id),shuffleHasMoreSongs:u.length>w,manuallyCleared:!1}})}}catch(m){console.error("Failed to expand genre shuffle queue:",m)}},100)},skipToTrack:n=>{const{songs:r,currentIndex:l}=t();if(n<0||n>=r.length)return;const o=l>=0?r[l]:null;e({previousIndex:l>=0?l:-1,currentIndex:n,lastPlayedTrack:o}),t().play()},refreshCurrentTrack:async()=>{const{currentIndex:n,songs:r}=t();if(n<0||n>=r.length)return;const l=r[n];try{const o=await H.getSongById(l.Id);o&&e(s=>{const i=[...s.songs];return i[s.currentIndex]={...i[s.currentIndex],...o},{songs:i}})}catch(o){console.error("Failed to refresh current track:",o)}},toggleQueueSidebar:()=>{e(n=>({isQueueSidebarOpen:!n.isQueueSidebarOpen}))}}),{name:"player-storage",partialize:e=>({songs:e.songs,currentIndex:e.currentIndex,previousIndex:e.previousIndex,standardOrder:e.standardOrder,shuffleOrder:e.shuffleOrder,volume:e.volume,shuffle:e.shuffle,repeat:e.repeat,lastPlayedTrack:e.lastPlayedTrack,isShuffleAllActive:e.isShuffleAllActive,isShuffleGenreActive:e.isShuffleGenreActive,manuallyCleared:e.manuallyCleared,isQueueSidebarOpen:e.isQueueSidebarOpen}),onRehydrateStorage:e=>{e&&(e.isPlaying=!1,e.currentTime=0,e.duration=0,e.audioElement=null,e.isFetchingRecommendations=!1,e.isShuffleAllActive=!1,e.isShuffleGenreActive=!1)}})),Ef=cr()(Oo(e=>({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1,login:async(t,n,r)=>{try{const l=await H.authenticate(t,n,r);e({serverUrl:t,username:n,accessToken:l.AccessToken,userId:l.User.Id,isAuthenticated:!0}),H.setCredentials(t,l.AccessToken,l.User.Id)}catch(l){throw l}},logout:()=>{Zg(),e({serverUrl:"",username:"",accessToken:"",userId:"",isAuthenticated:!1}),Zr.remove("auth-storage")},setCredentials:(t,n,r)=>{e({serverUrl:t,accessToken:n,userId:r,isAuthenticated:!0}),H.setCredentials(t,n,r)}}),{name:"auth-storage",onRehydrateStorage:()=>e=>{e!=null&&e.isAuthenticated&&e.serverUrl&&e.accessToken&&e.userId&&H.setCredentials(e.serverUrl,e.accessToken,e.userId)}})),Qu="last-server-url";function t0(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[l,o]=v.useState(""),[s,i]=v.useState(""),[a,u]=v.useState(!1),h=Ef(m=>m.login);v.useEffect(()=>{const m=Zr.get(Qu);m&&t(m)},[]);const d=async m=>{m.preventDefault(),i(""),u(!0),e.trim()&&Zr.set(Qu,e.trim());try{await h(e,n,l)}catch(w){i(w instanceof Error?w.message:"Login failed. Please check your credentials.")}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tunetuna"}),c.jsx("p",{className:"text-gray-400",children:"Sign in to your Jellyfin server"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"serverUrl",className:"block text-sm font-medium text-gray-300 mb-2",children:"Server URL"}),c.jsx("input",{id:"serverUrl",type:"url",value:e,onChange:m=>t(m.target.value),placeholder:"https://your-server.com",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),c.jsx("input",{id:"username",type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"Your username",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsx("input",{id:"password",type:"password",value:l,onChange:m=>o(m.target.value),placeholder:"Your password",required:!0,className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] focus:border-transparent"})]}),s&&c.jsx("div",{className:"bg-red-900/30 border border-red-800 text-red-200 px-4 py-3 rounded-lg text-sm whitespace-pre-wrap",children:s}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[var(--accent-color)] hover:brightness-90 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:a?"Signing in...":"Sign In"})]})]})})}/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Hu=e=>{const t=r0(e);return t.charAt(0).toUpperCase()+t.slice(1)},Cf=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),l0=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:s,...i},a)=>v.createElement("svg",{ref:a,...o0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Cf("lucide",l),...!o&&!l0(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,h])=>v.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=v.forwardRef(({className:r,...l},o)=>v.createElement(s0,{ref:o,iconNode:t,className:Cf(`lucide-${n0(Hu(e))}`,`lucide-${e}`,r),...l}));return n.displayName=Hu(e),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],a0=re("check",i0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c0=re("chevron-down",u0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f0=re("circle-alert",d0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pa=re("disc",m0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],p0=re("grip-horizontal",h0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.23 9.85A3 3 0 0 1 11 8a5 5 0 0 1 5 5 3 3 0 0 1-1.85 2.77l-.92.38A2 2 0 0 0 12 18a4 4 0 0 1-4 4 6 6 0 0 1-6-6 4 4 0 0 1 4-4 2 2 0 0 0 1.85-1.23z",key:"1de1vg"}]],Bl=re("guitar",g0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],v0=re("house",y0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],w0=re("info",x0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M9 19H3",key:"s61nz1"}],["path",{d:"m16 16-3 3 3 3",key:"117b85"}],["path",{d:"M21 5v12a2 2 0 0 1-2 2h-6",key:"hey24a"}]],El=re("list-end",S0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],I0=re("list-music",k0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M3 5h6",key:"1ltk0q"}],["path",{d:"M3 12h13",key:"ppymz1"}],["path",{d:"M3 19h13",key:"bpdczq"}],["path",{d:"m16 8-3-3 3-3",key:"1pjpp6"}],["path",{d:"M21 19V7a2 2 0 0 0-2-2h-6",key:"4zzq67"}]],Cl=re("list-start",N0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 19H3",key:"108z41"}],["path",{d:"M15 12.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"ms4nik"}]],Pf=re("list-video",E0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],P0=re("mic-vocal",C0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],T0=re("music",j0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],el=re("pause",R0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sn=re("play",_0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ps=re("refresh-cw",A0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}],["path",{d:"M11 10h1v4",key:"70cz1p"}]],ga=re("repeat-1",L0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],ya=re("repeat",M0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Xn=re("shuffle",z0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],va=re("skip-back",D0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],xa=re("skip-forward",O0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],b0=re("square-play",$0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yo=re("user",U0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],B0=re("volume-1",F0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],G0=re("volume-2",V0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}]],H0=re("volume",Q0);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jf=re("x",W0),$o=cr((e,t)=>({state:"idle",source:null,message:null,abortController:null,startSync:(n,r="Syncing...")=>{const l=new AbortController;e({state:"syncing",source:n,message:r,abortController:l})},completeSync:(n,r)=>{e({state:n?"success":"error",message:r||(n?"Sync complete":"Sync failed"),abortController:null}),setTimeout(()=>{t().reset()},3e3)},cancelSync:()=>{const{abortController:n}=t();n&&n.abort(),e({state:"idle",source:null,message:null,abortController:null})},reset:()=>{e({state:"idle",source:null,message:null,abortController:null})}}));function pt({variant:e="horizontal",onClose:t,onOpenPopover:n,popoverPosition:r,popoverDirection:l="up",className:o,onRef:s}){const{volume:i,setVolume:a}=se(),[u,h]=v.useState(!1),[d,m]=v.useState(1),w=v.useRef(null),k=D=>{s&&e==="compact"&&s(D)},x=D=>{s&&e==="horizontal"&&s(D)};v.useEffect(()=>{const D=localStorage.getItem("lastNonZeroVolume");D?m(Math.max(.01,Math.min(1,parseFloat(D)))):i>0&&m(i)},[]),v.useEffect(()=>{i>0&&(m(i),localStorage.setItem("lastNonZeroVolume",i.toString()))},[i]);const S=()=>i===0?H0:i<=.5?B0:G0,p=v.useCallback(D=>{if(!w.current)return;const O=w.current.getBoundingClientRect();let R,F;if(D instanceof TouchEvent||D.touches?(R=D.touches[0].clientX,F=D.touches[0].clientY):(R=D.clientX,F=D.clientY),e==="horizontal"){const E=R-O.left,_=Math.max(0,Math.min(1,E/O.width));a(_)}else{const E=O.bottom-F,_=Math.max(0,Math.min(1,E/O.height));a(_)}},[a,e]),f=D=>{D.preventDefault(),D.stopPropagation(),h(!0),p(D)},g=D=>{D.stopPropagation(),f(D)},I=D=>{D.stopPropagation(),C(D)},y=v.useCallback(D=>{u&&(D.preventDefault(),D.stopPropagation(),p(D))},[u,p]),N=v.useCallback(()=>{h(!1)},[]),C=D=>{D.preventDefault(),D.stopPropagation(),h(!0),p(D)},P=v.useCallback(D=>{u&&(D.preventDefault(),D.stopPropagation(),p(D))},[u,p]),T=v.useCallback(()=>{h(!1)},[]),A=D=>{D.stopPropagation(),se.getState().volume>0?a(0):a(d)},G=D=>{D.stopPropagation()};v.useEffect(()=>{if(u)return document.addEventListener("mousemove",y),document.addEventListener("mouseup",N),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",T),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",N),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",T)}},[u,y,N,P,T]);const le=S();if(e==="compact")return c.jsx("button",{ref:k,onClick:D=>{D.stopPropagation(),n&&n()},className:o||"text-gray-400 hover:text-zinc-300 transition-colors",children:c.jsx(le,{className:"w-6 h-6"})});if(e==="horizontal")return c.jsxs("div",{ref:x,className:"flex items-center gap-2 px-2 select-none",style:{width:"120px"},onClick:G,children:[c.jsx("button",{onClick:A,className:"text-gray-400 hover:text-zinc-300 flex-shrink-0",children:c.jsx(le,{className:"w-5 h-5"})}),c.jsx("div",{ref:w,className:"flex-1 relative cursor-pointer",style:{height:"24px"},onMouseDown:g,onTouchStart:I,children:c.jsx("div",{className:"absolute top-1/2 left-0 right-0 -translate-y-1/2 h-1 bg-zinc-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gray-400 rounded-full transition-all duration-100",style:{width:`${i*100}%`}})})})]});const pe=r?{position:"fixed",top:`${r.top}px`,left:`${r.left}px`,transform:l==="down"?"translate(-50%, 8px)":"translate(-50%, calc(-100% - 8px))"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return c.jsxs("div",{className:"fixed inset-0 z-50",children:[c.jsx("div",{className:"fixed inset-0",onClick:t,onTouchStart:D=>D.preventDefault(),onTouchMove:D=>D.preventDefault()}),c.jsx("div",{className:"relative z-10 bg-zinc-900 rounded-lg py-4 px-0 shadow-xl border border-zinc-700",style:pe,children:c.jsxs("div",{className:"h-[200px] w-[38px] cursor-pointer group relative touch-none mx-auto",children:[c.jsx("div",{ref:w,onMouseDown:f,onTouchStart:C,className:"absolute inset-0"}),c.jsxs("div",{className:"h-full w-1 bg-zinc-800 rounded-full relative flex flex-col justify-end mx-auto",children:[c.jsx("div",{className:"w-full bg-gray-400 rounded-full transition-all",style:{height:`${i*100}%`}}),c.jsx("div",{className:"absolute left-1/2 w-4 h-4 bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",style:{bottom:`${i*100}%`,transform:"translate(-50%, 50%)"}})]})]})})]})}const Y0=[{path:"/",label:"Home",icon:v0,key:"home"},{path:"/artists",label:"Artists",icon:yo,key:"artists"},{path:"/albums",label:"Albums",icon:pa,key:"albums"},{path:"/songs",label:"Songs",icon:T0,key:"songs"},{path:"/genres",label:"Genres",icon:Bl,key:"genres"},{path:"/playlists",label:"Playlists",icon:I0,key:"playlists"}];function q0(){const e=Ut(),{pageVisibility:t}=vt(),{state:n}=$o(),[r,l]=v.useState(!1),o=Y0.filter(a=>a.key==="home"?!0:t[a.key]),s=(a,u)=>{window.dispatchEvent(new CustomEvent("closePlayerModal")),e.pathname===u&&a.preventDefault()},i=e.pathname.startsWith("/artists/")&&e.pathname!=="/artists";return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 lg:hidden",style:{bottom:"calc(env(safe-area-inset-bottom) - 8px)"},children:[c.jsxs("div",{className:"relative h-16",children:[c.jsx("div",{className:"max-w-[600px] mx-auto h-full",children:c.jsx("div",{className:"flex justify-around items-center h-full",children:o.map(a=>{const u=e.pathname===a.path,h=a.icon;return c.jsxs(bu,{to:a.path,onClick:d=>s(d,a.path),className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${u?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:[c.jsx(h,{className:"w-5 h-5 mb-1"}),c.jsx("span",{className:"text-xs font-medium",children:a.label})]},a.path)})})}),c.jsx("div",{className:"absolute right-4 top-3.5 hidden lg:block",children:!ht()&&c.jsx(pt,{variant:"horizontal"})})]}),r&&!ht()&&c.jsx(pt,{variant:"vertical",onClose:()=>l(!1)})]}),c.jsx("nav",{className:"fixed left-0 top-0 bottom-16 bg-black z-30 hidden lg:flex flex-col",style:{width:"4rem",top:n!=="idle"?"28px":"0px"},children:c.jsx("div",{className:`absolute inset-0 flex flex-col items-center justify-center ${i?"border-r border-zinc-800":""}`,children:o.map((a,u)=>{const h=e.pathname===a.path,d=a.icon;return c.jsxs(bu,{to:a.path,onClick:m=>s(m,a.path),className:`flex flex-col items-center justify-center py-5 transition-colors ${h?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"} ${u<o.length-1?"mb-0":""}`,style:{marginBottom:u<o.length-1?"0px":"0"},children:[c.jsx(d,{className:"w-6 h-6 mb-2"}),c.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:a.label})]},a.path)})})})]})}function wa(){return se(e=>{const{songs:t,currentIndex:n}=e;return n>=0&&t[n]?t[n]:null})}function Sa(){return se(e=>e.lastPlayedTrack)}function vo({src:e,alt:t,className:n="",fallback:r,style:l,showOutline:o,rounded:s="rounded",onError:i}){const[a,u]=v.useState(e),[h,d]=v.useState(!1),[m,w]=v.useState(!1);v.useEffect(()=>{u(e),d(!1),w(!1)},[e]);const k=()=>{!h&&r?(u(r),d(!0)):i?(i(),w(!0)):u('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23333" width="300" height="300"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="20" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3ENo Image%3C/text%3E%3C/svg%3E')};return m?null:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:a,alt:t,className:`block ${n}`,onError:k,loading:"lazy",style:l}),o&&c.jsx("div",{className:`absolute inset-0 pointer-events-none border ${s}`,style:{borderColor:"rgba(24, 24, 27, 0.6)",borderWidth:"1px"}})]})}function Wu(){return c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-zinc-800 border-t-[var(--accent-color)]"})}function X0({isOpen:e,onClose:t,children:n,zIndex:r=110}){const[l,o]=v.useState(!1),[s,i]=v.useState(!1);if(v.useEffect(()=>{if(e)o(!1),i(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(!0)})}),document.body.style.overflow="hidden";else{o(!1);const u=setTimeout(()=>{i(!1),document.body.style.overflow=""},300);return()=>{clearTimeout(u),document.body.style.overflow=""}}},[e]),!s)return null;const a=c.jsxs("div",{className:"fixed inset-0",style:{zIndex:r},children:[c.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,onClick:t}),c.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-zinc-900 rounded-t-2xl shadow-2xl transform transition-transform duration-300 ease-out ${l?"translate-y-0":"translate-y-full"}`,onClick:u=>u.stopPropagation(),children:c.jsx("div",{className:"pb-safe pt-4",children:c.jsx("div",{className:"max-w-[768px] mx-auto w-full",children:n})})})]});return ua.createPortal(a,document.body)}function K0({item:e,itemType:t,isOpen:n,onClose:r,zIndex:l,onNavigate:o,mode:s="mobile",position:i}){const a=sl(),[u,h]=v.useState(!1),[d,m]=v.useState(null),[w,k]=v.useState(null),{playTrack:x,playAlbum:S,addToQueueWithToast:p,playNext:f,shuffleArtist:g,toggleShuffle:I}=se(),{startSync:y,completeSync:N}=$o(),{genres:C}=we(),P=v.useRef(e),T=v.useRef(t);v.useEffect(()=>{P.current=e,T.current=t},[e,t]),v.useEffect(()=>{if(!n||!e){k(null);return}(async()=>{var R,F;try{if(t==="album"){const E=await H.getAlbumTracks(e.Id);E.length>0&&((R=E[0].Genres)!=null&&R[0])&&k(E[0].Genres[0])}else if(t==="artist"){const{songs:E}=await H.getArtistItems(e.Id);E.length>0&&((F=E[0].Genres)!=null&&F[0])&&k(E[0].Genres[0])}}catch(E){console.error("Failed to fetch genre:",E)}})()},[n,e==null?void 0:e.Id,t]);const A=O=>{if(!O)return null;const R=C.find(F=>{var E;return((E=F.Name)==null?void 0:E.toLowerCase())===O.toLowerCase()});return(R==null?void 0:R.Id)||null},G=v.useCallback(async O=>{var E,_,$,B,W;const R=P.current,F=T.current;if(R){if(O.startsWith("goTo")){if(r(),o&&o(),O==="goToArtist"){const U=((_=(E=R.ArtistItems)==null?void 0:E[0])==null?void 0:_.Id)||("AlbumArtists"in R?(B=($=R.AlbumArtists)==null?void 0:$[0])==null?void 0:B.Id:void 0);U&&a(`/artist/${U}`)}else if(O==="goToAlbum")R.AlbumId&&a(`/album/${R.AlbumId}`);else if(O==="goToGenre"){const U=F==="album"||F==="artist"?w:(W=R.Genres)==null?void 0:W[0];if(U){const Z=A(U);if(Z)a(`/genre/${Z}`);else{const fe=(await H.getGenres()).find(ze=>{var oe;return((oe=ze.Name)==null?void 0:oe.toLowerCase())===U.toLowerCase()});fe!=null&&fe.Id&&a(`/genre/${fe.Id}`)}}}return}h(!0),m(O);try{switch(F){case"album":{if(O==="play"){const U=await H.getAlbumTracks(R.Id),{shuffle:Z}=se.getState();Z&&I(),S(U)}else if(O==="shuffle"){const U=await H.getAlbumTracks(R.Id),{shuffle:Z}=se.getState();Z&&I(),S(U),requestAnimationFrame(()=>{const{shuffle:de}=se.getState();de||I()})}else if(O==="playNext"){const U=await H.getAlbumTracks(R.Id);f(U)}else if(O==="addToQueue"){const U=await H.getAlbumTracks(R.Id);p(U)}else if(O==="sync"){y("context-menu",`Syncing ${R.Name}...`);try{await H.getAlbumTracks(R.Id),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"song":{if(O==="play")console.log("ContextMenu: Playing song",R.Name),x(R);else if(O==="playNext")console.log("ContextMenu: Adding song to play next",R.Name),f([R]);else if(O==="addToQueue")console.log("ContextMenu: Adding song to queue",R.Name),p([R]);else if(O==="sync"){y("context-menu",`Syncing ${R.Name}...`);try{const U=await H.getSongById(R.Id);if(U.Genres){const Z=await H.getGenres();U.Genres.forEach(de=>{const fe=Z.find(ze=>{var oe;return((oe=ze.Name)==null?void 0:oe.toLowerCase())===de.toLowerCase()});fe!=null&&fe.Id&&we.getState().clearGenreSongsForGenre(fe.Id)})}N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"artist":{if(O==="shuffle"){const{songs:U}=await H.getArtistItems(R.Id);g(U)}else if(O==="playNext"){const{songs:U}=await H.getArtistItems(R.Id);f(U)}else if(O==="addToQueue"){const{songs:U}=await H.getArtistItems(R.Id);p(U)}else if(O==="sync"){y("context-menu",`Syncing ${R.Name}...`);try{await H.getArtistItems(R.Id),N(!0,`${R.Name} synced`)}catch{N(!1,`Failed to sync ${R.Name}`)}}break}case"playlist":{if(O==="play"){const U=await H.getAlbumTracks(R.Id),{shuffle:Z}=se.getState();Z&&I(),S(U)}else if(O==="shuffle"){const U=await H.getAlbumTracks(R.Id),{shuffle:Z}=se.getState();Z&&I(),S(U),requestAnimationFrame(()=>{const{shuffle:de}=se.getState();de||I()})}else if(O==="playNext"){const U=await H.getAlbumTracks(R.Id);f(U)}else if(O==="addToQueue"){const U=await H.getAlbumTracks(R.Id);p(U)}break}}r()}catch(U){console.error("Context menu action failed:",U)}finally{h(!1),m(null)}}},[r,o,a,w,A,x,S,p,f,g,I,y,N]);if(!e||!t)return null;const pe=(()=>{var O,R,F,E,_,$,B;switch(t){case"album":{const W=((R=(O=e.ArtistItems)==null?void 0:O[0])==null?void 0:R.Name)||("AlbumArtists"in e?(E=(F=e.AlbumArtists)==null?void 0:F[0])==null?void 0:E.Name:void 0)||"Artist",U=w||"Genre";return[{id:"play",label:"Play",icon:sn},{id:"shuffle",label:"Shuffle",icon:Xn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El},{id:"goToArtist",label:`Go to ${W}`,icon:yo},{id:"goToGenre",label:`Go to ${U}`,icon:Bl},{id:"sync",label:"Sync",icon:ps}]}case"song":{const W=(($=(_=e.ArtistItems)==null?void 0:_[0])==null?void 0:$.Name)||e.AlbumArtist||"Artist",U=e.Album||"Album",Z=((B=e.Genres)==null?void 0:B[0])||"Genre";return[{id:"play",label:"Play",icon:sn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El},{id:"goToArtist",label:`Go to ${W}`,icon:yo},{id:"goToAlbum",label:`Go to ${U}`,icon:pa},{id:"goToGenre",label:`Go to ${Z}`,icon:Bl},{id:"sync",label:"Sync",icon:ps}]}case"artist":return[{id:"shuffle",label:"Shuffle",icon:Xn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El},{id:"goToGenre",label:`Go to ${w||"Genre"}`,icon:Bl},{id:"sync",label:"Sync",icon:ps}];case"playlist":return[{id:"play",label:"Play",icon:sn},{id:"shuffle",label:"Shuffle",icon:Xn},{id:"playNext",label:"Play Next",icon:Cl},{id:"addToQueue",label:"Add to Queue",icon:El}];default:return[]}})(),D=e.Name||"Unknown";if(s==="desktop"&&n){const R=Math.min(400,pe.length*44+8);let F=(i==null?void 0:i.x)||100,E=(i==null?void 0:i.y)||100;return F+240>window.innerWidth&&(F=window.innerWidth-240-10),E+R>window.innerHeight&&(E=window.innerHeight-R-10),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:r,style:{zIndex:l-1}}),c.jsx("div",{className:"fixed z-50 bg-zinc-900 border border-zinc-700 rounded-lg shadow-2xl py-1 min-w-[200px]",style:{left:F,top:E,zIndex:l},onClick:_=>_.stopPropagation(),children:c.jsx("div",{className:"space-y-0",children:pe.map(_=>{const $=_.icon,B=u&&d===_.id;return c.jsxs("button",{onClick:()=>G(_.id),disabled:u,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-zinc-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",children:[c.jsx($,{className:"w-4 h-4 text-white flex-shrink-0"}),c.jsx("span",{className:"flex-1 text-sm text-white",children:_.label}),B&&c.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin flex-shrink-0"})]},_.id)})})})]})}return c.jsx(X0,{isOpen:n,onClose:r,zIndex:l,children:c.jsxs("div",{className:"pb-6",children:[c.jsx("div",{className:"mb-4 ml-4",children:c.jsx("div",{className:"text-lg font-semibold text-white break-words",children:D})}),c.jsx("div",{className:"space-y-1",children:pe.map(O=>{const R=O.icon,F=u&&d===O.id;return c.jsxs("button",{onClick:()=>G(O.id),disabled:u,className:"w-full flex items-center gap-4 pl-4 pr-4 py-3 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(R,{className:"w-5 h-5 text-white"}),c.jsx("span",{className:"flex-1 text-left text-white font-medium",children:O.label}),F&&c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]},O.id)})})]})})}function J0({onLongPress:e,onClick:t,delay:n=500,moveThreshold:r=10}){const l=v.useRef(null),o=v.useRef(null),s=v.useRef(!1),i=v.useRef(null),a=v.useRef(!1),u=v.useCallback(m=>{s.current=!1,a.current=!1,o.current=m.target,!("button"in m&&m.button!==0)&&(m.preventDefault(),"touches"in m&&m.touches.length>0?i.current={x:m.touches[0].clientX,y:m.touches[0].clientY}:i.current=null,l.current=setTimeout(()=>{a.current||(s.current=!0,e(m))},n))},[e,n]),h=v.useCallback(m=>{if(!i.current||m.touches.length===0)return;const w=m.touches[0].clientX,k=m.touches[0].clientY,x=Math.abs(w-i.current.x),S=Math.abs(k-i.current.y);Math.sqrt(x*x+S*S)>r&&(a.current=!0,l.current&&(clearTimeout(l.current),l.current=null))},[r]),d=v.useCallback(m=>{if("button"in m&&m.button!==0){s.current=!1,a.current=!1,o.current=null,i.current=null;return}const w=s.current;l.current&&(clearTimeout(l.current),l.current=null),t&&o.current===m.target&&!w&&!a.current&&t(m),s.current=!1,a.current=!1,o.current=null,i.current=null},[t]);return{onMouseDown:u,onTouchStart:u,onTouchMove:h,onMouseUp:d,onMouseLeave:m=>{l.current&&(clearTimeout(l.current),l.current=null),s.current=!1,a.current=!1,o.current=null,i.current=null},onTouchEnd:d}}const Z0=45,ey=45,Pl=v.memo(function({track:t,index:n,isCurrent:r,isPlaying:l,showRemoveButton:o=!0,onClick:s,onRemove:i,onReorderDragStart:a,onReorderDragEnd:u,onReorderDrop:h,onContextMenu:d,isDragOver:m,onDragEnterRow:w}){var y,N,C,P;const k=v.useRef(!1),x=J0({onLongPress:T=>{T.preventDefault(),k.current=!0,d(t,"mobile"),setTimeout(()=>{k.current=!1},300)}}),S=v.useCallback(T=>{if(k.current){T.preventDefault(),T.stopPropagation();return}s()},[s]),p=v.useCallback(T=>{T.preventDefault(),k.current=!0,d(t,"desktop",{x:T.clientX,y:T.clientY}),setTimeout(()=>{k.current=!1},300)},[d,t]),f=v.useCallback(T=>{T.preventDefault(),T.dataTransfer.dropEffect="move"},[]),g=v.useCallback(T=>{T.preventDefault(),r||w(n)},[r,w,n]),I=v.useCallback(T=>{r||h(T,n)},[r,h,n]);return c.jsxs("div",{onDragOver:f,onDragEnter:g,onDrop:I,className:`queue-row flex items-center gap-3 p-3 ${r?"cursor-pointer":"hover:bg-zinc-900 cursor-pointer"} ${r?"bg-zinc-900":""} relative focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] focus-visible:ring-inset`,onClick:r?void 0:S,onContextMenu:p,tabIndex:0,role:"button","aria-label":`${t.Name} by ${t.AlbumArtist||((N=(y=t.ArtistItems)==null?void 0:y[0])==null?void 0:N.Name)||"Unknown Artist"}`,...x,children:[m&&!r&&c.jsx("div",{className:"absolute left-3 right-3 top-0 h-0.5 bg-[var(--accent-color)] rounded-full pointer-events-none"}),c.jsx("div",{className:"queue-drag-art w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 ml-1",children:c.jsx(vo,{src:H.getAlbumArtUrl(t.AlbumId||t.Id,96),alt:t.Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-sm font-medium truncate ${r?"text-[var(--accent-color)]":"text-white"}`,children:t.Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:t.AlbumArtist||((P=(C=t.ArtistItems)==null?void 0:C[0])==null?void 0:P.Name)||"Unknown Artist"})]}),r?c.jsx("button",{onClick:T=>{T.stopPropagation(),s()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":l?"Pause":"Play",children:l?c.jsx(el,{className:"w-5 h-5"}):c.jsx(sn,{className:"w-5 h-5"})}):c.jsx(c.Fragment,{children:o&&c.jsxs(c.Fragment,{children:[c.jsx("button",{draggable:!0,onMouseDown:T=>T.stopPropagation(),onTouchStart:T=>T.stopPropagation(),onDragStart:T=>{T.stopPropagation(),a(T,n)},onDragEnd:T=>{T.stopPropagation(),u()},className:"text-gray-500 hover:text-zinc-300 transition-colors p-2 cursor-grab active:cursor-grabbing focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Drag to reorder",children:c.jsx(p0,{className:"w-4 h-4"})}),i&&c.jsx("button",{onClick:T=>{T.stopPropagation(),i()},className:"text-gray-400 hover:text-zinc-300 transition-colors p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-color)] rounded","aria-label":"Remove from queue",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})});function Tf({onNavigateFromContextMenu:e,header:t,contentPaddingBottom:n="8rem"}){const[r,l]=v.useState(!1),[o,s]=v.useState(null),[i,a]=v.useState("mobile"),[u,h]=v.useState(null),[d,m]=v.useState(null),[w,k]=v.useState(null),[x,S]=v.useState(Z0),[p,f]=v.useState(!1),[g,I]=v.useState(!1),y=v.useRef(null),{songs:N,currentIndex:C,isPlaying:P,togglePlayPause:T,skipToTrack:A,removeFromQueue:G,reorderQueue:le,isFetchingRecommendations:pe,isLoadingMoreSongs:D}=se(),{showQueueRecommendations:O,setShowQueueRecommendations:R,recommendationsQuality:F}=vt(),E=v.useCallback((z,V)=>{z.dataTransfer.effectAllowed="move",z.dataTransfer.setData("text/plain",V.toString()),k(V),y.current=V;const Q=z.currentTarget,te=Q==null?void 0:Q.closest(".queue-row");if(te&&z.dataTransfer.setDragImage){const tt=te.querySelector(".queue-drag-art")??te,nt=tt.getBoundingClientRect();z.dataTransfer.setDragImage(tt,nt.width/2,nt.height/2)}},[]),_=v.useCallback(()=>{k(null),m(null),y.current=null},[]),$=v.useCallback((z,V)=>{z.preventDefault();const Q=z.dataTransfer.getData("text/plain")||z.dataTransfer.getData("text/html"),te=parseInt(Q,10);if(Number.isNaN(te))return;const ut=y.current??te,tt=se.getState().songs,nt=tt[ut],Ft=tt[V];if(nt&&Ft&&nt.source!==Ft.source){m(null),k(null),y.current=null;return}te!==V&&le(te,V),m(null),k(null),y.current=null},[le]),B=v.useCallback((z,V="mobile",Q)=>{s(z),a(V),h(Q||null),l(!0)},[]),W=v.useCallback(z=>{if(y.current==null)return;const V=se.getState().songs,Q=V[y.current],te=V[z];if(!(!Q||!te)){if(Q.source!==te.source){m(null);return}m(z)}},[]),U=C>=0?N[C]:null,Z=N.filter((z,V)=>V<C);let de=-1;for(let z=N.length-1;z>C;z--)if(N[z].source==="user"){de=z;break}const fe=N.filter((z,V)=>V<=C?!1:de!==-1?V<=de:!1),ze=N.filter((z,V)=>z.source!=="recommendation"||V<=C?!1:de!==-1?V>de:!0);let oe=x;const X=Z.slice(-Math.min(oe,Z.length));oe-=X.length,oe-=U?1:0;const et=fe.slice(0,Math.max(0,oe));oe-=et.length;const Fe=ze.slice(0,Math.max(0,oe));return v.useEffect(()=>{const z=document.querySelector(".queue-list-container");if(!z)return;const V=()=>{const Q=z.scrollTop,te=z.clientHeight,ut=z.scrollHeight;Q+te*2.5>=ut&&S(tt=>Math.min(tt+ey,N.length))};return z.addEventListener("scroll",V,{passive:!0}),V(),()=>z.removeEventListener("scroll",V)},[N.length]),v.useEffect(()=>{if(pe){const z=setTimeout(()=>{I(!0)},2e3);return()=>clearTimeout(z)}else I(!1)},[pe]),c.jsx("div",{className:"flex-1 flex flex-col min-h-0 w-full relative",children:c.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 queue-list-container w-full",style:{paddingBottom:"8rem"},children:[c.jsxs("div",{className:"max-w-[864px] mx-auto w-full",children:[t,N.length===0&&!U?c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 py-10",children:c.jsx("p",{children:"Queue is empty"})}):c.jsxs("div",{children:[X.length>0&&p&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Previous"}),c.jsx("button",{onClick:()=>f(!1),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Hide"})]}),X.map((z,V)=>{const Q=N.indexOf(z);return c.jsx(Pl,{track:z,index:Q,isCurrent:!1,isPlaying:!1,showRemoveButton:!1,onClick:()=>A(Q),onReorderDragStart:E,onReorderDragEnd:_,onReorderDrop:$,onContextMenu:B,isDragOver:!1,onDragEnterRow:W},`${z.Id}-${V}`)})]}),U&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Now Playing"}),X.length>0&&!p&&c.jsx("button",{onClick:()=>f(!0),className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Show Previous"})]}),c.jsx(Pl,{track:U,index:C,isCurrent:!0,isPlaying:P,showRemoveButton:!1,onClick:T,onReorderDragStart:E,onReorderDragEnd:_,onReorderDrop:$,onContextMenu:B,isDragOver:!1,onDragEnterRow:W})]}),et.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Coming Up"}),c.jsx("button",{onClick:()=>{const V=N.filter((te,ut)=>ut<=C||te.source==="recommendation"),Q=Math.min(C,V.length-1);se.setState({songs:V,currentIndex:Q,standardOrder:V.filter(te=>te.source==="user").map(te=>te.Id),shuffleOrder:V.filter(te=>te.source==="user").map(te=>te.Id)})},className:"text-xs font-semibold text-gray-300 hover:opacity-80 transition-opacity tracking-wider",children:"Clear"})]}),et.map((z,V)=>{const Q=N.indexOf(z);return c.jsx(Pl,{track:z,index:Q,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>A(Q),onRemove:()=>G(Q),onReorderDragStart:E,onReorderDragEnd:_,onReorderDrop:$,onContextMenu:B,isDragOver:d===Q,onDragEnterRow:W},`${z.Id}-${V}`)}),D&&c.jsxs("div",{className:"flex items-center justify-center py-4",children:[c.jsx(Wu,{}),c.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Loading more songs..."})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 pb-0 pt-7 flex items-center justify-between",children:[c.jsx("div",{className:"text-base font-bold text-white tracking-wider",children:"Recommendations"}),c.jsx("button",{onClick:()=>{const z=!O;if(R(z),!z){const V=N.filter((Q,te)=>te<=C?!0:Q.source==="user");se.setState({songs:V,currentIndex:C,standardOrder:V.filter(Q=>Q.source==="user").map(Q=>Q.Id),shuffleOrder:V.filter(Q=>Q.source==="user").map(Q=>Q.Id)})}},className:`relative w-12 h-6 rounded-full transition-colors ${O?"bg-[var(--accent-color)]":"bg-zinc-600"}`,children:c.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${O?"translate-x-6":"translate-x-0"}`})})]}),(g||F==="failed")&&c.jsxs("div",{className:"px-4 pb-2",children:[g&&c.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"Syncing genres..."}),!pe&&F==="failed"&&c.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"Sync library in settings"})]}),O&&c.jsxs(c.Fragment,{children:[Fe.map((z,V)=>{const Q=N.indexOf(z);return c.jsx(Pl,{track:z,index:Q,isCurrent:!1,isPlaying:!1,showRemoveButton:!0,onClick:()=>A(Q),onRemove:()=>G(Q),onReorderDragStart:E,onReorderDragEnd:_,onReorderDrop:$,onContextMenu:B,isDragOver:d===Q,onDragEnterRow:W},`${z.Id}-${V}`)}),g&&c.jsx("div",{className:"px-4 pt-4 pb-6 flex justify-center",children:c.jsx(Wu,{})})]})]})]})]}),c.jsx(K0,{item:o,itemType:o?"song":null,isOpen:r,onClose:()=>{l(!1),s(null)},onNavigate:e,mode:i,position:u||void 0})]})})}function ty({onClose:e,onNavigateFromContextMenu:t}){const n=v.useRef(null),[r,l]=v.useState(!1),[o,s]=v.useState(null),{songs:i,currentIndex:a,isPlaying:u,shuffle:h,repeat:d,togglePlayPause:m,toggleShuffle:w,toggleRepeat:k,next:x,previous:S}=se(),p=a>=0&&a<i.length-1,f=a>0;return c.jsxs("div",{className:"flex-1 flex flex-col min-h-0 w-full",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx(Tf,{onNavigateFromContextMenu:t,contentPaddingBottom:"8rem"}),c.jsx("div",{ref:n,className:"px-6 pt-2 space-y-6 flex-shrink-0 max-w-[864px] mx-auto w-full",style:{paddingBottom:"1.5rem"},children:c.jsxs("div",{className:"flex items-center justify-center gap-8 relative",children:[c.jsx("button",{onClick:w,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${h?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("button",{onClick:S,disabled:!f,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${f?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(va,{className:"w-8 h-8"})}),c.jsx("button",{onClick:m,className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:u?c.jsx(el,{className:"w-8 h-8"}):c.jsx(sn,{className:"w-8 h-8"})}),c.jsx("button",{onClick:x,disabled:!p,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${p?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-zinc-600 cursor-not-allowed"}`,children:c.jsx(xa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:k,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${d!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:d==="one"?c.jsx(ga,{className:"w-6 h-6"}):c.jsx(ya,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 hidden md:flex md:-mr-6",children:!ht()&&c.jsx(pt,{variant:"horizontal"})})]})}),r&&o&&!ht()&&c.jsx(pt,{variant:"vertical",onClose:()=>l(!1),popoverPosition:o})]})}function ny(){const e=wa(),t=Sa(),n=e||t,[r,l]=v.useState(null),[o,s]=v.useState(!1);return v.useEffect(()=>{(async()=>{if(!n){l(null);return}s(!0);try{const a=await H.getLyrics(n.Id);l(a)}catch(a){console.error("Failed to fetch lyrics:",a),l(null)}finally{s(!1)}})()},[n==null?void 0:n.Id]),n?c.jsx("div",{className:"fixed left-0 right-0 bg-zinc-900 z-[55] flex flex-col",style:{top:"calc(var(--header-offset, 0px) + env(safe-area-inset-top) + 4rem)",bottom:"calc(11rem + env(safe-area-inset-bottom))"},children:c.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 px-6 py-4 relative",children:[c.jsx("div",{className:"sticky left-0 right-0 h-16 bg-gradient-to-b from-zinc-900 via-zinc-900/50 to-transparent pointer-events-none z-10 -mx-6",style:{top:"-24px"}}),o?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"text-gray-400",children:"Loading lyrics..."})}):r?c.jsx("div",{className:"max-w-[768px] mx-auto pb-8",children:c.jsx("div",{className:"text-white text-left whitespace-pre-line leading-relaxed",children:r.split(`
`).map((i,a)=>c.jsx("div",{className:"mb-2",children:i},a))})}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"text-gray-400 text-center",children:"This song has no lyrics"})}),c.jsx("div",{className:"sticky left-0 right-0 h-16 bg-gradient-to-t from-zinc-900 via-zinc-900/50 to-transparent pointer-events-none z-10 -mx-6",style:{bottom:"-16px"}})]})}):null}function ry({onClose:e,onClosingStart:t,closeRef:n}){const r=sl(),{songs:l,currentIndex:o,isPlaying:s,currentTime:i,duration:a,shuffle:u,repeat:h,togglePlayPause:d,next:m,previous:w,seek:k,setVolume:x,toggleShuffle:S,toggleRepeat:p,playTrack:f}=se(),g=wa(),I=Sa(),y=g||I,[N,C]=v.useState(!1);v.useEffect(()=>{C(!1)},[]);const[P,T]=v.useState(!1),[A,G]=v.useState(!1),[le,pe]=v.useState(null),[D,O]=v.useState("up"),[R,F]=v.useState(null),[E,_]=v.useState(null),[$,B]=v.useState(!1),[W,U]=v.useState(!1),[Z,de]=v.useState(!1),[fe,ze]=v.useState(!1),oe=v.useRef(null),X=v.useRef(null),et=v.useRef(null),Fe=v.useRef(null),z=v.useRef(!1),V=v.useRef(null);v.useEffect(()=>{const b=window.getComputedStyle(document.body).overflowY,Y=window.getComputedStyle(document.documentElement).overflowY,K=document.getElementById("root")?window.getComputedStyle(document.getElementById("root")).overflowY:"N/A";document.body.style.overflowY="hidden",document.documentElement.style.overflowY="hidden";const De=document.getElementById("root");return De&&(De.style.overflowY="hidden"),()=>{document.body.style.overflowY=b,document.documentElement.style.overflowY=Y,De&&(De.style.overflowY=K!=="N/A"?K:"")}},[]),v.useEffect(()=>{requestAnimationFrame(()=>{de(!0)})},[]);const Q=o>=0&&o<l.length-1,te=o>0;v.useEffect(()=>{(async()=>{if(!y){B(!1);return}try{const Y=await H.getLyrics(y.Id),K=Y!==null&&Y.trim().length>0;B(K)}catch(Y){console.warn("[PlayerModal] Lyrics check failed:",Y),B(!1)}})()},[y]);const ut=b=>{if(!b)return"Unknown";if(b.Name&&b.Name.trim())return b.Name;const Y=b.Path;return Y&&typeof Y=="string"&&(Y.split("/").pop()||Y.split("\\").pop())||"Unknown"},tt=b=>{var Y,K;return b&&(b.AlbumArtist||((K=(Y=b.ArtistItems)==null?void 0:Y[0])==null?void 0:K.Name))||""};if(v.useEffect(()=>{"mediaSession"in navigator&&y&&(navigator.mediaSession.metadata=new MediaMetadata({title:ut(y),artist:tt(y),album:y.Album||"",artwork:[{src:H.getAlbumArtUrl(y.AlbumId||y.Id,512),sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",d),navigator.mediaSession.setActionHandler("pause",d),navigator.mediaSession.setActionHandler("previoustrack",w),navigator.mediaSession.setActionHandler("nexttrack",m))},[y,s,d,m,w]),v.useEffect(()=>{ze(!1)},[y==null?void 0:y.Id]),!y)return null;const nt=a>0?i/a*100:0,Ft=b=>{const Y=Math.floor(b/60),K=Math.floor(b%60);return`${Y}:${K.toString().padStart(2,"0")}`},M=()=>{if(y.Name&&y.Name.trim())return y.Name;const b=y.Path;return b&&typeof b=="string"&&(b.split("/").pop()||b.split("\\").pop())||"Unknown"},ae=()=>{var b,Y;return y.AlbumArtist||((Y=(b=y.ArtistItems)==null?void 0:b[0])==null?void 0:Y.Name)},me=y.AlbumId&&y.Album&&y.Album.trim(),St=b=>{if(!oe.current||!a||z.current)return;const Y=oe.current.getBoundingClientRect(),K=(b.clientX-Y.left)/Y.width;k(Math.max(0,Math.min(1,K))*a)},hn=b=>{if(!oe.current||!a)return;z.current=!0,V.current=b.clientX;const Y=oe.current.getBoundingClientRect(),K=(b.clientX-Y.left)/Y.width;k(Math.max(0,Math.min(1,K))*a)},Bt=()=>{z.current=!1,V.current=null},dr=b=>{if(!oe.current||!a)return;b.stopPropagation(),z.current=!0;const Y=b.touches[0],K=oe.current.getBoundingClientRect(),De=(Y.clientX-K.left)/K.width;k(Math.max(0,Math.min(1,De))*a)},Rf=b=>{if(!z.current||!oe.current||!a)return;b.stopPropagation(),b.preventDefault();const Y=b.touches[0],K=oe.current.getBoundingClientRect(),De=(Y.clientX-K.left)/K.width;k(Math.max(0,Math.min(1,De))*a)},_f=b=>{b.stopPropagation(),z.current=!1,V.current=null};v.useEffect(()=>{const b=K=>{if(!z.current||!oe.current||!a)return;const De=oe.current.getBoundingClientRect(),bo=(K.clientX-De.left)/De.width;k(Math.max(0,Math.min(1,bo))*a)},Y=()=>{z.current&&(z.current=!1,V.current=null)};return document.addEventListener("mousemove",b),document.addEventListener("mouseup",Y),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",Y)}},[a,k]);const il=()=>{U(!0),t==null||t(),setTimeout(()=>{e()},300)},Af=(b="up")=>{const Y=b==="down"?E:R;if(Y){const K=Y.getBoundingClientRect();pe({top:b==="down"?K.bottom:K.top,left:K.left+K.width/2}),O(b),G(!0)}};v.useEffect(()=>(n&&(n.current=il),()=>{n&&(n.current=null)}),[n]);const Lf=b=>{N||P||(X.current=b.touches[0].clientY,et.current=Date.now())},Mf=b=>{if(N||P||X.current===null)return;const K=b.touches[0].clientY-X.current;if(K>0&&Fe.current){const De=Math.min(K,window.innerHeight*.5);Fe.current.style.transform=`translateY(${De}px)`}},zf=b=>{if(N||P||X.current===null||et.current===null){X.current=null,et.current=null,Fe.current&&(Fe.current.style.transform="");return}const K=b.changedTouches[0].clientY-X.current,De=Date.now()-et.current,bo=50,Df=.3;Fe.current&&(Fe.current.style.transform="");const Of=K/De;(K>bo||K>30&&Of>Df)&&il(),X.current=null,et.current=null};return c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
      @media (min-aspect-ratio: 4/3) and (min-width: 768px) {
        .landscape\\:flex-row { flex-direction: row; }
        .landscape\\:items-center { align-items: center; }
        .landscape\\:gap-8 { gap: 2rem; }
        .landscape\\:order-1 { order: 1; }
        .landscape\\:flex-shrink-0 { flex-shrink: 0; }
        .landscape\\:order-2 { order: 2; }
        .landscape\\:text-left { text-align: left; }
        .landscape\\:flex-1 { flex: 1; }
        .landscape\\:max-w-xs { max-width: 20rem; }
        .landscape\\:justify-start { justify-content: flex-start; }
        .landscape\\:mx-0 { margin-left: 0; margin-right: 0; }
      }

      @media (min-width: 1024px) {
        .lg\\:max-w-\\[864px\\] { max-width: 864px; }
      }
    `}),c.jsxs("div",{ref:Fe,onTouchStart:Lf,onTouchMove:Mf,onTouchEnd:zf,className:`fixed left-0 right-0 bg-zinc-900 z-[70] flex flex-col transition-transform duration-300 ease-out ${W?"translate-y-full":Z?"translate-y-0":"translate-y-full"}`,style:{top:"var(--header-offset, 0px)",paddingTop:"calc(env(safe-area-inset-top) + var(--header-offset, 0px))",bottom:"calc(-1 * env(safe-area-inset-bottom))",height:"calc(100% + env(safe-area-inset-bottom) + var(--header-offset, 0px))",transition:X.current===null?"transform 300ms ease-out":"none"},children:[c.jsxs("div",{className:"flex items-center justify-between p-4 relative",children:[c.jsx("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:c.jsx("button",{onClick:il,className:"text-white hover:text-zinc-300 transition-colors z-10 flex-shrink-0",children:c.jsx(c0,{className:"w-8 h-8"})})}),P&&y&&c.jsx("h2",{className:"absolute left-0 right-0 text-center text-white text-sm sm:text-base font-medium px-20 truncate",children:M()}),c.jsxs("div",{className:"flex items-center gap-2 z-10 flex-shrink-0",children:[c.jsx("div",{className:`md:hidden ${P?"hidden":""}`,children:!ht()&&c.jsx(pt,{variant:"compact",onOpenPopover:()=>Af("down"),onRef:_,className:"text-white hover:text-zinc-300 transition-colors p-2"})}),$&&!N&&c.jsx("button",{onClick:()=>T(!P),className:`transition-colors p-2 ${P?"text-[var(--accent-color)] hover:text-[var(--accent-color)]":"text-white hover:text-zinc-300"}`,children:c.jsx(P0,{className:"w-6 h-6"})}),c.jsx("button",{onClick:()=>{N||T(!1),C(!N)},className:"text-white hover:text-zinc-300 transition-colors p-2 xl:hidden",children:N?c.jsx(b0,{className:"w-6 h-6"}):c.jsx(Pf,{className:"w-6 h-6"})})]})]}),N?c.jsx(ty,{onClose:()=>C(!1),onNavigateFromContextMenu:()=>{il()}}):c.jsxs("div",{className:"flex-1 flex flex-col min-h-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full relative",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("div",{className:"flex-1 overflow-hidden min-h-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full flex flex-col items-center px-4 sm:px-8 md:pr-0",children:c.jsxs("div",{className:"w-full flex flex-col items-center landscape:flex-row landscape:items-center landscape:gap-8",children:[c.jsx("div",{className:"landscape:order-1 landscape:flex-shrink-0",children:c.jsx("div",{className:`rounded overflow-hidden mb-4 lg:mb-8 bg-zinc-900 ${fe?"":"shadow-2xl"}`,style:{width:"clamp(224px, min(70vw, 50vh), 480px)",height:"clamp(224px, min(70vw, 50vh), 480px)",maxWidth:"100%"},children:fe?c.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-zinc-900 flex items-center justify-center relative",children:c.jsx("img",{src:"/assets/vinyl.png",alt:"Vinyl Record",className:"w-full h-full object-cover",onError:b=>{console.error("Failed to load vinyl image"),b.currentTarget.style.display="none"}})}):c.jsx(vo,{src:H.getAlbumArtUrl(y.AlbumId||y.Id),alt:y.Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded",onError:()=>ze(!0)})})}),c.jsxs("div",{className:"text-center landscape:text-left w-full landscape:order-2 landscape:flex-1 landscape:max-w-xs",children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:M()}),ae()&&c.jsxs("button",{onClick:()=>{var Y,K;const b=(K=(Y=y.ArtistItems)==null?void 0:Y[0])==null?void 0:K.Id;b&&(e(),r(`/artist/${b}`))},className:"flex items-center justify-start landscape:justify-start gap-2 text-gray-400 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left max-w-full min-w-0",children:[c.jsx(yo,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:ae()})]}),me&&c.jsxs("button",{onClick:()=>{e(),r(`/album/${y.AlbumId}`)},className:"flex items-center justify-start landscape:justify-start gap-2 text-gray-400 text-base sm:text-lg hover:text-white transition-colors mx-auto landscape:mx-0 landscape:text-left mt-1 max-w-full min-w-0",children:[c.jsx(pa,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"break-words min-w-0",children:y.Album})]})]})]})})}),c.jsxs("div",{className:"pt-2 space-y-6 flex-shrink-0 mt-4 sm:mt-0 max-w-[768px] lg:max-w-[864px] mx-auto w-full",style:{paddingBottom:"1.5rem"},children:[c.jsx("div",{className:"space-y-3 px-4 w-full",children:c.jsxs("div",{className:"max-w-[768px] lg:max-w-[864px] mx-auto",children:[c.jsx("div",{ref:oe,className:"h-2 bg-zinc-800 rounded-full cursor-pointer w-full select-none overflow-hidden",onClick:St,onMouseDown:hn,onMouseUp:Bt,onMouseLeave:Bt,onTouchStart:dr,onTouchMove:Rf,onTouchEnd:_f,children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${nt}%`,borderTopLeftRadius:"9999px",borderBottomLeftRadius:"9999px",borderTopRightRadius:nt>=100?"9999px":"0",borderBottomRightRadius:nt>=100?"9999px":"0"}})}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[c.jsx("span",{children:Ft(i)}),c.jsx("span",{children:Ft(a)})]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 relative",children:[c.jsx("button",{onClick:S,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${u?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("button",{onClick:w,disabled:!te,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${te?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(va,{className:"w-8 h-8"})}),c.jsx("button",{onClick:()=>{g?d():y&&f(y)},className:"w-16 h-16 flex items-center justify-center rounded-full transition-colors aspect-square bg-[var(--accent-color)] text-white hover:opacity-90",children:s&&g?c.jsx(el,{className:"w-8 h-8"}):c.jsx(sn,{className:"w-8 h-8"})}),c.jsx("button",{onClick:m,disabled:!Q,className:`w-12 h-12 flex-shrink-0 aspect-square flex items-center justify-center rounded-full transition-colors ${Q?"text-white hover:bg-zinc-800 active:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(xa,{className:"w-8 h-8"})}),c.jsx("button",{onClick:p,className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${h!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:h==="one"?c.jsx(ga,{className:"w-6 h-6"}):c.jsx(ya,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 hidden md:flex",children:!ht()&&c.jsx(pt,{variant:"horizontal"})})]})]})]}),P&&c.jsx(ny,{}),A&&le&&!ht()&&c.jsx(pt,{variant:"vertical",onClose:()=>G(!1),popoverPosition:le,popoverDirection:D})]})]})}function ly(){var ut,tt,nt,Ft;const{songs:e,currentIndex:t,isPlaying:n,currentTime:r,duration:l,audioElement:o,setAudioElement:s,togglePlayPause:i,next:a,setCurrentTime:u,setDuration:h,playTrack:d,repeat:m,shuffle:w,toggleShuffle:k,toggleRepeat:x,previous:S,seek:p,skipToTrack:f,isQueueSidebarOpen:g,toggleQueueSidebar:I}=se(),y=wa(),N=Sa(),[C,P]=v.useState(!1),[T,A]=v.useState(!1),[G,le]=v.useState(!1),[pe,D]=v.useState(!1),[O,R]=v.useState(null),[F,E]=v.useState(null),[_,$]=v.useState(null),B=v.useRef(null),W=v.useRef(null),U=Ut(),Z=v.useRef(null),de=v.useRef(null),fe=v.useRef(null);v.useEffect(()=>{C&&(A(!0),setTimeout(()=>{P(!1),A(!1)},300))},[U.pathname]),v.useEffect(()=>{P(!1),A(!1)},[]),v.useEffect(()=>{const M=()=>{C&&W.current&&W.current()};return window.addEventListener("closePlayerModal",M),()=>{window.removeEventListener("closePlayerModal",M)}},[C]);const ze=()=>{A(!0),setTimeout(()=>{P(!1),A(!1)},300)};v.useEffect(()=>{B.current||(B.current=new Audio,B.current.setAttribute("playsinline","true"),B.current.setAttribute("preload","auto"),s(B.current));const M=B.current;if(!M)return;const ae=()=>{u(M.currentTime)},me=()=>{h(M.duration)},St=async()=>{if(y)try{await H.markItemAsPlayed(y.Id),setTimeout(()=>{window.dispatchEvent(new CustomEvent("trackPlayed",{detail:{trackId:y.Id}}))},4e3)}catch{}if(m==="one"&&M){M.currentTime=0,M.play();return}a()},hn=()=>{se.setState({isPlaying:!0})},Bt=()=>{se.setState({isPlaying:!1})};return M.addEventListener("timeupdate",ae),M.addEventListener("loadedmetadata",me),M.addEventListener("ended",St),M.addEventListener("play",hn),M.addEventListener("pause",Bt),()=>{M.removeEventListener("timeupdate",ae),M.removeEventListener("loadedmetadata",me),M.removeEventListener("ended",St),M.removeEventListener("play",hn),M.removeEventListener("pause",Bt)}},[s,u,h,a]),v.useEffect(()=>{B.current&&(B.current.volume=se.getState().volume)},[]),v.useEffect(()=>{if(y&&!n&&o){const M=H.serverBaseUrl,ae=M?`${M}/Audio/${y.Id}/stream?static=true`:"";o.src!==ae&&(o.src=ae,o.load())}},[y,n,o]),v.useEffect(()=>{if(o&&y&&!n){const M=H.serverBaseUrl,ae=M?`${M}/Audio/${y.Id}/stream?static=true`:"";o.src!==ae&&(o.src=ae,o.load())}},[o,y,n]);const oe=e.length>0?e[0]:null,X=y||N||oe;v.useEffect(()=>{le(!1)},[X==null?void 0:X.Id]);const et=l>0?r/l*100:0,Fe=e.length>0&&(t<0||t<e.length-1||m==="all"),z=t>0,V=()=>{const ae=window.innerWidth<768?_:F;if(ae){const me=ae.getBoundingClientRect();R({top:me.top,left:me.left+me.width/2}),D(!0)}},Q=M=>{Z.current=M.touches[0].clientX,de.current=Date.now()},te=M=>{if(Z.current===null||de.current===null){Z.current=null,de.current=null;return}const me=M.changedTouches[0].clientX-Z.current,St=Date.now()-de.current,hn=50,Bt=.3,dr=Math.abs(me)/St;me>hn||me>30&&dr>Bt?z&&S():(me<-hn||me<-30&&dr>Bt)&&Fe&&a(),Z.current=null,de.current=null};return X?c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:fe,className:"fixed left-0 right-0 bg-zinc-900 border-t border-zinc-800 z-40 cursor-pointer bottom-[calc(4rem-8px)] lg:bottom-0",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:()=>{P(!0)},onTouchStart:Q,onTouchEnd:te,children:[X&&c.jsx("div",{className:"hidden lg:block absolute left-0 right-0 cursor-pointer group",style:{top:"-10px",height:"24px"},onClick:M=>{if(M.stopPropagation(),!l)return;const ae=M.currentTarget.getBoundingClientRect(),me=(M.clientX-ae.left)/ae.width;p(Math.max(0,Math.min(1,me))*l)},onTouchStart:M=>{if(M.stopPropagation(),!l)return;const ae=M.touches[0],me=M.currentTarget.getBoundingClientRect(),St=(ae.clientX-me.left)/me.width;p(Math.max(0,Math.min(1,St))*l)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":l||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 bottom-[10px] h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${et}%`}})})}),c.jsxs("div",{className:"hidden md:block md:relative md:px-4 md:py-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0 max-w-[37%]",children:[!G&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(vo,{src:H.getAlbumArtUrl((y||X).AlbumId||(y||X).Id,96),alt:(y||X).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>le(!0)},(y==null?void 0:y.Id)||X.Id)}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(y||X).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:(y||X).AlbumArtist||((tt=(ut=(y||X).ArtistItems)==null?void 0:ut[0])==null?void 0:tt.Name)||"Unknown Artist"})]})]}),c.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 md:right-16 md:left-auto md:translate-x-0 lg:left-1/2 lg:right-auto lg:-translate-x-1/2 flex items-center gap-2",children:[c.jsx("button",{onClick:M=>{M.stopPropagation(),k()},"aria-label":w?"Disable shuffle":"Enable shuffle",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${w?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:c.jsx(Xn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:M=>{M.stopPropagation(),z&&S()},disabled:!z,"aria-label":"Previous track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${z?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(va,{className:"w-5 h-5"})}),c.jsx("button",{onClick:M=>{M.stopPropagation(),y?i():e.length>0?f(0):X&&d(X)},"aria-label":n&&y?"Pause":"Play",className:"w-10 h-10 mx-2 flex items-center justify-center rounded-full transition-colors text-white bg-[var(--accent-color)] hover:opacity-90",children:n&&y?c.jsx(el,{className:"w-5 h-5"}):c.jsx(sn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:M=>{M.stopPropagation(),Fe&&a()},disabled:!Fe,"aria-label":"Next track",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${Fe?"text-white hover:bg-zinc-800":"text-gray-600 cursor-not-allowed"}`,children:c.jsx(xa,{className:"w-5 h-5"})}),c.jsx("button",{onClick:M=>{M.stopPropagation(),x()},"aria-label":m==="off"?"Enable repeat":m==="all"?"Repeat one":"Disable repeat",className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${m!=="off"?"text-[var(--accent-color)]":"text-gray-400 hover:text-zinc-300"}`,children:m==="one"?c.jsx(ga,{className:"w-5 h-5"}):c.jsx(ya,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-4",children:[c.jsx("div",{className:"hidden xl:block",children:!g&&c.jsx("button",{onClick:M=>{M.stopPropagation(),I()},className:"text-gray-400 hover:text-white transition-colors flex items-center justify-center w-10 h-10",title:"Open Queue","aria-label":"Open queue",children:c.jsx(Pf,{className:"w-5 h-5"})})}),c.jsx("div",{className:"hidden lg:block",onClick:M=>M.stopPropagation(),children:!ht()&&c.jsx(pt,{variant:"horizontal"})}),c.jsx("div",{className:"hidden md:block lg:hidden",children:!ht()&&c.jsx(pt,{variant:"compact",onOpenPopover:V,onRef:E,className:"w-10 h-10 flex items-center justify-center text-white hover:text-zinc-300 transition-colors"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 py-3 pr-3 pl-4 md:hidden",children:[!G&&c.jsx("div",{className:"w-12 h-12 rounded-sm overflow-hidden flex-shrink-0 bg-zinc-900",children:c.jsx(vo,{src:H.getAlbumArtUrl((y||X).AlbumId||(y||X).Id,96),alt:(y||X).Name,className:"w-full h-full object-cover",showOutline:!0,rounded:"rounded-sm",onError:()=>le(!0)},(y==null?void 0:y.Id)||X.Id)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate",children:(y||X).Name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:(y||X).AlbumArtist||((Ft=(nt=(y||X).ArtistItems)==null?void 0:nt[0])==null?void 0:Ft.Name)||"Unknown Artist"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!ht()&&c.jsx(pt,{variant:"compact",onOpenPopover:V,onRef:$,className:"text-white hover:text-zinc-300 transition-colors"}),c.jsx("button",{onClick:M=>{M.stopPropagation(),y?i():e.length>0?f(0):X&&d(X)},"aria-label":n&&y?"Pause":"Play",className:"w-10 h-10 flex items-center justify-center text-white hover:bg-zinc-800 rounded-full transition-colors",children:n&&y?c.jsx(el,{className:"w-5 h-5"}):c.jsx(sn,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"lg:hidden",style:{marginBottom:"-10px"},children:X&&c.jsx("div",{className:"relative cursor-pointer group flex items-center",style:{height:"24px"},onClick:M=>{if(M.stopPropagation(),!l)return;const ae=M.currentTarget.getBoundingClientRect(),me=(M.clientX-ae.left)/ae.width;p(Math.max(0,Math.min(1,me))*l)},onTouchStart:M=>{if(M.stopPropagation(),!l)return;const ae=M.touches[0],me=M.currentTarget.getBoundingClientRect(),St=(ae.clientX-me.left)/me.width;p(Math.max(0,Math.min(1,St))*l)},role:"slider","aria-label":"Seek","aria-valuemin":0,"aria-valuemax":l||100,"aria-valuenow":r,children:c.jsx("div",{className:"absolute left-0 right-0 h-1 bg-zinc-800 group-hover:bg-zinc-600 transition-colors duration-200",children:c.jsx("div",{className:"h-full bg-[var(--accent-color)] transition-all",style:{width:`${et}%`}})})})})]}),C&&c.jsx(ry,{onClose:ze,onClosingStart:()=>A(!0),closeRef:W}),pe&&O&&!ht()&&c.jsx(pt,{variant:"vertical",onClose:()=>D(!1),popoverPosition:O})]}):null}function oy(){const{state:e,message:t,cancelSync:n}=$o(),{isQueueSidebarOpen:r}=se();if(e==="idle")return null;const l=()=>{switch(e){case"syncing":return"bg-zinc-800";case"success":return"bg-green-800";case"error":return"bg-red-800";default:return"bg-zinc-800"}};return c.jsx("div",{className:`fixed top-0 left-0 right-0 z-[10002] ${l()} transition-colors duration-300 lg:pl-16`,style:{height:"28px",top:"0px",paddingRight:r?"var(--sidebar-width)":"0px"},children:c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center h-full",children:c.jsxs("div",{className:"w-full max-w-[768px] h-full flex items-center justify-between px-4",children:[c.jsx("span",{className:"text-white text-sm font-medium truncate",children:t}),e==="syncing"&&c.jsx("button",{onClick:n,className:"text-white text-sm font-medium hover:text-zinc-300 transition-colors",children:"Cancel"})]})})})}const q={log:(...e)=>{},warn:(...e)=>{},error:(...e)=>{console.error(...e)},debug:(...e)=>{}},gs=new Set;async function sy(e){const t=e.toLowerCase();if(!gs.has(t)){gs.add(t);try{q.log(`[Recommendations] Auto-syncing genre "${e}" for better recommendations...`);const{genres:n,setGenreSongs:r}=we.getState();let l=n;l.length===0&&(l=await H.getGenres());const o=l.find(i=>i.Name&&e&&i.Name.toLowerCase()===e.toLowerCase());if(!o||!o.Id){q.warn(`[Recommendations] Genre "${e}" not found in server`);return}q.log(`[Recommendations] Fetching songs for genre "${e}"...`);const s=await H.getGenreSongs(o.Id,e);s.length>0?(r(o.Id,s),q.log(`[Recommendations]  Successfully cached ${s.length} songs for genre "${e}"`)):q.warn(`[Recommendations] No songs found for genre "${e}" on server`)}catch(n){q.error(`[Recommendations] Failed to sync genre "${e}":`,n)}finally{setTimeout(()=>{gs.delete(t)},1e4)}}}async function iy({currentTrack:e,queue:t}){var I;if(!e)return{recommendations:[],hasGenreMatches:!1};const{songs:n,genreSongs:r,genres:l}=we.getState(),o=e.Genres||[];let s=[];if(o.length>0&&l.length>0){const y=l.filter(N=>N.Name&&o.some(C=>C.toLowerCase()===N.Name.toLowerCase())).map(N=>N.Id).filter(N=>r[N]&&r[N].length>0);y.length>0&&(s=y.flatMap(N=>r[N]),q.log(`[Recommendations] Using ${s.length} pre-filtered songs from ${y.length} matching genres`))}if(s.length===0&&n.length>0&&(s=n,q.log(`[Recommendations] Using ${s.length} songs from main cache`)),s.length===0){const y=Object.values(r).flat();y.length>0&&(s=y,q.log(`[Recommendations] Using ${s.length} songs from all genre caches`))}if(s.length===0){const{setRecommendationsQuality:y}=vt.getState();return y("failed"),{recommendations:[],hasGenreMatches:!1}}q.log("[Recommendations] Using",s.length,"available songs"),q.log("[Recommendations] Current track genres:",o,"(count:",o.length+")"),q.log("[Recommendations] Current track year:",e.ProductionYear),q.log("[Recommendations] Queue size:",t.length),q.log("[Recommendations] Sample available songs:",s.slice(0,3).map(y=>{var N;return`${y.Name} (${y.ProductionYear}) [${(N=y.Genres)==null?void 0:N.join(", ")}]`}));let i=[],a=!1;const u=e.ProductionYear,h=u?[{range:3,years:Array.from({length:7},(y,N)=>u-3+N)},{range:6,years:Array.from({length:13},(y,N)=>u-6+N)},{range:10,years:Array.from({length:21},(y,N)=>u-10+N)}]:[],d=y=>{const N=y.Id!==e.Id,C=!t.some(T=>T.Id===y.Id),P=!i.some(T=>T.Id===y.Id);return N&&C&&P},m=y=>{var N;return o.length===0?!0:((N=y.Genres)==null?void 0:N.some(C=>o.some(P=>C.toLowerCase()===P.toLowerCase())))??!1},w=(y,N)=>u?y.ProductionYear!==void 0&&N.includes(y.ProductionYear):!0;let k=0;if(o.length>0&&(k=s.filter(y=>m(y)).length,k===0)){for(const y of o)sy(y).catch(N=>q.error(`[Recommendations] Genre sync failed for ${y}:`,N));return{recommendations:[],hasGenreMatches:!1,triggeredGenreSync:!0}}for(const{range:y,years:N}of h){if(i.length>=12){q.log(`[Recommendations] Have ${i.length} recommendations, stopping at ${y} year range`);break}const C=12-i.length,P=s.filter(T=>!(!d(T)||!m(T)||!w(T,N)));if(q.log(`[Recommendations] Year range ${y}: found ${P.length} candidates, need ${C}`),P.length>0){const A=jl(P).slice(0,C);i.push(...A),q.log(`[Recommendations] Added ${A.length} songs from ${y} year range`)}}if(i.length<12&&!u&&o.length>0){const y=12-i.length,N=s.filter(T=>!(!d(T)||!m(T))),P=jl(N).slice(0,y);i.push(...P),q.log(`[Recommendations] Added ${P.length} genre-only songs (no year on seed track)`)}if(i.length<12&&u&&o.length===0)for(const{range:y,years:N}of h){if(i.length>=12)break;const C=12-i.length,P=s.filter(G=>!(!d(G)||!w(G,N))),A=jl(P).slice(0,C);i.push(...A),q.log(`[Recommendations] Added ${A.length} year-only songs from ${y} range (no genre on seed track)`)}a=o.length>0&&i.some(y=>m(y)),q.log("[Recommendations] Matching results:",{totalRecommendations:i.length,genreMatchSuccess:a,hasGenres:o.length>0,hasYear:!!u});const x=jl(i),S=[],p=[...x];for(;p.length>0&&S.length<12;){let y=-1;if(S.length>0){const P=((I=S[S.length-1].ArtistItems)==null?void 0:I.map(T=>T.Id))||[];y=p.findIndex(T=>{var G;return!(((G=T.ArtistItems)==null?void 0:G.map(le=>le.Id))||[]).some(le=>P.includes(le))})}y===-1&&(y=0);const N=p.splice(y,1)[0];S.push(N)}const f=S,{setRecommendationsQuality:g}=vt.getState();return q.log("[Recommendations] Quality decision:",{finalRecommendationsCount:f.length,genreMatchSuccess:a,hasGenres:o.length>0,availableSongsCount:s.length}),f.length===0?g("failed"):!a&&o.length>0?g("degraded"):g("good"),q.log(`[Recommendations] Generated ${f.length} recommendations`),f.length>0&&q.log("[Recommendations] Sample:",f.slice(0,3).map(y=>y.Name)),{recommendations:f,hasGenreMatches:a,triggeredGenreSync:!1}}function jl(e){if(e.length<=1)return[...e];const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function ay(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function uy(e){var l;if(e.length<=1)return e;const t=ay(e),n=[],r=[...t];for(;r.length>0;){let o=-1;if(n.length>0){const a=((l=n[n.length-1].ArtistItems)==null?void 0:l.map(u=>u.Id))||[];o=r.findIndex(u=>{var d;return!(((d=u.ArtistItems)==null?void 0:d.map(m=>m.Id))||[]).some(m=>a.includes(m))})}o===-1&&(o=0);const s=r.splice(o,1)[0];n.push(s)}return n}function cy(){const{songs:e,currentIndex:t,addToQueue:n,refreshCurrentTrack:r,isFetchingRecommendations:l,setIsFetchingRecommendations:o}=se(),{showQueueRecommendations:s}=vt(),i=v.useRef([]),a=v.useRef(!1),u=v.useRef(0),h=v.useRef(0),d=v.useRef(0),m=3;v.useEffect(()=>{i.current=e.slice(-20)},[e]),v.useEffect(()=>{u.current=0,h.current=0,d.current=0},[t]),v.useEffect(()=>{u.current=0,h.current=0,d.current=0},[s]),v.useEffect(()=>{const w=e.slice(t+1).filter(f=>f.source==="recommendation").length,k=Date.now()-u.current,x=Date.now()-h.current;if(!!!(s&&!a.current&&!l&&t>=0&&w<12&&k>1e4&&x>5e3))return w>=12,void 0;(async()=>{var g;a.current=!0,o(!0);const f=setTimeout(()=>{a.current=!1,o(!1)},3e4);try{await r();const I=e[t];if(!I)return;const y=[I],N=[t-1,t+1,t+2];for(const R of N)if(R>=0&&R<e.length&&y.length<3){const F=e[R];F&&!y.some(E=>E.Id===F.Id)&&y.push(F)}const C=[];for(const R of y){q.log(`[Recommendations] Generating recommendations for seed: ${R.Name}`);const F=await iy({currentTrack:R,queue:e,recentQueue:i.current,lastPlayedTrack:null});if(q.log(`[Recommendations] Result for seed ${R.Name}:`,{recommendationsCount:((g=F.recommendations)==null?void 0:g.length)||0,hasGenreMatches:F.hasGenreMatches,triggeredGenreSync:F.triggeredGenreSync,resultType:typeof F,isArray:Array.isArray(F)}),F.triggeredGenreSync){if(d.current+=1,d.current>m){q.warn("[Recommendations] Max retries reached, giving up"),u.current=Date.now();const{setRecommendationsQuality:_}=vt.getState();_("failed");return}const E=15e3*Math.pow(2,d.current-1);q.log(`[Recommendations] Genre sync triggered (attempt ${d.current}/${m}), retry in ${E/1e3}s`),setTimeout(()=>{u.current=0},E);return}F.recommendations&&Array.isArray(F.recommendations)?C.push(F):q.warn(`[Recommendations] Invalid result for seed ${R.Name}:`,F)}const P=C.filter(R=>R.hasGenreMatches);if(q.log(`[Recommendations] ${P.length} out of ${y.length} seeds found genre matches`),P.length===0){const{setRecommendationsQuality:R}=vt.getState();R("degraded"),q.log("[Recommendations] No genre matches found - falling back to year/artist only")}const T=e.slice(t+1).filter(R=>R.source==="recommendation").length,A=Math.max(0,12-T);if(A===0){q.log("[Recommendations] Already have 12 upcoming recommendations, skipping");return}q.log(`[Recommendations] Currently have ${T} upcoming, need ${A} more to reach 12`);const G=P.length>0?P:C,le=Math.ceil(A/G.length),pe=[];for(const R of G){const F=R.recommendations.filter(_=>{const $=e.some(W=>W.Id===_.Id),B=pe.some(W=>W.Id===_.Id);return!$&&!B}),E=F.slice(0,le);pe.push(...E),q.log(`[Recommendations] Added ${E.length} recommendations from seed (${F.length} available, genreMatch: ${R.hasGenreMatches})`)}const D=pe.slice(0,A),O=uy(D);q.log(`[Recommendations] Final ${D.length} recommendations (distributed across ${y.length} seeds)`),O.length>0?(q.log(`[Recommendations] Adding ${O.length} recommendations (had ${T}, will have ${T+O.length})`),q.log("[Recommendations] Recommendations to add:",O.map(R=>R.Name)),u.current=0,h.current=Date.now(),d.current=0,n(O,!1,"recommendation"),q.log("[Recommendations] Successfully added recommendations to queue")):(q.log("[Recommendations] No safe recommendations to add - marking as failed attempt"),u.current=Date.now())}catch(I){q.error("[Recommendations Hook] Failed to get recommendations:",I),a.current=!1,o(!1)}finally{clearTimeout(f),a.current=!1,o(!1)}})()},[e,t,n,r,s,l,o])}function dy(){const{isQueueSidebarOpen:e,toggleQueueSidebar:t}=se();return v.useEffect(()=>{const n=r=>{r.key==="Escape"&&e&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t]),e?c.jsxs("div",{className:"fixed top-0 right-0 bottom-0 bg-black border-l border-zinc-800 z-30 flex flex-col hidden xl:flex shadow-xl",style:{width:"var(--sidebar-width)",paddingTop:"var(--header-offset, 0px)"},children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800 flex-shrink-0",children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-wider",children:"Queue"}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-zinc-800",children:c.jsx(jf,{className:"w-5 h-5"})})]}),c.jsx(Tf,{contentPaddingBottom:"8rem"})]}):null}const Yu={slate:"#64748b",gray:"#6b7280",zinc:"#71717a",neutral:"#737373",stone:"#78716c",red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e"};function fy({children:e}){cy();const{accentColor:t}=vt(),{genres:n,songs:r,genreSongs:l}=we(),{state:o}=$o(),{isQueueSidebarOpen:s}=se(),i=a=>{const u=[...a];for(let h=u.length-1;h>0;h--){const d=Math.floor(Math.random()*(h+1));[u[h],u[d]]=[u[d],u[h]]}return u};return v.useEffect(()=>{const a=Yu[t]||Yu.blue;document.documentElement.style.setProperty("--accent-color",a)},[t]),v.useEffect(()=>{const a=o!=="idle"?"28px":"0px";document.documentElement.style.setProperty("--header-offset",a)},[o]),v.useEffect(()=>{n.length===0&&H.getGenres().catch(a=>{console.warn("Background genre preload failed:",a)})},[n.length]),v.useEffect(()=>{const a=we.getState(),u=r.length+Object.values(l).flat().length;u>0&&a.shufflePool.length===0?a.refreshShufflePool():u===0&&setTimeout(async()=>{try{const d=(await H.getSongs({limit:1})).TotalRecordCount||1e3,m=[];for(let S=0;S<3;S++){const p=Math.floor(Math.random()*d);m.push(p)}const w=m.map(S=>H.getSongs({limit:1,sortBy:["SortName"],sortOrder:"Ascending",startIndex:S})),x=(await Promise.all(w)).flatMap(S=>S.Items||[]);if(x.length>0){const S=x.map(p=>({Id:p.Id,Name:p.Name,AlbumArtist:p.AlbumArtist,ArtistItems:p.ArtistItems,Album:p.Album,AlbumId:p.AlbumId,IndexNumber:p.IndexNumber,ProductionYear:p.ProductionYear,PremiereDate:p.PremiereDate,RunTimeTicks:p.RunTimeTicks,Genres:p.Genres}));we.setState({songs:S,shufflePool:i(S),lastPoolUpdate:Date.now()})}}catch(h){console.warn("Minimal song preload failed:",h)}},300)},[r.length,l]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed top-0 right-0 bg-black z-50 pointer-events-none left-0 lg:left-8",style:{height:"env(safe-area-inset-top)",top:o!=="idle"?"28px":"0px"}}),c.jsx(oy,{}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-900 z-40 pointer-events-none lg:hidden",style:{height:"calc(4rem + env(safe-area-inset-bottom) - 8px)"}}),c.jsx("div",{className:"fixed top-0 left-0 bottom-0 bg-black z-30 pointer-events-none hidden lg:block",style:{width:"4rem"}}),c.jsxs("div",{className:`main-scrollable h-screen bg-black text-white lg:pl-16 transition-[padding] duration-300 ${s?"sidebar-open-padding":""}`,style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))",paddingTop:o!=="idle"?"28px":"0",overflowY:"auto",overflowX:"hidden",maxWidth:"100vw",width:"100%",scrollbarGutter:"stable"},children:[c.jsx("div",{className:"max-w-[768px] w-full mx-auto lg:flex lg:justify-center",children:c.jsx("div",{className:"w-full max-w-[768px]",children:e})}),c.jsx(ly,{}),c.jsx(q0,{})]}),c.jsx(dy,{})]})}function my(){const{pathname:e}=Ut();return v.useEffect(()=>{const t=document.querySelector(".main-scrollable");t&&t.scrollTo({top:0,behavior:"auto"})},[e]),null}const hy=v.memo(function({toast:t}){const{removeToast:n}=po(),r={success:c.jsx(a0,{className:"w-4 h-4"}),error:c.jsx(f0,{className:"w-4 h-4"}),info:c.jsx(w0,{className:"w-4 h-4"})},l={success:"bg-zinc-900 border border-zinc-700",error:"bg-red-900/90 border border-red-700",info:"bg-zinc-900 border border-zinc-700"};return c.jsxs("div",{className:`${l[t.type]} text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[200px] max-w-[320px] animate-slide-up`,role:"alert",children:[c.jsx("span",{className:"flex-shrink-0",children:r[t.type]}),c.jsx("span",{className:"flex-1 text-sm font-medium",children:t.message}),c.jsx("button",{onClick:()=>n(t.id),className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/50","aria-label":"Dismiss notification",children:c.jsx(jf,{className:"w-4 h-4"})})]})});function qu(){const{toasts:e}=po();return ua.createPortal(c.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[99999] flex flex-col gap-2 items-center pointer-events-none",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:e.map(t=>c.jsx("div",{className:"pointer-events-auto",children:c.jsx(hy,{toast:t})},t.id))}),document.body)}const py=v.lazy(()=>wt(()=>import("./HomePage-Cy1wAVJA.js"),__vite__mapDeps([0,1,2,3]))),gy=v.lazy(()=>wt(()=>import("./ArtistsPage-1W3zHXj-.js"),__vite__mapDeps([4,1,5,2,6]))),yy=v.lazy(()=>wt(()=>import("./AlbumsPage-Bn38o18z.js"),__vite__mapDeps([7,1,8,5,2,6,3]))),vy=v.lazy(()=>wt(()=>import("./SongsPage-C_NHGkqk.js"),__vite__mapDeps([9,1,8,10,5,2,6,3]))),xy=v.lazy(()=>wt(()=>import("./GenresPage-t0Pb4nZv.js"),[])),wy=v.lazy(()=>wt(()=>import("./PlaylistsPage-D5_SgP-c.js"),__vite__mapDeps([11,1,6]))),Sy=v.lazy(()=>wt(()=>import("./PlaylistDetailPage-BgEk-ARi.js"),__vite__mapDeps([12,13,14]))),ky=v.lazy(()=>wt(()=>import("./SettingsPage-DjYiuh9L.js"),__vite__mapDeps([15,13]))),Iy=v.lazy(()=>wt(()=>import("./ArtistDetailPage-BPmEj2TK.js"),__vite__mapDeps([16,17,13,14,18,6]))),Ny=v.lazy(()=>wt(()=>import("./AlbumDetailPage-BuKLSrNZ.js"),__vite__mapDeps([19,13,14,18]))),Ey=v.lazy(()=>wt(()=>import("./GenreSongsPage-MR7kgmg6.js"),__vite__mapDeps([20,17,10,5,13,6])));function Cy(){return c.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:c.jsx("div",{className:"w-8 h-8 border-2 border-[var(--accent-color)] border-t-transparent rounded-full animate-spin"})})}function Py(){const{isAuthenticated:e,logout:t}=Ef(),{pageVisibility:n}=vt();return v.useEffect(()=>{e&&window.location.search.includes("logout=true")&&(t(),window.location.search="")},[e]),e?c.jsxs(c.Fragment,{children:[c.jsxs(pg,{children:[c.jsx(my,{}),c.jsx(fy,{children:c.jsx(v.Suspense,{fallback:c.jsx(Cy,{}),children:c.jsxs(ig,{children:[c.jsx(We,{path:"/",element:c.jsx(py,{})}),c.jsx(We,{path:"/settings",element:c.jsx(ky,{})}),n.artists&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/artists",element:c.jsx(gy,{})}),c.jsx(We,{path:"/artist/:id",element:c.jsx(Iy,{})})]}),n.albums&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/albums",element:c.jsx(yy,{})}),c.jsx(We,{path:"/album/:id",element:c.jsx(Ny,{})})]}),n.songs&&c.jsx(We,{path:"/songs",element:c.jsx(vy,{})}),n.genres&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/genres",element:c.jsx(xy,{})}),c.jsx(We,{path:"/genre/:id",element:c.jsx(Ey,{})})]}),n.playlists&&c.jsxs(c.Fragment,{children:[c.jsx(We,{path:"/playlists",element:c.jsx(wy,{})}),c.jsx(We,{path:"/playlist/:id",element:c.jsx(Sy,{})})]}),c.jsx(We,{path:"*",element:c.jsx(og,{to:"/",replace:!0})})]})})})]}),c.jsx(qu,{})]}):c.jsxs(c.Fragment,{children:[c.jsx(t0,{}),c.jsx(qu,{})]})}class jy extends v.Component{constructor(){super(...arguments);kt(this,"state",{hasError:!1,error:null,showCopied:!1});kt(this,"handleCopyError",async()=>{var r,l;const n=`Error: ${(r=this.state.error)==null?void 0:r.message}

Stack: ${((l=this.state.error)==null?void 0:l.stack)||"N/A"}`;try{await navigator.clipboard.writeText(n),this.setState({showCopied:!0}),setTimeout(()=>this.setState({showCopied:!1}),2e3)}catch{console.log("Error details:",n)}});kt(this,"handleReload",()=>{window.location.reload()});kt(this,"handleClearAndReload",()=>{localStorage.clear(),indexedDB.deleteDatabase("tunetuna-storage"),window.location.reload()})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"The app encountered an unexpected error. You can try reloading, or clear data if the issue persists."}),c.jsx("div",{className:"bg-zinc-900 rounded-lg p-3 mb-4 text-left",children:c.jsx("p",{className:"text-red-400 text-sm font-mono break-all",children:((n=this.state.error)==null?void 0:n.message)||"Unknown error"})}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:this.handleReload,className:"w-full bg-[var(--accent-color)] hover:brightness-90 text-white font-semibold py-3 px-4 rounded-lg transition-all",children:"Reload App"}),c.jsx("button",{onClick:this.handleClearAndReload,className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Clear Data & Reload"}),c.jsx("button",{onClick:this.handleCopyError,className:"w-full text-gray-400 hover:text-white py-2 px-4 text-sm transition-colors",children:this.state.showCopied?" Copied to clipboard":"Copy error details"})]})]})}):this.props.children}}ys.createRoot(document.getElementById("root")).render(c.jsx(vi.StrictMode,{children:c.jsx(jy,{children:c.jsx(Py,{})})}));const Ty=async()=>{try{const e=await navigator.serviceWorker.getRegistration();e&&(e.waiting&&(console.log("New app version available, activating..."),e.waiting.postMessage({type:"SKIP_WAITING"})),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("New app version installed and ready")})}))}catch(e){console.log("Update check failed:",e)}};"serviceWorker"in navigator&&Ty();export{X0 as B,K0 as C,pa as D,Bl as G,vo as I,El as L,sn as P,ps as R,Xn as S,yo as U,jf as X,se as a,sl as b,re as c,ua as d,H as e,J0 as f,wa as g,Wu as h,Ay as i,c as j,_y as k,el as l,vt as m,Ly as n,Ef as o,$o as p,po as q,v as r,c0 as s,we as u};
