import{r as c}from"./index-Def-zOqH.js";function L({totalCount:t,visibleCount:n,increment:o,setVisibleCount:l,threshold:s=1,enabled:a=!0}){const u=c.useRef(0),f=100,e=c.useCallback(()=>{const r=document.querySelector(".main-scrollable");if(!r)return;const i=Date.now();if(i-u.current<f||(u.current=i,n>=t))return;const{scrollTop:m,clientHeight:p,scrollHeight:S}=r;m+p*(1+s)>=S&&l(d=>Math.min(d+o,t))},[t,n,o,l,s]);c.useEffect(()=>{if(!a)return;const r=document.querySelector(".main-scrollable");if(r)return r.addEventListener("scroll",e,{passive:!0}),e(),()=>{r.removeEventListener("scroll",e)}},[e,a])}export{L as u};
